globals
//globals from cjLib75hJKJ374s4e597nba9o7w45gf:
constant boolean LIBRARY_cjLib75hJKJ374s4e597nba9o7w45gf=true
group cj_tmpgr_copy_nw509ert7
//endglobals from cjLib75hJKJ374s4e597nba9o7w45gf
//globals from cjLibw560nbs9b8nse46703948:
constant boolean LIBRARY_cjLibw560nbs9b8nse46703948=true
boolexpr cj_true_bool_4896bnao87
//endglobals from cjLibw560nbs9b8nse46703948
//globals from FNWEDamageSystem:
constant boolean LIBRARY_FNWEDamageSystem=true
trigger fn_DamageEventTrigger=null
trigger array FNWEDamageSystem__DamageEventQueue
integer FNWEDamageSystem__DamageEventNumber=0
trigger FNWEDamageSystem__MoveItemEventTrigger=null
trigger array FNWEDamageSystem__MoveItemEventQueue
integer FNWEDamageSystem__MoveItemEventNumber=0
//endglobals from FNWEDamageSystem
//globals from GiveItemsHeroes:
constant boolean LIBRARY_GiveItemsHeroes=true
//endglobals from GiveItemsHeroes
//globals from LevelSettings:
constant boolean LIBRARY_LevelSettings=true
//endglobals from LevelSettings
//globals from Natives:
constant boolean LIBRARY_Natives=true
//endglobals from Natives
//globals from setAttribute:
constant boolean LIBRARY_setAttribute=true
integer array setAttribute___abilityAddArmor
integer array setAttribute___abilityRemoveArmor
integer array setAttribute___abilityAddHp
integer array setAttribute___abilityRemoveHp
integer array setAttribute___abilityAddMana
integer array setAttribute___abilityRemoveMana
integer array setAttribute___abilityAddDamage
integer array setAttribute___abilityRemoveDamage
integer array setAttribute___itemAddBaseDamage
integer array setAttribute___abilityAddAttackSpeed
timer setAttribute___Restoration=CreateTimer()
group setAttribute___allUnits=CreateGroup()
region setAttribute___wholeMap
//endglobals from setAttribute
force udg_AI=null
location udg_p=null
timer udg_IncomeTimer=null
force udg_PlayersGroup=null
integer array udg_Income
unit udg_u=null
location array udg_SpawnHeroPoint
location udg_DefPoint=null
location udg_p2=null
integer udg_n=0
group udg_ug=null
real array udg_ItemBonusDMG
texttag udg_TEXT=null
group udg_AllHeroes=null
real udg_r=0
timer udg_EventTimer=null
timerdialog udg_EventTimerWindow=null
player udg_pl=null
dialog udg_ChooseLvlWindow=null
integer udg_AllPoints=0
location array udg_SpawnPoints
integer udg_WaveFase=0
unit udg_Boss=null
group udg_DeadHeroes=null
integer array udg_Hammer
integer array udg_Hammer2
timer array udg_SpawnTimer
timer udg_Every20secTimer=null
button array udg_CTButton
integer udg_PlayersCount=0
location udg_p3=null
timer udg_WeakCreepsUPTimer=null
integer udg_Runs=0
integer udg_Runa=0
integer udg_Rune=0
integer array udg_Runaa
string udg_LvlNameNT
integer udg_Check=0
integer array udg_PlayerNumber
multiboard udg_Board=null
integer array udg_DeathAmountNT
integer array udg_HerokillsAmountNT
integer array udg_KillsAmountNT
integer array udg_TimeNT
player udg_pl2=null
integer udg_PlayerOnline=0
force udg_RandomCheck=null
integer array udg_RH
integer udg_RHMax=0
boolean array udg_RHcheck
integer array udg_ShieldOfDeath
integer array udg_ShieldOfDeath2
timer udg_ExpTimer=null
real udg_r2=0
integer array udg_ExpIncome
integer array udg_Points
timer udg_Every05sec=null
real udg_dmg=0
unit udg_u2=null
boolean array udg_CourierCheck
location udg_DefPoint2=null
integer array udg_ShieldOfDeath3
real udg_dmg2=0
group udg_ug2=null
integer array udg_Hammer3
integer array udg_Elixir3
unit array udg_CTPoint
dialog array udg_CTWindow
integer udg_n2=0
integer array udg_Spear
integer array udg_Spear2
integer array udg_Spear3
integer udg_UnitType=0
integer udg_ItemType=0
boolean array udg_ArhuvariusLogic
integer array udg_PurpleItems
group udg_ConcRing=null
unit udg_BunkerWTarget=null
timer udg_BunkerWTimer=null
group udg_lvl12ug=null
boolean array udg_ArtLogic
integer udg_Lvl=0
integer array udg_EnemyHeroType
integer udg_n3=0
integer udg_n4=0
integer udg_n5=0
integer udg_Reward=0
group udg_NoSkillsGroup=null
boolean array udg_Modifiers
real udg_ModReward=0
integer udg_EnemyHeroLvl=0
integer udg_GIRandom=0
group udg_AttackGroup=null
group udg_AttackGroup2=null
timer udg_ExtraEnemyHero=null
integer array udg_ExtraEnemyHeroType
button udg_BackButton=null
group udg_AutoHireGroup=null
leaderboard udg_HandleBoard=null
timer udg_EndlessEnemyHeroes=null
real udg_Gandikap=0
timer udg_BossTimer=null
real array udg_SpawnTimerCount
group udg_EnemyHeroes=null
string udg_string
unit udg_StormPanda=null
group udg_PandaGroupW=null
integer array udg_Elixir
integer array udg_Elixir2
location udg_StormPandaWPoint=null
integer udg_StormPandaWCount=0
timer udg_StormPandaWTimer=null
real udg_StormPandaWAngle=0
real udg_StormPandaWcof=0
real udg_StormPandaBuff=0
boolean udg_StormPandaD=false
real udg_CrystallHP=0
timer udg_Every60sec=null
unit udg_Legat=null
group udg_LegatQGroup=null
location udg_LegatQPoint=null
timer udg_LegatQTimer=null
integer udg_LegatQCount=0
real udg_LegatE=0
location udg_LegatWPoint=null
integer udg_LegatWCount=0
timer udg_LegatWTimer=null
group udg_LegatWGroup=null
group udg_CrystalCavesGroup=null
boolean udg_Lose=false
integer udg_MaxWave=0
unit udg_Boss2=null
unit udg_Moon=null
timer udg_ApopheosisTimer=null
boolean udg_MoonE=false
integer array udg_GoldAmount
group udg_MoonDisarm=null
timer udg_MoonRTimer=null
location udg_MoonRPoint=null
integer udg_MoonRCount=0
boolean udg_MoonRLogic=false
unit udg_MoonETarget=null
real udg_MoonEDmg=0
unit udg_Bard=null
timer udg_BardRTimer=null
location udg_BardRPoint=null
group udg_AttackGroup3=null
location udg_DefPoint3=null
integer udg_RHlimit=0
timer udg_Every5secTimer=null
unit udg_Kilrogg=null
unit udg_KilroggQUnit=null
real udg_KilroggQUgol=0
timer array udg_KilroggTimer
integer array udg_KilroggCount
group udg_KilroggDGroup=null
boolean udg_KilroggD=false
real udg_KilroggW=0
unit udg_Void=null
unit udg_Silver=null
integer udg_SilverRCount=0
location array udg_SilverPoint
timer array udg_SilverTimer
unit udg_SilverWSpirit=null
location udg_StormPandaRPoint=null
boolean udg_StormPandaRLogic=false
real udg_StormPandaRDmg=0
texttag udg_StormPandaRText=null
timer udg_Every40sec=null
integer array udg_SIncome
group udg_NoGiftArtGroup=null
integer array udg_BonusItems
unit udg_Dreadlord=null
unit array udg_Pet
timer array udg_DreadlordTimer
integer array udg_DreadlordCount
integer array udg_DreadlordQuest
unit udg_DreadlordRTarget=null
group array udg_ItemGroup
hashtable udg_hash=null
button array udg_Button
trigger array udg_TriggerLvl
dialog udg_ModeWindow=null
group array udg_ComplectHellGroup
group udg_NoUltimateGroup=null
integer array udg_BonusItemsSkill
integer udg_Lvl6ItemCondition=0
real udg_ExpTimerCount=0
integer array udg_TealItems1
integer array udg_TealItems2
integer array udg_TealItems3
integer array udg_TealItems4
unit array udg_Hero
real array udg_PlayerExpHandicap
force udg_CheckSaveGroup=null
integer udg_destcount=0
unit udg_Tron=null
trigger udg_RemoveWave=null
unit udg_RuneDefender=null
timer udg_EndWaveTimer=null
integer udg_PurpleItemsCount=0
group udg_DruidRegenGroup=null
rect gg_rct_PickHero=null
rect gg_rct_Event_1=null
rect gg_rct_Event_2=null
rect gg_rct_Event_3=null
rect gg_rct_Event_4=null
rect gg_rct_Zone2=null
rect gg_rct_Zone1=null
rect gg_rct_E1=null
rect gg_rct_E2=null
rect gg_rct_E3=null
rect gg_rct_E4=null
rect gg_rct_Zone3=null
rect gg_rct_GreenSmoke=null
rect gg_rct_Zone4=null
rect gg_rct_Zone5=null
rect gg_rct_Cube=null
rect gg_rct_Zone6=null
rect gg_rct_Zone7=null
rect gg_rct_Zone8=null
rect gg_rct_Zone8_dop=null
rect gg_rct_Lvl2MidUp=null
rect gg_rct_Lvl2MidDown=null
rect gg_rct_Zone9=null
rect gg_rct_Portal1=null
rect gg_rct_Portal2=null
rect gg_rct_Zone16=null
rect gg_rct_DeleteZone23=null
sound gg_snd_Hint=null
trigger gg_trg_globals=null
trigger gg_trg_OrderID=null
trigger gg_trg_Natives=null
trigger gg_trg_LevelSettings=null
trigger gg_trg_Delete=null
trigger gg_trg_Init=null
trigger gg_trg_Init2=null
trigger gg_trg_gold=null
trigger gg_trg_LeavePlayers=null
trigger gg_trg_StartChooseLvl=null
trigger gg_trg_LvlCategories=null
trigger gg_trg_CommonLevelsCategory=null
trigger gg_trg_HardcoreLevelsCategory=null
trigger gg_trg_ChallengeLevelsCategory=null
trigger gg_trg_PreStart=null
trigger gg_trg_Modifiers=null
trigger gg_trg_PreInfo=null
trigger gg_trg_Lvl_1=null
trigger gg_trg_Lvl_2=null
trigger gg_trg_Lvl_3=null
trigger gg_trg_Lvl_4=null
trigger gg_trg_Lvl_5=null
trigger gg_trg_Lvl_6=null
trigger gg_trg_Lvl_7=null
trigger gg_trg_Lvl_8=null
trigger gg_trg_Lvl_9=null
trigger gg_trg_Lvl_11=null
trigger gg_trg_Lvl_12=null
trigger gg_trg_Lvl_13=null
trigger gg_trg_Lvl_15=null
trigger gg_trg_Lvl_16=null
trigger gg_trg_Lvl_21=null
trigger gg_trg_Lvl_22=null
trigger gg_trg_Lvl_23=null
trigger gg_trg_ClearUnusedLevels=null
trigger gg_trg_Tips=null
trigger gg_trg_Multiboard_Inic=null
trigger gg_trg_Refresh=null
trigger gg_trg_Death_Amount_NT=null
trigger gg_trg_Herokills_Amount_NT=null
trigger gg_trg_Kills_Amount_NT=null
trigger gg_trg_Income=null
trigger gg_trg_SIncome=null
trigger gg_trg_IncomeRegister=null
trigger gg_trg_IncomeDestroy=null
trigger gg_trg_ScrollsCreating=null
trigger gg_trg_i=null
trigger gg_trg_mods=null
trigger gg_trg_Change_Gift=null
trigger gg_trg_Complect_Valor=null
trigger gg_trg_Complect_Storm=null
trigger gg_trg_Complect_Abyss=null
trigger gg_trg_Complect_Hell=null
trigger gg_trg_Camera_command=null
trigger gg_trg_clear=null
trigger gg_trg_Pages=null
trigger gg_trg_TakePoints=null
trigger gg_trg_ChangePoints=null
trigger gg_trg_ButtonChangePoints=null
trigger gg_trg_DeadCrystal=null
trigger gg_trg_IMET=null
trigger gg_trg_ISOV=null
trigger gg_trg_ILOD=null
trigger gg_trg_CheckLvl=null
trigger gg_trg_HeroTakeDamage=null
trigger gg_trg_UAttacks=null
trigger gg_trg_USkills=null
trigger gg_trg_UKills=null
trigger gg_trg_IronKnife=null
trigger gg_trg_AllSummon=null
trigger gg_trg_SomeEnemySkills=null
trigger gg_trg_DruidRegen=null
trigger gg_trg_UnitHire=null
trigger gg_trg_Builded=null
trigger gg_trg_Upgrades=null
trigger gg_trg_setAttribute=null
trigger gg_trg_AddStat=null
trigger gg_trg_RemoveStat=null
trigger gg_trg_ChargesConnect=null
trigger gg_trg_SecretGloves=null
trigger gg_trg_SecretChest=null
trigger gg_trg_SecretCrown=null
trigger gg_trg_SecretSword=null
trigger gg_trg_SecretEagle=null
trigger gg_trg_SecretAmulet=null
trigger gg_trg_SecretVelvera=null
trigger gg_trg_SecretGromSekira=null
trigger gg_trg_SecretEthernalNight=null
trigger gg_trg_SecretRoyalEgida=null
trigger gg_trg_SecretSpear=null
trigger gg_trg_SecretSphere=null
trigger gg_trg_SecretSecutor=null
trigger gg_trg_SecretArtAmuletT2=null
trigger gg_trg_SecretPalach=null
trigger gg_trg_SecretAntinomia=null
trigger gg_trg_SecretFlameScepter=null
trigger gg_trg_AlienGrapes=null
trigger gg_trg_TitanGloves=null
trigger gg_trg_T5Necklace=null
trigger gg_trg_T5Shield=null
trigger gg_trg_Scroll1=null
trigger gg_trg_Scroll2=null
trigger gg_trg_Scroll3=null
trigger gg_trg_ItemsUp=null
trigger gg_trg_ItemsUp2=null
trigger gg_trg_ItemsUp3=null
trigger gg_trg_ItemsUp4=null
trigger gg_trg_Mod=null
trigger gg_trg_UseItem=null
trigger gg_trg_ItemAttacksFromHero=null
trigger gg_trg_ItemAttacksToHero=null
trigger gg_trg_TitanRevenge=null
trigger gg_trg_LavaSword=null
trigger gg_trg_FlameScepter=null
trigger gg_trg_ObserverRing=null
trigger gg_trg_RangerBow=null
trigger gg_trg_KnightSword=null
trigger gg_trg_ValorCestus=null
trigger gg_trg_BronzeFist=null
trigger gg_trg_PurgeBlade=null
trigger gg_trg_StormAmulet=null
trigger gg_trg_Excaliburn=null
trigger gg_trg_GromSekira=null
trigger gg_trg_CurseArbalet=null
trigger gg_trg_KillerDagger=null
trigger gg_trg_Gloves=null
trigger gg_trg_BlueSting=null
trigger gg_trg_Velvera=null
trigger gg_trg_ArtSword=null
trigger gg_trg_BloodGloves=null
trigger gg_trg_TitanGlovesDmg=null
trigger gg_trg_BloodyStick=null
trigger gg_trg_RageAxe=null
trigger gg_trg_SeraphimSpear=null
trigger gg_trg_Demolitron=null
trigger gg_trg_ArtSpear=null
trigger gg_trg_FarewellDesire=null
trigger gg_trg_BlueBlade=null
trigger gg_trg_Sulfuras=null
trigger gg_trg_StormAxe=null
trigger gg_trg_StormBlade=null
trigger gg_trg_FrostClaws=null
trigger gg_trg_FrostSword=null
trigger gg_trg_ItemDestructor=null
trigger gg_trg_AbyssComplect1=null
trigger gg_trg_AbyssComplect2=null
trigger gg_trg_FrostArmor=null
trigger gg_trg_StormBoots=null
trigger gg_trg_StormShield=null
trigger gg_trg_DepthShield=null
trigger gg_trg_SaveAmulet=null
trigger gg_trg_SunStone=null
trigger gg_trg_Chests=null
trigger gg_trg_T5ShieldDmg=null
trigger gg_trg_WhiteShield=null
trigger gg_trg_SpearAttacks=null
trigger gg_trg_Every1secSkills=null
trigger gg_trg_Every5secSkills=null
trigger gg_trg_Every60secSkills=null
trigger gg_trg_UseSkills=null
trigger gg_trg_BlueStaff=null
trigger gg_trg_BlueSphere=null
trigger gg_trg_ConstructSphere=null
trigger gg_trg_ForestCrown=null
trigger gg_trg_Pants=null
trigger gg_trg_NewYearGift=null
trigger gg_trg_NewYearGift2=null
trigger gg_trg_NewYearGiftPick=null
trigger gg_trg_Elixir=null
trigger gg_trg_Hammer=null
trigger gg_trg_ShieldOfDeath=null
trigger gg_trg_Spear=null
trigger gg_trg_GrabItem=null
trigger gg_trg_GiveItemsHeroes=null
trigger gg_trg_BossUltimates=null
trigger gg_trg_EnemySkill=null
trigger gg_trg_AllBossesSkillsActivate=null
trigger gg_trg_EnemyHeroDies=null
trigger gg_trg_Move=null
trigger gg_trg_Defeat=null
trigger gg_trg_Win=null
trigger gg_trg_InfinityWaves=null
trigger gg_trg_WeakCreepsUP=null
trigger gg_trg_Exp=null
trigger gg_trg_ExtraEnemyHero=null
trigger gg_trg_EndlessEnemyHeroes=null
trigger gg_trg_PingEnemyHeroes=null
trigger gg_trg_RefreshSpawn1=null
trigger gg_trg_RefreshSpawn2=null
trigger gg_trg_RefreshSpawn3=null
trigger gg_trg_S1=null
trigger gg_trg_SS1=null
trigger gg_trg_SSS1=null
trigger gg_trg_CreateHero1=null
trigger gg_trg_BossDropRune=null
trigger gg_trg_RuneActivate1=null
trigger gg_trg_Hard_S1=null
trigger gg_trg_Hard_SS1=null
trigger gg_trg_Hard_SSS1=null
trigger gg_trg_CreateHero1_Hard=null
trigger gg_trg_S2=null
trigger gg_trg_SS2=null
trigger gg_trg_SSS2=null
trigger gg_trg_CreateHero2_Up=null
trigger gg_trg_CreateHero2_Down=null
trigger gg_trg_Event2=null
trigger gg_trg_MidWay2=null
trigger gg_trg_Hard_S2=null
trigger gg_trg_Hard_SS2=null
trigger gg_trg_Hard_SSS2=null
trigger gg_trg_CreateHero2_Hard_Up=null
trigger gg_trg_CreateHero2_Hard_Down=null
trigger gg_trg_Hard_Event2=null
trigger gg_trg_S3=null
trigger gg_trg_SS3=null
trigger gg_trg_SSS3=null
trigger gg_trg_CreateHero3=null
trigger gg_trg_Event3=null
trigger gg_trg_Hard_S3=null
trigger gg_trg_Hard_SS3=null
trigger gg_trg_Hard_SSS3=null
trigger gg_trg_CreateHero3_Hard=null
trigger gg_trg_SkillBoss3_Hard=null
trigger gg_trg_SkillBoss3_HardSummon=null
trigger gg_trg_Hard_Event3=null
trigger gg_trg_S4=null
trigger gg_trg_SS4=null
trigger gg_trg_SSS4=null
trigger gg_trg_CreateHero4=null
trigger gg_trg_S5=null
trigger gg_trg_SS5=null
trigger gg_trg_SSS5=null
trigger gg_trg_CreateHero5=null
trigger gg_trg_Cube5=null
trigger gg_trg_Hard_S5=null
trigger gg_trg_Hard_SS5=null
trigger gg_trg_Hard_SSS5=null
trigger gg_trg_CreateHero5_Hard=null
trigger gg_trg_S6=null
trigger gg_trg_SS6=null
trigger gg_trg_SSS6=null
trigger gg_trg_CreateHero6=null
trigger gg_trg_Hard_S6=null
trigger gg_trg_Hard_SS6=null
trigger gg_trg_Hard_SSS6=null
trigger gg_trg_CreateHero6_Hard=null
trigger gg_trg_S7=null
trigger gg_trg_SS7=null
trigger gg_trg_SSS7=null
trigger gg_trg_CreateHero7=null
trigger gg_trg_SkillBoss7=null
trigger gg_trg_S8=null
trigger gg_trg_SS8=null
trigger gg_trg_SSS8=null
trigger gg_trg_CreateHero8=null
trigger gg_trg_ExtraEnemyHero_8_lvl=null
trigger gg_trg_Event8=null
trigger gg_trg_WavesEnd=null
trigger gg_trg_EndWaveTimer=null
trigger gg_trg_Wave2=null
trigger gg_trg_Wave3=null
trigger gg_trg_Wave4=null
trigger gg_trg_Wave5=null
trigger gg_trg_Wave6=null
trigger gg_trg_Wave7=null
trigger gg_trg_Wave8=null
trigger gg_trg_Wave9=null
trigger gg_trg_Wave10=null
trigger gg_trg_Wave11=null
trigger gg_trg_Wave12=null
trigger gg_trg_Wave13=null
trigger gg_trg_Wave14=null
trigger gg_trg_Wave15=null
trigger gg_trg_S9=null
trigger gg_trg_SS9=null
trigger gg_trg_SSS9=null
trigger gg_trg_CreateHero9=null
trigger gg_trg_SkillBoss9=null
trigger gg_trg_SkillBoss9_dmg=null
trigger gg_trg_S21=null
trigger gg_trg_SS21=null
trigger gg_trg_SSS21=null
trigger gg_trg_CreateHeroDuo21=null
trigger gg_trg_CreateHero21=null
trigger gg_trg_S22=null
trigger gg_trg_SS22=null
trigger gg_trg_SSS22=null
trigger gg_trg_CreateHero22=null
trigger gg_trg_CreateHero22_extra=null
trigger gg_trg_S23=null
trigger gg_trg_SS23=null
trigger gg_trg_SSS23=null
trigger gg_trg_CreateHero23=null
trigger gg_trg_HeroPick=null
trigger gg_trg_RandomHero=null
trigger gg_trg_RandomHero_Str=null
trigger gg_trg_RandomHero_Agi=null
trigger gg_trg_RandomHero_Int=null
trigger gg_trg_ClearUnusedHeroes=null
trigger gg_trg_DieHero=null
trigger gg_trg_HeroSkills1=null
trigger gg_trg_HeroQ1=null
trigger gg_trg_HeroD1=null
trigger gg_trg_HeroSkills2=null
trigger gg_trg_HeroR2=null
trigger gg_trg_HeroQ2=null
trigger gg_trg_HeroW2=null
trigger gg_trg_HeroE2=null
trigger gg_trg_HeroE2Up=null
trigger gg_trg_HeroDeath2=null
trigger gg_trg_HeroSkills3=null
trigger gg_trg_HeroQ3=null
trigger gg_trg_HeroW3=null
trigger gg_trg_HeroSkills4=null
trigger gg_trg_HeroSkills4_Shotgun=null
trigger gg_trg_HeroGiveSkills4=null
trigger gg_trg_HeroAttack4=null
trigger gg_trg_HeroAttack4_Shotgun=null
trigger gg_trg_HeroKills4=null
trigger gg_trg_HeroSkills5=null
trigger gg_trg_HeroSkills6=null
trigger gg_trg_HeroSkills7=null
trigger gg_trg_HeroSkills8=null
trigger gg_trg_HeroSkills9=null
trigger gg_trg_HeroDeath9=null
trigger gg_trg_HeroSkills10=null
trigger gg_trg_HeroAttack10=null
trigger gg_trg_HeroSkills11=null
trigger gg_trg_HeroKills11=null
trigger gg_trg_HeroAttack11=null
trigger gg_trg_HeroSkills12=null
trigger gg_trg_HeroSkills13=null
trigger gg_trg_HeroSkills14=null
trigger gg_trg_HeroSkills15=null
trigger gg_trg_HeroKills15=null
trigger gg_trg_HeroItems15=null
trigger gg_trg_HeroSkills16=null
trigger gg_trg_HeroD16=null
trigger gg_trg_HeroR16=null
trigger gg_trg_HeroQ16=null
trigger gg_trg_HeroW16=null
trigger gg_trg_HeroW16Up=null
trigger gg_trg_HeroSkills17=null
trigger gg_trg_HeroDeath17=null
trigger gg_trg_HeroSkills18=null
trigger gg_trg_HeroSkills19=null
trigger gg_trg_HeroLvlUp19=null
trigger gg_trg_HeroSkills20=null
trigger gg_trg_HeroDeath20=null
trigger gg_trg_HeroSkills21=null
trigger gg_trg_HeroSkills22=null
trigger gg_trg_HeroAttack22=null
trigger gg_trg_HeroGiveSkills22=null
trigger gg_trg_HeroSkills23=null
trigger gg_trg_HeroW23=null
trigger gg_trg_HeroW23_Stop=null
trigger gg_trg_HeroSkills24=null
trigger gg_trg_HeroSkillCheck24=null
trigger gg_trg_HeroAttack24=null
trigger gg_trg_HeroSkills25=null
trigger gg_trg_HeroKills25=null
trigger gg_trg_HeroSkills26=null
trigger gg_trg_HeroSkills27=null
trigger gg_trg_HeroKills27=null
trigger gg_trg_HeroGiveSkills27=null
trigger gg_trg_HeroSkills28=null
trigger gg_trg_HeroKills28=null
trigger gg_trg_HeroGiveSkills28=null
trigger gg_trg_HeroBuild28=null
trigger gg_trg_HeroSkills29=null
trigger gg_trg_HeroCheckSkills29=null
trigger gg_trg_HeroSkills30=null
trigger gg_trg_HeroSkillE30=null
trigger gg_trg_HeroSkills31=null
trigger gg_trg_HeroSkillR31=null
trigger gg_trg_HeroSkills32=null
trigger gg_trg_HeroSkills33=null
trigger gg_trg_HeroKills33=null
trigger gg_trg_HeroSkills34=null
trigger gg_trg_HeroAttack34=null
trigger gg_trg_HeroSkills35=null
trigger gg_trg_HeroKills35=null
trigger gg_trg_Hero35W=null
trigger gg_trg_Hero35D=null
trigger gg_trg_Hero35DAttack=null
trigger gg_trg_HeroAttack35=null
trigger gg_trg_Hero35Q=null
trigger gg_trg_HeroSkills36=null
trigger gg_trg_HeroAttack36=null
trigger gg_trg_HeroTimerR36=null
trigger gg_trg_HeroSkills37=null
trigger gg_trg_HeroSkills38=null
trigger gg_trg_HeroAttack38=null
trigger gg_trg_HeroD38=null
trigger gg_trg_HeroTimer38_Q=null
trigger gg_trg_HeroTimer38_W=null
trigger gg_trg_HeroTimer38_E=null
trigger gg_trg_HeroKills38=null
trigger gg_trg_HeroSkills39=null
trigger gg_trg_HeroQ39=null
trigger gg_trg_HeroW39=null
trigger gg_trg_HeroTimer39_R_dmg=null
trigger gg_trg_HeroKills39=null
trigger gg_trg_HeroSkills40=null
trigger gg_trg_HeroKills40=null
trigger gg_trg_HeroAttack40=null
trigger gg_trg_HeroAttack40_Alt=null
trigger gg_trg_HeroSkills41=null
trigger gg_trg_HeroSkills42=null
trigger gg_trg_HeroSkills43=null
trigger gg_trg_HeroAttack43=null
trigger gg_trg_HeroKills43=null
trigger gg_trg_HeroSkills44=null
trigger gg_trg_HeroSkillQ44=null
trigger gg_trg_HeroSkillW44=null
trigger gg_trg_HeroGiveSkills44=null
trigger gg_trg_HeroRCheck44=null
trigger gg_trg_HeroSkills45=null
trigger gg_trg_HeroAttack45=null
trigger gg_trg_HeroSkills46=null
trigger gg_trg_HeroCheckSkills46=null
trigger gg_trg_HeroEndSkill46=null
trigger gg_trg_HeroTimerR46=null
trigger gg_trg_HeroSkills49=null
trigger gg_trg_HeroTimerR49=null
trigger gg_trg_HeroTimerW49=null
trigger gg_trg_HeroKills49=null
trigger gg_trg_HeroAttack49=null
trigger gg_trg_HeroQ51=null
trigger gg_trg_HeroW51=null
trigger gg_trg_HeroW51_Stop=null
trigger gg_trg_HeroE51=null
trigger gg_trg_HeroR51=null
trigger gg_trg_HeroD51_var1=null
trigger gg_trg_HeroD51_var2=null
trigger gg_trg_HeroD51_var3=null
unit gg_unit_e000_0107=null
unit gg_unit_h000_0002=null
unit gg_unit_n000_0584=null
unit gg_unit_n001_0131=null
unit gg_unit_n003_0144=null
unit gg_unit_n003_0143=null
unit gg_unit_n000_0156=null
unit gg_unit_n068_0084=null
unit gg_unit_n068_0158=null
unit gg_unit_n000_0155=null
unit gg_unit_n000_0148=null
unit gg_unit_n001_0132=null
unit gg_unit_n003_0121=null
unit gg_unit_n002_0119=null
unit gg_unit_n000_0146=null
unit gg_unit_n000_0145=null
unit gg_unit_n000_0765=null
unit gg_unit_n008_0166=null
unit gg_unit_n000_0124=null
unit gg_unit_n000_0128=null
unit gg_unit_n002_0140=null
unit gg_unit_n002_0139=null
unit gg_unit_n000_0147=null
unit gg_unit_n000_0123=null
unit gg_unit_n009_0165=null
unit gg_unit_n001_0138=null
unit gg_unit_n030_1055=null
unit gg_unit_n000_1053=null
unit gg_unit_n000_1052=null
unit gg_unit_n000_1051=null
unit gg_unit_n031_1054=null
unit gg_unit_n003_0122=null
unit gg_unit_n000_0127=null
unit gg_unit_n007_0164=null
unit gg_unit_n001_0137=null
unit gg_unit_e000_0094=null
unit gg_unit_n004_0096=null
unit gg_unit_n006_0095=null
unit gg_unit_n005_0082=null
unit gg_unit_e000_0101=null
unit gg_unit_e000_0102=null
unit gg_unit_e000_0103=null
unit gg_unit_e000_0104=null
unit gg_unit_e000_0105=null
unit gg_unit_e000_0106=null
unit gg_unit_h000_0012=null
unit gg_unit_n000_0377=null
unit gg_unit_n000_0509=null
unit gg_unit_n000_0365=null
unit gg_unit_n000_0511=null
unit gg_unit_n000_0109=null
unit gg_unit_n000_0112=null
unit gg_unit_n001_0198=null
unit gg_unit_n000_0583=null
unit gg_unit_n000_1050=null
unit gg_unit_n000_1049=null
unit gg_unit_n002_1048=null
unit gg_unit_n030_1047=null
unit gg_unit_h000_1101=null
unit gg_unit_n031_1046=null
unit gg_unit_n000_0376=null
unit gg_unit_n000_0364=null
unit gg_unit_n000_0504=null
unit gg_unit_n003_1045=null
unit gg_unit_n000_0506=null
unit gg_unit_n01U_1044=null
unit gg_unit_n000_0582=null
unit gg_unit_n001_1043=null
unit gg_unit_n002_1042=null
unit gg_unit_h000_0100=null
unit gg_unit_n01U_0115=null
unit gg_unit_n01U_0161=null
unit gg_unit_n003_0162=null
unit gg_unit_n003_0163=null
unit gg_unit_n003_0171=null
unit gg_unit_n003_0172=null
unit gg_unit_n000_0206=null
unit gg_unit_n000_0207=null
unit gg_unit_n068_0157=null
unit gg_unit_u00O_0224=null
unit gg_unit_n000_0227=null
unit gg_unit_n000_0228=null
unit gg_unit_n000_0229=null
unit gg_unit_h000_0238=null
unit gg_unit_h000_0239=null
unit gg_unit_n068_0306=null
unit gg_unit_h000_0240=null
unit gg_unit_n068_0316=null
unit gg_unit_h01X_0342=null
unit gg_unit_n000_0581=null
unit gg_unit_n01U_0097=null
unit gg_unit_n01U_0108=null
unit gg_unit_n01U_0099=null
unit gg_unit_n01U_0098=null
unit gg_unit_h000_0378=null
unit gg_unit_h000_0387=null
unit gg_unit_h000_0438=null
unit gg_unit_n000_0766=null
unit gg_unit_n000_1040=null
unit gg_unit_n002_0768=null
unit gg_unit_n000_0066=null
unit gg_unit_n000_0071=null
unit gg_unit_n000_0076=null
unit gg_unit_n068_0087=null
unit gg_unit_n068_1093=null
unit gg_unit_h000_0592=null
unit gg_unit_n068_0679=null
unit gg_unit_n044_0602=null
unit gg_unit_n000_0677=null
unit gg_unit_n000_0675=null
unit gg_unit_n000_0687=null
unit gg_unit_o00L_0701=null
unit gg_unit_n01G_0617=null
unit gg_unit_o00K_0702=null
unit gg_unit_o00L_0641=null
unit gg_unit_o00K_0642=null
unit gg_unit_h00R_0644=null
unit gg_unit_n000_0674=null
unit gg_unit_h00R_0704=null
unit gg_unit_n000_0673=null
unit gg_unit_n001_0672=null
unit gg_unit_n001_0671=null
unit gg_unit_n002_0670=null
unit gg_unit_n002_0669=null
unit gg_unit_n002_0668=null
unit gg_unit_n000_0663=null
unit gg_unit_n000_0658=null
unit gg_unit_n01G_0618=null
unit gg_unit_h000_0593=null
unit gg_unit_h000_0591=null
unit gg_unit_n031_1056=null
unit gg_unit_h000_0716=null
unit gg_unit_n068_0616=null
unit gg_unit_n002_0819=null
unit gg_unit_n003_0864=null
unit gg_unit_n003_0865=null
unit gg_unit_nwgt_0870=null
unit gg_unit_nwgt_0871=null
unit gg_unit_n000_1026=null
unit gg_unit_n000_1029=null
unit gg_unit_n002_1028=null
unit gg_unit_n031_1027=null
unit gg_unit_n002_1030=null
unit gg_unit_n000_1057=null
unit gg_unit_n003_1031=null
unit gg_unit_n000_1041=null
unit gg_unit_n001_1032=null
unit gg_unit_n000_1033=null
unit gg_unit_n003_1034=null
unit gg_unit_n001_1035=null
unit gg_unit_n000_1036=null
unit gg_unit_n031_1037=null
unit gg_unit_n001_1038=null
unit gg_unit_n001_1039=null
unit gg_unit_n003_0595=null
unit gg_unit_n000_0596=null
unit gg_unit_n000_0597=null
unit gg_unit_n000_0598=null
unit gg_unit_n000_0599=null
unit gg_unit_n000_0600=null
unit gg_unit_n000_0608=null
unit gg_unit_n001_0614=null
unit gg_unit_n000_0615=null
unit gg_unit_n002_0611=null
unit gg_unit_n002_0612=null
unit gg_unit_n001_0613=null
unit gg_unit_n000_0625=null
unit gg_unit_n000_0635=null
unit gg_unit_n001_0637=null
unit gg_unit_n002_0638=null
unit gg_unit_n003_0639=null
unit gg_unit_n002_0640=null
unit gg_unit_n000_0643=null
unit gg_unit_n000_0645=null
unit gg_unit_n000_0646=null
unit gg_unit_n01U_0647=null
unit gg_unit_n001_0648=null
unit gg_unit_n000_0649=null
unit gg_unit_n000_0657=null
unit gg_unit_n000_0680=null
unit gg_unit_n068_0681=null
unit gg_unit_n068_0682=null
unit gg_unit_n002_0683=null
unit gg_unit_n002_0684=null
unit gg_unit_n01U_0685=null
unit gg_unit_n000_0691=null
unit gg_unit_n068_0686=null
unit gg_unit_n000_0688=null
unit gg_unit_n000_0689=null
unit gg_unit_n000_0690=null
unit gg_unit_n000_0692=null
unit gg_unit_n002_0693=null
unit gg_unit_n000_0694=null
unit gg_unit_n000_0695=null
unit gg_unit_n000_0697=null
unit gg_unit_n068_0698=null
unit gg_unit_n000_0705=null
unit gg_unit_n000_0706=null
unit gg_unit_n000_0707=null
unit gg_unit_n068_1123=null
unit gg_unit_n068_1122=null
unit gg_unit_n068_1121=null
destructable gg_dest_Dofw_8504=null
destructable gg_dest_Dofw_8503=null
destructable gg_dest_B000_2588=null
destructable gg_dest_Dofw_8492=null
destructable gg_dest_B000_2591=null
destructable gg_dest_DTg3_1670=null
destructable gg_dest_DTg3_1671=null
destructable gg_dest_Dofw_1304=null
destructable gg_dest_Dofw_1306=null
unit array Wisps
string array Color
string array PlayerName
integer array ExtraEnemyHeroType
integer ExtraEnemyHeroPower=0
player array AI
integer array T1_Item
boolean array T1_Check
integer T1_Count
integer T1_End
integer T1_Minus
integer array T2_Item
boolean array T2_Check
integer T2_Count
integer T2_End
integer T2_Minus
integer array T3_Item
boolean array T3_Check
integer T3_Count
integer T3_End
integer T3_Minus
integer array T4_Item
boolean array T4_Check
integer T4_Count
integer T4_End
integer T4_Minus
integer array T5_Item
boolean array T5_Check
integer T5_Count
integer T5_End
integer T5_Minus
integer array T6_Item
boolean array T6_Check
integer T6_Count
integer T6_End
integer T6_Minus
integer array T7_Item
boolean array T7_Check
integer T7_Count
integer T7_End
integer T7_Minus
integer T6_Drop=0
integer T7_Drop=0
integer array MarshalUnits
integer array Crystals
constant integer Order_OFFSET=0xd0002
constant integer Order_absorb=0xd0231
constant integer Order_acidbomb=0xd02b6
constant integer Order_acolyteharvest=0xd00d9
constant integer Order_AImove=0xd0014
constant integer Order_ambush=0xd00a3
constant integer Order_ancestralspirit=0xd020a
constant integer Order_ancestralspirittarget=0xd020b
constant integer Order_animatedead=0xd00f9
constant integer Order_antimagicshell=0xd00da
constant integer Order_attack=0xd000f
constant integer Order_attackground=0xd0010
constant integer Order_attackonce=0xd0011
constant integer Order_attributemodskill=0xd0260
constant integer Order_auraunholy=0xd00f7
constant integer Order_auravampiric=0xd00f8
constant integer Order_autodispel=0xd00a4
constant integer Order_autodispeloff=0xd00a6
constant integer Order_autodispelon=0xd00a5
constant integer Order_autoentangle=0xd0219
constant integer Order_autoentangleinstant=0xd021a
constant integer Order_autoharvestgold=0xd0035
constant integer Order_autoharvestlumber=0xd0036
constant integer Order_avatar=0xd0076
constant integer Order_avengerform=0xd0233
constant integer Order_awaken=0xd01f2
constant integer Order_banish=0xd0206
constant integer Order_barkskin=0xd00a7
constant integer Order_barkskinoff=0xd00a9
constant integer Order_barkskinon=0xd00a8
constant integer Order_battleroar=0xd0083
constant integer Order_battlestations=0xd0083
constant integer Order_bearform=0xd00aa
constant integer Order_berserk=0xd0084
constant integer Order_blackarrow=0xd0261
constant integer Order_blackarrowoff=0xd0263
constant integer Order_blackarrowon=0xd0262
constant integer Order_blight=0xd00db
constant integer Order_blink=0xd022d
constant integer Order_blizzard=0xd0079
constant integer Order_bloodlust=0xd0085
constant integer Order_bloodlustoff=0xd0087
constant integer Order_bloodluston=0xd0086
constant integer Order_board=0xd004b
constant integer Order_breathoffire=0xd0264
constant integer Order_breathoffrost=0xd0250
constant integer Order_build=0xd001a
constant integer Order_burrow=0xd0235
constant integer Order_cannibalize=0xd00dc
constant integer Order_carrionscarabs=0xd0247
constant integer Order_carrionscarabsinstant=0xd024a
constant integer Order_carrionscarabsoff=0xd0249
constant integer Order_carrionscarabson=0xd0248
constant integer Order_carrionswarm=0xd00fa
constant integer Order_chainlightning=0xd0097
constant integer Order_channel=0xd0278
constant integer Order_charm=0xd0265
constant integer Order_chemicalrage=0xd02b7
constant integer Order_cloudoffog=0xd01f9
constant integer Order_clusterrockets=0xd02ac
constant integer Order_coldarrows=0xd0114
constant integer Order_coldarrowstarg=0xd0113
constant integer Order_controlmagic=0xd01fa
constant integer Order_corporealform=0xd020d
constant integer Order_corrosivebreath=0xd00ac
constant integer Order_coupleinstant=0xd021c
constant integer Order_coupletarget=0xd021b
constant integer Order_creepanimatedead=0xd0116
constant integer Order_creepdevour=0xd0117
constant integer Order_creepheal=0xd0118
constant integer Order_creephealoff=0xd011a
constant integer Order_creephealon=0xd0119
constant integer Order_creepthunderbolt=0xd011c
constant integer Order_creepthunderclap=0xd011d
constant integer Order_cripple=0xd00dd
constant integer Order_curse=0xd00de
constant integer Order_curseoff=0xd00e0
constant integer Order_curseon=0xd00df
constant integer Order_cyclone=0xd00b0
constant integer Order_darkconversion=0xd0104
constant integer Order_darkportal=0xd0105
constant integer Order_darkritual=0xd00fb
constant integer Order_darksummoning=0xd00fc
constant integer Order_deathanddecay=0xd00fd
constant integer Order_deathcoil=0xd00fe
constant integer Order_deathpact=0xd00ff
constant integer Order_decouple=0xd021d
constant integer Order_defend=0xd0057
constant integer Order_detectaoe=0xd002f
constant integer Order_detonate=0xd00b1
constant integer Order_devour=0xd0088
constant integer Order_devourmagic=0xd0238
constant integer Order_disassociate=0xd0110
constant integer Order_disenchant=0xd020f
constant integer Order_dismount=0xd01f6
constant integer Order_dispel=0xd0059
constant integer Order_divineshield=0xd007a
constant integer Order_doom=0xd0267
constant integer Order_drain=0xd0207
constant integer Order_dreadlordinferno=0xd0100
constant integer Order_dropitem=0xd0021
constant integer Order_drunkenhaze=0xd0269
constant integer Order_earthquake=0xd0099
constant integer Order_eattree=0xd00b2
constant integer Order_elementalfury=0xd026a
constant integer Order_ensnare=0xd008a
constant integer Order_ensnareoff=0xd008c
constant integer Order_ensnareon=0xd008b
constant integer Order_entangle=0xd00b3
constant integer Order_entangleinstant=0xd00b4
constant integer Order_entanglingroots=0xd00cb
constant integer Order_etherealform=0xd0210
constant integer Order_evileye=0xd0089
constant integer Order_faeriefire=0xd00b5
constant integer Order_faeriefireoff=0xd00b7
constant integer Order_faeriefireon=0xd00b6
constant integer Order_fanofknives=0xd022e
constant integer Order_farsight=0xd009a
constant integer Order_fingerofdeath=0xd0106
constant integer Order_firebolt=0xd0107
constant integer Order_flamestrike=0xd0208
constant integer Order_flamingarrows=0xd00ce
constant integer Order_flamingarrowstarg=0xd00cd
constant integer Order_flamingattack=0xd023c
constant integer Order_flamingattacktarg=0xd023b
constant integer Order_flare=0xd005c
constant integer Order_forceboard=0xd004c
constant integer Order_forceofnature=0xd00d0
constant integer Order_forkedlightning=0xd026b
constant integer Order_freezingbreath=0xd00e3
constant integer Order_frenzy=0xd0251
constant integer Order_frenzyoff=0xd0253
constant integer Order_frenzyon=0xd0252
constant integer Order_frostarmor=0xd0101
constant integer Order_frostarmoroff=0xd01eb
constant integer Order_frostarmoron=0xd01ea
constant integer Order_frostnova=0xd0102
constant integer Order_getitem=0xd000d
constant integer Order_gold2lumber=0xd0109
constant integer Order_grabtree=0xd021f
constant integer Order_harvest=0xd0032
constant integer Order_heal=0xd005f
constant integer Order_healingspray=0xd02b8
constant integer Order_healingward=0xd008d
constant integer Order_healingwave=0xd0215
constant integer Order_healoff=0xd0061
constant integer Order_healon=0xd0060
constant integer Order_hex=0xd0216
constant integer Order_holdposition=0xd0019
constant integer Order_holybolt=0xd007c
constant integer Order_howlofterror=0xd026c
constant integer Order_humanbuild=0xd001b
constant integer Order_immolation=0xd00d1
constant integer Order_impale=0xd024b
constant integer Order_incineratearrow=0xd02be
constant integer Order_incineratearrowoff=0xd02c0
constant integer Order_incineratearrowon=0xd02bf
constant integer Order_inferno=0xd0108
constant integer Order_innerfire=0xd0062
constant integer Order_innerfireoff=0xd0064
constant integer Order_innerfireon=0xd0063
constant integer Order_instant=0xd00e8
constant integer Order_invisibility=0xd0065
constant integer Order_lavamonster=0xd02bb
constant integer Order_lightningshield=0xd008e
constant integer Order_load=0xd004e
constant integer Order_loadarcher=0xd00ae
constant integer Order_loadcorpse=0xd0052
constant integer Order_loadcorpseinstant=0xd0055
constant integer Order_locustswarm=0xd024c
constant integer Order_lumber2gold=0xd010a
constant integer Order_magicdefense=0xd01fe
constant integer Order_magicleash=0xd0200
constant integer Order_magicundefense=0xd01ff
constant integer Order_manaburn=0xd00d3
constant integer Order_manaflareoff=0xd0221
constant integer Order_manaflareon=0xd0220
constant integer Order_manashieldoff=0xd026e
constant integer Order_manashieldon=0xd026d
constant integer Order_massteleport=0xd007d
constant integer Order_mechanicalcritter=0xd0254
constant integer Order_metamorphosis=0xd00d4
constant integer Order_militia=0xd0068
constant integer Order_militiaconvert=0xd0067
constant integer Order_militiaoff=0xd0069
constant integer Order_militiaunconvert=0xd02ab
constant integer Order_mindrot=0xd0255
constant integer Order_mirrorimage=0xd009b
constant integer Order_monsoon=0xd026f
constant integer Order_mount=0xd01f5
constant integer Order_mounthippogryph=0xd00af
constant integer Order_move=0xd0012
constant integer Order_nagabuild=0xd01f3
constant integer Order_neutraldetectaoe=0xd0037
constant integer Order_neutralinteract=0xd0256
constant integer Order_neutralspell=0xd0296
constant integer Order_nightelfbuild=0xd001d
constant integer Order_orcbuild=0xd001c
constant integer Order_parasite=0xd0279
constant integer Order_parasiteoff=0xd027b
constant integer Order_parasiteon=0xd027a
constant integer Order_patrol=0xd0016
constant integer Order_phaseshift=0xd0222
constant integer Order_phaseshiftinstant=0xd0225
constant integer Order_phaseshiftoff=0xd0224
constant integer Order_phaseshifton=0xd0223
constant integer Order_phoenixfire=0xd0201
constant integer Order_phoenixmorph=0xd0202
constant integer Order_poisonarrows=0xd011f
constant integer Order_poisonarrowstarg=0xd011e
constant integer Order_polymorph=0xd006a
constant integer Order_possession=0xd00e4
constant integer Order_preservation=0xd0258
constant integer Order_purge=0xd008f
constant integer Order_rainofchaos=0xd010d
constant integer Order_rainoffire=0xd010e
constant integer Order_raisedead=0xd00e5
constant integer Order_raisedeadoff=0xd00e7
constant integer Order_raisedeadon=0xd00e6
constant integer Order_ravenform=0xd00bb
constant integer Order_recharge=0xd00bd
constant integer Order_rechargeoff=0xd00bf
constant integer Order_rechargeon=0xd00be
constant integer Order_rejuvination=0xd00c0
constant integer Order_renew=0xd00c1
constant integer Order_renewoff=0xd00c3
constant integer Order_renewon=0xd00c2
constant integer Order_repair=0xd0038
constant integer Order_repairoff=0xd003a
constant integer Order_repairon=0xd0039
constant integer Order_replenish=0xd023e
constant integer Order_replenishlife=0xd0241
constant integer Order_replenishlifeoff=0xd0243
constant integer Order_replenishlifeon=0xd0242
constant integer Order_replenishmana=0xd0244
constant integer Order_replenishmanaoff=0xd0246
constant integer Order_replenishmanaon=0xd0245
constant integer Order_replenishoff=0xd0240
constant integer Order_replenishon=0xd023f
constant integer Order_request_hero=0xd010f
constant integer Order_requestsacrifice=0xd00e9
constant integer Order_restoration=0xd00ea
constant integer Order_restorationoff=0xd00ec
constant integer Order_restorationon=0xd00eb
constant integer Order_resumebuild=0xd001f
constant integer Order_resumeharvesting=0xd0031
constant integer Order_resurrection=0xd007e
constant integer Order_returnresources=0xd0034
constant integer Order_revenge=0xd0111
constant integer Order_revive=0xd0047
constant integer Order_roar=0xd00c4
constant integer Order_robogoblin=0xd02b0
constant integer Order_root=0xd00c5
constant integer Order_sacrifice=0xd00ed
constant integer Order_sanctuary=0xd0259
constant integer Order_scout=0xd00d5
constant integer Order_selfdestruct=0xd0048
constant integer Order_selfdestructoff=0xd004a
constant integer Order_selfdestructon=0xd0049
constant integer Order_sentinel=0xd00d6
constant integer Order_setrally=0xd000c
constant integer Order_shadowsight=0xd025a
constant integer Order_shadowstrike=0xd022f
constant integer Order_shockwave=0xd009d
constant integer Order_silence=0xd0270
constant integer Order_sleep=0xd0103
constant integer Order_slow=0xd006b
constant integer Order_slowoff=0xd006d
constant integer Order_slowon=0xd006c
constant integer Order_smart=0xd0003
constant integer Order_soulburn=0xd02bc
constant integer Order_soulpreservation=0xd0112
constant integer Order_spellshield=0xd025b
constant integer Order_spellshieldaoe=0xd025c
constant integer Order_spellsteal=0xd0203
constant integer Order_spellstealoff=0xd0205
constant integer Order_spellstealon=0xd0204
constant integer Order_spies=0xd010b
constant integer Order_spiritlink=0xd0213
constant integer Order_spiritofvengeance=0xd0230
constant integer Order_spirittroll=0xd025d
constant integer Order_spiritwolf=0xd009e
constant integer Order_stampede=0xd0271
constant integer Order_standdown=0xd0091
constant integer Order_starfall=0xd00d7
constant integer Order_stasistrap=0xd0092
constant integer Order_steal=0xd025e
constant integer Order_stomp=0xd009f
constant integer Order_stoneform=0xd00ee
constant integer Order_stop=0xd0004
constant integer Order_submerge=0xd027c
constant integer Order_summonfactory=0xd02b2
constant integer Order_summongrizzly=0xd0272
constant integer Order_summonphoenix=0xd0209
constant integer Order_summonquillbeast=0xd0273
constant integer Order_summonwareagle=0xd0274
constant integer Order_tankdroppilot=0xd006f
constant integer Order_tankloadpilot=0xd0070
constant integer Order_tankpilot=0xd0071
constant integer Order_taunt=0xd0228
constant integer Order_thunderbolt=0xd007f
constant integer Order_thunderclap=0xd0080
constant integer Order_tornado=0xd0275
constant integer Order_townbelloff=0xd0073
constant integer Order_townbellon=0xd0072
constant integer Order_tranquility=0xd00d8
constant integer Order_transmute=0xd02b9
constant integer Order_unavatar=0xd0077
constant integer Order_unavengerform=0xd0234
constant integer Order_unbearform=0xd00ab
constant integer Order_unburrow=0xd0236
constant integer Order_uncoldarrows=0xd0115
constant integer Order_uncorporealform=0xd020e
constant integer Order_undeadbuild=0xd001e
constant integer Order_undefend=0xd0058
constant integer Order_undivineshield=0xd007b
constant integer Order_unetherealform=0xd0211
constant integer Order_unflamingarrows=0xd00cf
constant integer Order_unflamingattack=0xd023d
constant integer Order_unholyfrenzy=0xd00f1
constant integer Order_unimmolation=0xd00d2
constant integer Order_unload=0xd004f
constant integer Order_unloadall=0xd0050
constant integer Order_unloadallcorpses=0xd0056
constant integer Order_unloadallinstant=0xd0051
constant integer Order_unpoisonarrows=0xd0120
constant integer Order_unravenform=0xd00bc
constant integer Order_unrobogoblin=0xd02b1
constant integer Order_unroot=0xd00c6
constant integer Order_unstableconcoction=0xd0214
constant integer Order_unstoneform=0xd00ef
constant integer Order_unsubmerge=0xd027d
constant integer Order_unsummon=0xd00f2
constant integer Order_unwindwalk=0xd00a2
constant integer Order_vengeance=0xd0229
constant integer Order_vengeanceinstant=0xd022c
constant integer Order_vengeanceoff=0xd022b
constant integer Order_vengeanceon=0xd022a
constant integer Order_volcano=0xd02bd
constant integer Order_voodoo=0xd0217
constant integer Order_ward=0xd0218
constant integer Order_waterelemental=0xd0081
constant integer Order_wateryminion=0xd0276
constant integer Order_web=0xd00f3
constant integer Order_weboff=0xd00f5
constant integer Order_webon=0xd00f4
constant integer Order_whirlwind=0xd00a0
constant integer Order_windwalk=0xd00a1
constant integer Order_wispharvest=0xd00f6
constant integer Order_scrollofspeed=0xd013d
constant integer Order_cancel=0xd0008
constant integer Order_moveslot1=0xd0022
constant integer Order_moveslot2=0xd0023
constant integer Order_moveslot3=0xd0024
constant integer Order_moveslot4=0xd0025
constant integer Order_moveslot5=0xd0026
constant integer Order_moveslot6=0xd0027
constant integer Order_useslot1=0xd0028
constant integer Order_useslot2=0xd0029
constant integer Order_useslot3=0xd002a
constant integer Order_useslot4=0xd002b
constant integer Order_useslot5=0xd002c
constant integer Order_useslot6=0xd002d
constant integer Order_skillmenu=0xd0020
constant integer Order_stunned=0xd0005
constant integer Order_instant1=0xd0017
constant integer Order_instant2=0xd0013
constant integer Order_instant3=0xd0007
constant integer Order_instant4=0xd0033
string array Pname
integer array ExpGo
integer array badE
string alpbB="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"
string alpbS="abcdefghijklmnopqrstuvwxyz1234567890_"
force NaB=CreateForce()
force NaB1=CreateForce()
integer IRSkill=0x4130454C
integer IRKolShar=60
integer IRRangSkill=900
integer IRDammy1=0x65303044
real IRDamage1=0
real IRDamage2=650
string IREffetBoom="Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl"

trigger l__library_init

//JASSHelper struct globals:

endglobals


//library cjLib75hJKJ374s4e597nba9o7w45gf:
function cj_group_copy_75hJKJ3745gf takes nothing returns nothing
//# optional
call GroupAddUnit(cj_tmpgr_copy_nw509ert7, GetEnumUnit())
endfunction

//library cjLib75hJKJ374s4e597nba9o7w45gf ends
//library cjLibw560nbs9b8nse46703948:
function cj_true_a497bnsor7 takes nothing returns boolean
//# optional
return true
endfunction
function cjLibw560nbs9b8nse46703948__init takes nothing returns nothing
set cj_true_bool_4896bnao87=Condition(function cj_true_a497bnsor7)
endfunction

//library cjLibw560nbs9b8nse46703948 ends
//library FNWEDamageSystem:
function FNWEAnyUnitDamagedTriggerAction takes nothing returns nothing
local integer i=0
loop
exitwhen i >= FNWEDamageSystem__DamageEventNumber
if FNWEDamageSystem__DamageEventQueue[i] != null and IsTriggerEnabled(FNWEDamageSystem__DamageEventQueue[i]) and TriggerEvaluate(FNWEDamageSystem__DamageEventQueue[i]) then
call TriggerExecute(FNWEDamageSystem__DamageEventQueue[i])
endif
set i=i + 1
endloop
endfunction
function FNWEAnyUnitDamagedFilter takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(), 0x416C6F63) <= 0 then
call TriggerRegisterUnitEvent(fn_DamageEventTrigger, GetFilterUnit(), EVENT_UNIT_DAMAGED)
endif
return false
endfunction
function FNWEAnyUnitDamagedEnumUnit takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
local group g=CreateGroup()
call RegionAddRect(r, GetWorldBounds())
call TriggerRegisterEnterRegion(t, r, Condition(function FNWEAnyUnitDamagedFilter))
call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function FNWEAnyUnitDamagedFilter))
call DestroyGroup(g)
set r=null
set t=null
set g=null
endfunction
function FNWETriggerRegisterAnyUnitDamaged takes trigger trg returns nothing
if trg == null then
return
endif
if FNWEDamageSystem__DamageEventNumber == 0 then
set fn_DamageEventTrigger=CreateTrigger()
call TriggerAddAction(fn_DamageEventTrigger, function FNWEAnyUnitDamagedTriggerAction)
call FNWEAnyUnitDamagedEnumUnit()
endif
set FNWEDamageSystem__DamageEventQueue[FNWEDamageSystem__DamageEventNumber]=trg
set FNWEDamageSystem__DamageEventNumber=FNWEDamageSystem__DamageEventNumber + 1
endfunction

//library FNWEDamageSystem ends
//library GiveItemsHeroes:
function SSetUnitLife takes unit c,integer hp returns nothing
local integer Id=GetHandleId(c)
set hp=R2I(I2R(hp) - GetUnitState(c, UNIT_STATE_MAX_LIFE))
call SaveInteger(udg_hash, Id, 37, hp)
loop
exitwhen hp == 0
if hp > 0 then
if hp >= 2000 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 10)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 2000
elseif hp >= 500 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 9)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 500
elseif hp >= 200 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 8)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 200
elseif hp >= 50 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 7)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 50
elseif hp >= 20 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 6)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 20
elseif hp >= 10 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 5)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 10
elseif hp >= 5 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 4)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 5
elseif hp >= 2 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 3)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 2
else
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 2)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 1
endif
elseif hp < 0 then
if hp <= - 2000 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 19)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 2000
elseif hp <= - 500 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 18)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 500
elseif hp <= - 200 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 17)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 200
elseif hp <= - 50 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 16)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 50
elseif hp <= - 20 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 15)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 20
elseif hp <= - 10 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 14)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 10
elseif hp <= - 5 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 13)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 5
elseif hp <= - 2 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 12)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 2
else
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 11)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 1
endif
endif
endloop
set c=null
endfunction
function T1 takes unit u returns nothing
local integer n=GetRandomInt(1, T1_Count - T1_Minus)
if UnitHasItemOfTypeBJ(u, T1_Item[n]) == true then
set n=GetRandomInt(1, T1_Count - T1_Minus)
endif
call UnitAddItemById(u, T1_Item[n])
set u=null
endfunction
function T2 takes unit u returns nothing
local integer n=GetRandomInt(1, T2_Count - T2_Minus)
if UnitHasItemOfTypeBJ(u, T2_Item[n]) == true then
set n=GetRandomInt(1, T2_Count - T2_Minus)
endif
call UnitAddItemById(u, T2_Item[n])
set u=null
endfunction
function T3 takes unit u returns nothing
local integer n=GetRandomInt(1, T3_Count - T3_Minus)
if UnitHasItemOfTypeBJ(u, T3_Item[n]) == true then
set n=GetRandomInt(1, T3_Count - T3_Minus)
endif
call UnitAddItemById(u, T3_Item[n])
set u=null
endfunction
function T4 takes unit u returns nothing
local integer n=GetRandomInt(1, T4_Count - T4_Minus)
if UnitHasItemOfTypeBJ(u, T4_Item[n]) == true then
set n=GetRandomInt(1, T4_Count - T4_Minus)
endif
call UnitAddItemById(u, T4_Item[n])
set u=null
endfunction
function T5 takes unit u returns nothing
local integer n=GetRandomInt(1, T5_Count - T5_Minus)
if UnitHasItemOfTypeBJ(u, T5_Item[n]) == true then
set n=GetRandomInt(1, T5_Count - T5_Minus)
endif
call UnitAddItemById(u, T5_Item[n])
set u=null
endfunction
function T6 takes unit u returns nothing
local integer n=GetRandomInt(1, T6_Count - T6_Minus)
if UnitHasItemOfTypeBJ(u, T6_Item[n]) == true then
set n=GetRandomInt(1, T6_Count - T6_Minus)
endif
call UnitAddItemById(u, T6_Item[n])
set u=null
endfunction
function PrepareEnemyHero takes unit u returns nothing
local integer P
local integer HeroLvl=GetHeroLevel(u)
local integer Lvl=udg_Lvl
local integer r=GetRandomInt(1, 10)
local integer uId=GetUnitTypeId(u)
if uId == 0x48303350 or uId == 0x48303151 or uId == 0x48303343 or uId == 0x5530304B or uId == 0x55303142 or uId == 0x4E303542 or uId == 0x48303358 or uId == 0x4E303335 or uId == 0x55303058 or uId == 0x55303052 or uId == 0x4E6D616E or uId == 0x55656172 then
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif uId == 0x5530304E or uId == 0x4830315A or uId == 0x4E303230 or uId == 0x55303130 or uId == 0x55303054 or uId == 0x4E303648 or uId == 0x55303047 or uId == 0x55303042 or uId == 0x55646561 or uId == 0x4E706C64 or uId == 0x5563726C or uId == 0x4E303644 then
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif uId == 0x45303039 or uId == 0x55303132 or uId == 0x4E303541 or uId == 0x55303041 or uId == 0x4E303252 or uId == 0x45303055 or uId == 0x48303342 or uId == 0x45303031 or uId == 0x5530314D or uId == 0x45303042 or uId == 0x55616E62 or uId == 0x48626C6D then
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif uId == 0x55303057 or uId == 0x4E303632 or uId == 0x48303238 or uId == 0x4E303457 or uId == 0x48303230 or uId == 0x48303349 or uId == 0x48303157 or uId == 0x556C6963 or uId == 0x55647265 then
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif uId == 0x55303149 or uId == 0x48303344 or uId == 0x55303138 or uId == 0x55303148 or uId == 0x4830334E or uId == 0x4E303357 or uId == 0x48303057 or uId == 0x4E30354C or uId == 0x5530304A or uId == 0x4830304D or uId == 0x4E303633 or uId == 0x55303048 then
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
endif
if uId == 0x5530304E or uId == 0x55303041 or uId == 0x4E303357 or uId == 0x55303058 or uId == 0x4E303542 or uId == 0x55303148 or uId == 0x55303149 or uId == 0x4E303648 or uId == 0x48303358 or uId == 0x55647265 then
call TriggerRegisterUnitEvent(gg_trg_BossUltimates, u, EVENT_UNIT_DAMAGED)
endif
call SuspendHeroXP(u, true)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call GroupAddUnit(udg_EnemyHeroes, u)
if Lvl > 20 then
set Lvl=20
endif
set P=( 18 + ( Lvl * 13 ) ) * ( HeroLvl / 2 ) + 10 + ( HeroLvl * 3 )
if udg_Modifiers[2] == true then
set P=P + ( P / 4 )
call SSetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + P * 2)
endif
if P < 90 then
call T1(u)
elseif P >= 90 and P < 150 then
if r <= 5 then
call T2(u)
else
call T1(u)
call T1(u)
endif
elseif P >= 150 and P < 200 then
if r <= 3 then
call T2(u)
call T2(u)
elseif r <= 6 then
call T1(u)
call T1(u)
call T1(u)
call T1(u)
else
call T2(u)
call T1(u)
call T1(u)
endif
elseif P >= 200 and P < 260 then
if r <= 3 then
call T3(u)
call T2(u)
elseif r <= 6 then
call T1(u)
call T1(u)
call T1(u)
call T1(u)
call T1(u)
call T1(u)
else
call T2(u)
call T2(u)
call T1(u)
call T1(u)
endif
elseif P >= 260 and P < 320 then
if r <= 3 then
call T3(u)
call T2(u)
call T1(u)
call T1(u)
elseif r <= 6 then
call T2(u)
call T2(u)
call T2(u)
call T2(u)
else
call T3(u)
call T3(u)
call T1(u)
endif
elseif P >= 320 and P < 400 then
if r <= 3 then
call T3(u)
call T3(u)
call T2(u)
elseif r <= 6 then
call T3(u)
call T2(u)
call T2(u)
call T2(u)
else
call T4(u)
call T3(u)
call T2(u)
call T1(u)
endif
elseif P >= 400 and P < 500 then
if r <= 3 then
call T5(u)
call T3(u)
call T2(u)
elseif r <= 6 then
call T4(u)
call T3(u)
call T2(u)
call T2(u)
else
call T4(u)
call T4(u)
call T2(u)
call T2(u)
endif
elseif P >= 500 and P < 650 then
if r <= 2 then
call T5(u)
call T3(u)
call T3(u)
elseif r <= 4 then
call T5(u)
call T4(u)
call T2(u)
elseif r <= 6 then
call T5(u)
call T2(u)
call T2(u)
call T2(u)
call T1(u)
call T1(u)
elseif r <= 8 then
call T4(u)
call T4(u)
call T2(u)
call T1(u)
call T1(u)
call T1(u)
else
call T5(u)
call T4(u)
call T2(u)
call T2(u)
endif
elseif P >= 650 and P < 800 then
if r <= 2 then
call T5(u)
call T3(u)
call T3(u)
call T2(u)
call T2(u)
call T1(u)
elseif r <= 4 then
call T5(u)
call T5(u)
call T2(u)
call T2(u)
elseif r <= 6 then
call T6(u)
call T2(u)
call T2(u)
elseif r <= 8 then
call T5(u)
call T4(u)
call T3(u)
call T2(u)
call T1(u)
else
call T4(u)
call T4(u)
call T3(u)
call T2(u)
call T2(u)
call T1(u)
endif
elseif P >= 800 and P < 1000 then
if r <= 2 then
call T5(u)
call T5(u)
call T3(u)
call T3(u)
call T2(u)
call T2(u)
elseif r <= 4 then
call T5(u)
call T5(u)
call T4(u)
call T4(u)
call T2(u)
call T1(u)
elseif r <= 6 then
call T6(u)
call T4(u)
call T4(u)
call T4(u)
call T2(u)
call T1(u)
elseif r <= 8 then
call T6(u)
call T6(u)
call T3(u)
call T3(u)
else
call T5(u)
call T5(u)
call T4(u)
call T4(u)
call T4(u)
endif
elseif P >= 1000 and P < 1250 then
if r <= 3 then
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T1(u)
call T1(u)
elseif r <= 6 then
call T5(u)
call T5(u)
call T5(u)
call T4(u)
call T2(u)
call T1(u)
elseif r <= 8 then
call T6(u)
call T5(u)
call T5(u)
call T5(u)
else
call T6(u)
call T4(u)
call T4(u)
call T3(u)
call T3(u)
call T3(u)
endif
elseif P >= 1250 and P < 1500 then
if r <= 3 then
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T3(u)
call T2(u)
elseif r <= 6 then
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
elseif r <= 8 then
call T6(u)
call T6(u)
call T4(u)
call T4(u)
call T3(u)
call T3(u)
else
call T6(u)
call T5(u)
call T5(u)
call T5(u)
call T4(u)
call T3(u)
endif
elseif P >= 1500 and P < 1750 then
if r <= 3 then
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
elseif r <= 6 then
call T6(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T4(u)
elseif r <= 8 then
call T6(u)
call T6(u)
call T6(u)
call T3(u)
call T3(u)
call T3(u)
else
call T6(u)
call T6(u)
call T6(u)
call T4(u)
call T3(u)
call T2(u)
endif
elseif P >= 1750 and P < 2000 then
if r <= 3 then
call T6(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
elseif r <= 6 then
call T6(u)
call T6(u)
call T5(u)
call T5(u)
call T4(u)
call T4(u)
elseif r <= 8 then
call T6(u)
call T6(u)
call T6(u)
call T4(u)
call T4(u)
call T4(u)
else
call T6(u)
call T6(u)
call T6(u)
call T5(u)
call T5(u)
call T3(u)
endif
elseif P >= 2000 then
if r <= 3 then
call T6(u)
call T6(u)
call T5(u)
call T5(u)
call T5(u)
call T5(u)
elseif r <= 6 then
call T6(u)
call T6(u)
call T6(u)
call T5(u)
call T5(u)
call T4(u)
elseif r <= 8 then
call T6(u)
call T6(u)
call T6(u)
call T6(u)
call T4(u)
call T4(u)
else
call T6(u)
call T6(u)
call T6(u)
call T6(u)
call T5(u)
call T5(u)
endif
endif
set u=null
endfunction

//library GiveItemsHeroes ends
//library LevelSettings:
function BackToLvlCategories_Function takes nothing returns nothing
call DialogSetMessage(udg_ChooseLvlWindow, ( "Общий опыт игроков: " + ( I2S(udg_AllPoints) + ". Выберите раздел:" ) ))
set udg_Button[1]=DialogAddButton(udg_ChooseLvlWindow, "Обычные уровни", 0)
if udg_AllPoints >= 35000 then
set udg_Button[2]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Хардкор-уровни|r", 0)
else
set udg_Button[2]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 35000 очков", 0)
endif
if udg_AllPoints >= 1000000 then
set udg_Button[3]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF9600Испытания", 3)
else
set udg_Button[3]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 1 000 000 очков", 0)
endif
call EnableTrigger(gg_trg_LvlCategories)
endfunction
function CreatePreStart_Function takes nothing returns nothing
call DialogSetMessage(udg_ChooseLvlWindow, ( "Выбран уровень: " + udg_LvlNameNT ))
set udg_Button[41]=DialogAddButton(udg_ChooseLvlWindow, "Начать игру", 0)
set udg_Button[42]=DialogAddButton(udg_ChooseLvlWindow, "|cFF00C850Модификаторы|r", 0)
set udg_BackButton=DialogAddButton(udg_ChooseLvlWindow, "|cFFBF93D4Назад|r", 0)
call EnableTrigger(gg_trg_PreStart)
endfunction
function Modifiers_Function takes nothing returns nothing
call DialogSetMessage(udg_ModeWindow, ( "Модификаторы:" ))
if udg_Modifiers[1] == true then
set udg_Button[31]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[31]=DialogAddButton(udg_ModeWindow, "Больше миньонов (+25 проц. к награде)", 0)
endif
if udg_Modifiers[2] == true then
set udg_Button[32]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[32]=DialogAddButton(udg_ModeWindow, "Усиление героев и боссов (+60 проц. к награде)", 0)
endif
if udg_Lvl != 8 then
if udg_Modifiers[3] == true then
set udg_Button[33]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[33]=DialogAddButton(udg_ModeWindow, "Кристалломания (+0 проц. к награде)", 0)
endif
else
set udg_Button[33]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4Недоступно для данного уровня|r", 0)
endif
if udg_Modifiers[4] == true then
set udg_Button[34]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[34]=DialogAddButton(udg_ModeWindow, "Вражеские постройки (+25 проц. к награде)", 0)
endif
if udg_Modifiers[5] == true then
set udg_Button[35]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[35]=DialogAddButton(udg_ModeWindow, "Взрывной демонтаж (+30 проц. к награде)", 0)
endif
if udg_Modifiers[6] == true then
set udg_Button[36]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[36]=DialogAddButton(udg_ModeWindow, "Паразиты (+30 проц. к награде)", 0)
endif
if udg_Modifiers[7] == true then
set udg_Button[37]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[37]=DialogAddButton(udg_ModeWindow, "Вторжение (+50 проц. к награде)", 0)
endif
if udg_Lvl != 8 then
if udg_Modifiers[8] == true then
set udg_Button[38]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[38]=DialogAddButton(udg_ModeWindow, "Бесконечная игра (+0 проц. к награде)", 0)
endif
else
set udg_Button[38]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4Недоступно для данного уровня|r", 0)
endif
if udg_Modifiers[9] == true then
set udg_Button[39]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[39]=DialogAddButton(udg_ModeWindow, "Усиленная элита (+75 проц. к награде)", 0)
endif
if udg_Modifiers[10] == true then
set udg_Button[40]=DialogAddButton(udg_ModeWindow, "|cFFBF93D4(активировано)|r", 0)
else
set udg_Button[40]=DialogAddButton(udg_ModeWindow, "Ослабление врагов (-50 проц. к награде)", 0)
endif
set udg_BackButton=DialogAddButton(udg_ModeWindow, "|cFFBF93D4Назад|r", 0)
call EnableTrigger(gg_trg_Modifiers)
endfunction

//library LevelSettings ends
//library Natives:
function IsDead takes unit u returns boolean
return GetWidgetLife(u) < 0.405 or IsUnitType(u, UNIT_TYPE_DEAD)
endfunction
function PathDestFilter takes nothing returns boolean
local destructable d=GetFilterDestructable()
if d != null then
set udg_destcount=1
endif
set d=null
return false
endfunction
function KnockBackUnit_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit knockbacked=LoadUnitHandle(udg_hash, GetHandleId(t), 0)
local integer amount=LoadInteger(udg_hash, GetHandleId(t), 1)
local real portion=LoadReal(udg_hash, GetHandleId(t), 2)
local integer current=LoadInteger(udg_hash, GetHandleId(t), 3)
local real angle=LoadReal(udg_hash, GetHandleId(t), 4)
local real x=GetUnitX(knockbacked) + portion * Cos(angle * 0.0174532)
local real y=GetUnitY(knockbacked) + portion * Sin(angle * 0.0174532)
local rect r=Rect(x - 80, y - 80, x + 80, y + 80)
if knockbacked != null then
call SaveInteger(udg_hash, GetHandleId(t), 3, current + 1)
set udg_destcount=0
call EnumDestructablesInRect(r, Filter(function PathDestFilter), null)
if current == amount then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
elseif current < amount and udg_destcount == 0 then
if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) == false then
call SetUnitX(knockbacked, x)
call SetUnitY(knockbacked, y)
else
call SetUnitX(knockbacked, GetUnitX(knockbacked))
call SetUnitY(knockbacked, GetUnitY(knockbacked))
endif
endif
else
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
endif
call RemoveRect(r)
set r=null
set knockbacked=null
set t=null
endfunction
function KnockBackUnit2_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit knockbacked=LoadUnitHandle(udg_hash, GetHandleId(t), 0)
local integer amount=LoadInteger(udg_hash, GetHandleId(t), 1)
local real portion=LoadReal(udg_hash, GetHandleId(t), 2)
local integer current=LoadInteger(udg_hash, GetHandleId(t), 3)
local real angle=LoadReal(udg_hash, GetHandleId(t), 4)
local real x=GetUnitX(knockbacked) + portion * Cos(angle * 0.0174532)
local real y=GetUnitY(knockbacked) + portion * Sin(angle * 0.0174532)
local rect r=Rect(x - 80, y - 80, x + 80, y + 80)
if knockbacked != null then
call SaveInteger(udg_hash, GetHandleId(t), 3, current + 1)
set udg_destcount=0
if current == amount then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
elseif current < amount and udg_destcount == 0 then
call SetUnitX(knockbacked, x)
call SetUnitY(knockbacked, y)
endif
else
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
endif
call RemoveRect(r)
set r=null
set knockbacked=null
set t=null
endfunction
function KnockBackUnit takes unit knockbacked,real distance,real time,real degrees,real period returns nothing
local integer amount=R2I(time / period)
local real portion=distance / amount
local timer t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 0, knockbacked)
call SaveInteger(udg_hash, GetHandleId(t), 1, amount)
call SaveReal(udg_hash, GetHandleId(t), 2, portion)
call SaveInteger(udg_hash, GetHandleId(t), 3, 0)
call SaveReal(udg_hash, GetHandleId(t), 4, degrees)
call TimerStart(t, period, true, function KnockBackUnit_Timer)
set t=null
set knockbacked=null
endfunction
function KnockBackUnit2 takes unit knockbacked,real distance,real time,real degrees,real period returns nothing
local integer amount=R2I(time / period)
local real portion=distance / amount
local timer t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 0, knockbacked)
call SaveInteger(udg_hash, GetHandleId(t), 1, amount)
call SaveReal(udg_hash, GetHandleId(t), 2, portion)
call SaveInteger(udg_hash, GetHandleId(t), 3, 0)
call SaveReal(udg_hash, GetHandleId(t), 4, degrees)
call TimerStart(t, period, true, function KnockBackUnit2_Timer)
set t=null
set knockbacked=null
endfunction
function SpellBoom takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real dmg=LoadReal(udg_hash, Id, 1)
local real aoe=LoadReal(udg_hash, Id, 2)
local string str=LoadStr(udg_hash, Id, 3)
local group ug=CreateGroup()
local integer summon=LoadInteger(udg_hash, Id, 4)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect(str, x, y))
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, dmg * 0.50, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
if summon != 0 then
set str=LoadStr(udg_hash, Id, 5)
set aoe=LoadReal(udg_hash, Id, 6)
set u2=CreateUnit(pl, summon, x, y, 270)
call UnitApplyTimedLife(u2, 0x42726169, aoe)
call DestroyEffect(AddSpecialEffectTarget(str, u2, "origin"))
if pl == Player(8) or pl == Player(10) or pl == Player(11) then
call GroupAddUnit(udg_AttackGroup, u2)
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
endif
endif
call FlushChildHashtable(udg_hash, Id)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
set u2=null
set pl=null
set ug=null
endfunction
function Spellmarker takes unit u,real dmg,real aoe,real time,real x,real y,string str,integer summon,string str2,real lifetime returns nothing
local player pl=GetOwningPlayer(u)
local unit u2
local real s=aoe * 0.0093458
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
set u2=CreateUnit(pl, 0x6F303057, x, y, 0)
call SetUnitScale(u2, s, s, s)
call SetUnitVertexColor(u2, 255, 0, 0, 255)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveReal(udg_hash, Id, 2, aoe)
call SaveStr(udg_hash, Id, 3, str)
if summon != 0 then
call SaveInteger(udg_hash, Id, 4, summon)
call SaveStr(udg_hash, Id, 5, str2)
call SaveReal(udg_hash, Id, 6, lifetime)
endif
call TimerStart(t, time, false, function SpellBoom)
set u=null
set u2=null
set pl=null
set t=null
endfunction
function RemoveBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer Buff=LoadInteger(udg_hash, Id, 2)
call UnitRemoveAbility(u, Buff)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function ItemCooldown_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local integer g=LoadInteger(udg_hash, i, 1)
local unit u=LoadUnitHandle(udg_hash, i, 1)
call GroupRemoveUnit(udg_ItemGroup[g], u)
call FlushChildHashtable(udg_hash, i)
call PauseTimer(t)
call DestroyTimer(t)
set u=null
set t=null
endfunction
function DistanceNative takes real x,real y,real x2,real y2 returns real
set x=x2 - x
set y=y2 - y
return SquareRoot(x * x + y * y)
endfunction
function PolarX takes real x,real dist,real angle returns real
set x=x + dist * Cos(angle * bj_DEGTORAD)
return x
endfunction
function PolarY takes real y,real dist,real angle returns real
set y=y + dist * Sin(angle * bj_DEGTORAD)
return y
endfunction
function AngleXY takes real x,real y,real x2,real y2 returns real
return bj_RADTODEG * Atan2(y2 - y, x2 - x)
endfunction
function T1_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T1_Count == T1_End then
loop
set n=n + 1
set T1_Check[n]=false
exitwhen n == T1_Count
endloop
set T1_End=0
endif
set n=GetRandomInt(1, T1_Count)
loop
if T1_Check[n] == false then
set T1_Check[n]=true
set T1_End=T1_End + 1
set result=T1_Item[n]
else
if n == T1_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T2_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T2_Count == T2_End then
loop
set n=n + 1
set T2_Check[n]=false
exitwhen n == T2_Count
endloop
set T2_End=0
endif
set n=GetRandomInt(1, T2_Count)
loop
if T2_Check[n] == false then
set T2_Check[n]=true
set T2_End=T2_End + 1
set result=T2_Item[n]
else
if n == T2_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T3_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T3_Count == T3_End then
loop
set n=n + 1
set T3_Check[n]=false
exitwhen n == T3_Count
endloop
set T3_End=0
endif
set n=GetRandomInt(1, T3_Count)
loop
if T3_Check[n] == false then
set T3_Check[n]=true
set T3_End=T3_End + 1
set result=T3_Item[n]
else
if n == T3_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T4_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T4_Count == T4_End then
loop
set n=n + 1
set T4_Check[n]=false
exitwhen n == T4_Count
endloop
set T4_End=0
endif
set n=GetRandomInt(1, T4_Count)
loop
if T4_Check[n] == false then
set T4_Check[n]=true
set T4_End=T4_End + 1
set result=T4_Item[n]
else
if n == T4_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T5_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T5_Count == T5_End then
loop
set n=n + 1
set T5_Check[n]=false
exitwhen n == T5_Count
endloop
set T5_End=0
endif
set n=GetRandomInt(1, T5_Count)
loop
if T5_Check[n] == false then
set T5_Check[n]=true
set T5_End=T5_End + 1
set result=T5_Item[n]
else
if n == T5_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T6_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T6_Count == T6_End then
loop
set n=n + 1
set T6_Check[n]=false
exitwhen n == T6_Count
endloop
set T6_End=0
endif
set n=GetRandomInt(1, T6_Count)
loop
if T6_Check[n] == false then
set T6_Check[n]=true
set T6_End=T6_End + 1
set result=T6_Item[n]
else
if n == T6_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction
function T7_CreateItem takes nothing returns integer
local integer n=0
local integer result=0
if T7_Count == T7_End then
loop
set n=n + 1
set T7_Check[n]=false
exitwhen n == T7_Count
endloop
set T7_End=0
endif
set n=GetRandomInt(1, T7_Count)
loop
if T7_Check[n] == false then
set T7_Check[n]=true
set T7_End=T7_End + 1
set result=T7_Item[n]
else
if n == T7_Count then
set n=1
else
set n=n + 1
endif
endif
exitwhen result != 0
endloop
return result
endfunction

//library Natives ends
//library setAttribute:
function GetUnitMana takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 38)
return a
endfunction
function GetUnitLife takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 37)
return a
endfunction
function GetUnitExtraArmor takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 35)
return a
endfunction
function GetUnitExtraDamage takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 34)
return a
endfunction
function GetUnitBaseDamage takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 31)
return a
endfunction
function GetUnitLifeRegeneration takes unit u returns real
local integer Id=GetHandleId(u)
local real a=LoadReal(udg_hash, Id, 32)
return a
endfunction
function GetUnitManaRegeneration takes unit u returns real
local integer Id=GetHandleId(u)
local real a=LoadReal(udg_hash, Id, 33)
return a
endfunction
function GetUnitAttackSpeed takes unit u returns integer
local integer Id=GetHandleId(u)
local integer a=LoadInteger(udg_hash, Id, 36)
return a
endfunction
function SetUnitAttackSpeed takes unit u,integer a returns nothing
local integer Id=GetHandleId(u)
local integer p=8
local integer i=0
local integer r=a
if r > 400 then
set r=400
endif
loop
call UnitRemoveAbility(u, setAttribute___abilityAddAttackSpeed[i])
exitwhen i == 8
set i=i + 1
endloop
if r > 0 then
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
call UnitAddAbility(u, setAttribute___abilityAddAttackSpeed[p])
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
call SaveInteger(udg_hash, Id, 36, a)
endif
endfunction
function SetUnitExtraArmor takes unit u,integer a returns nothing
local integer Id=GetHandleId(u)
local integer p=10
local integer i=0
local integer r
if a > 2047 then
set a=2047
endif
loop
call UnitRemoveAbility(u, setAttribute___abilityAddArmor[i])
call UnitRemoveAbility(u, setAttribute___abilityRemoveArmor[i])
exitwhen i == 10
set i=i + 1
endloop
if a > 0 then
set r=a
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
call UnitAddAbility(u, setAttribute___abilityAddArmor[p])
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
elseif a < 0 then
set r=- a
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
call UnitAddAbility(u, setAttribute___abilityRemoveArmor[p])
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
endif
call SaveInteger(udg_hash, Id, 35, a)
endfunction
function SetUnitBaseDamage takes unit u,integer a returns nothing
local integer p=12
local integer r
local integer Id=GetHandleId(u)
local integer pId=LoadInteger(udg_hash, Id, 31)
local boolean q=false
if GetUnitAbilityLevel(u, 0x41496E76) <= 0 then
set q=true
call UnitAddAbility(u, 0x41496E76)
endif
if a > 8191 then
set a=8191
endif
if pId + a < 0 then
set a=- pId
else
if pId != 0 and pId + a > 0 then
set a=- ( pId - a )
endif
endif
if a > 0 then
set r=a
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
set bj_lastCreatedItem=CreateItem(setAttribute___itemAddBaseDamage[p], GetUnitX(u), GetUnitY(u))
call UnitAddItem(u, bj_lastCreatedItem)
call RemoveItem(bj_lastCreatedItem)
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
set pId=pId + a
call SaveInteger(udg_hash, Id, 31, pId)
endif
if GetUnitAbilityLevel(u, 0x41496E76) > 0 and q == true then
call UnitRemoveAbility(u, 0x41496E76)
endif
endfunction
function SetUnitExtraDamage takes unit u,integer a returns nothing
local integer Id=GetHandleId(u)
local integer p=12
local integer index=0
local integer r
if a > 8191 then
set a=8191
endif
loop
call UnitRemoveAbility(u, setAttribute___abilityAddDamage[index])
call UnitRemoveAbility(u, setAttribute___abilityRemoveDamage[index])
exitwhen index == 12
set index=index + 1
endloop
if a > 0 then
set r=a
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
call UnitAddAbility(u, setAttribute___abilityAddDamage[p])
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
elseif a < 0 then
set r=- a
loop
exitwhen r <= 0
if R2I(Pow(2, p)) > r then
set p=p - 1
elseif R2I(Pow(2, p)) <= r then
call UnitAddAbility(u, setAttribute___abilityRemoveDamage[p])
set r=r - R2I(Pow(2, p))
set p=p - 1
endif
endloop
endif
call SaveInteger(udg_hash, Id, 34, a)
endfunction
function SetUnitLife takes unit c,integer hp returns nothing
local integer Id=GetHandleId(c)
set hp=R2I(I2R(hp) - GetUnitState(c, UNIT_STATE_MAX_LIFE))
call SaveInteger(udg_hash, Id, 37, hp)
loop
exitwhen hp == 0
if hp > 0 then
if hp >= 2000 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 10)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 2000
elseif hp >= 500 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 9)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 500
elseif hp >= 200 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 8)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 200
elseif hp >= 50 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 7)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 50
elseif hp >= 20 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 6)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 20
elseif hp >= 10 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 5)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 10
elseif hp >= 5 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 4)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 5
elseif hp >= 2 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 3)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 2
else
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 2)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp - 1
endif
elseif hp < 0 then
if hp <= - 2000 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 19)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 2000
elseif hp <= - 500 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 18)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 500
elseif hp <= - 200 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 17)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 200
elseif hp <= - 50 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 16)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 50
elseif hp <= - 20 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 15)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 20
elseif hp <= - 10 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 14)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 10
elseif hp <= - 5 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 13)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 5
elseif hp <= - 2 then
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 12)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 2
else
call UnitAddAbility(c, 0x61683030)
call SetUnitAbilityLevel(c, 0x61683030, 11)
call UnitRemoveAbility(c, 0x61683030)
set hp=hp + 1
endif
endif
endloop
set c=null
endfunction
function SetUnitMana takes unit c,integer mp returns nothing
local integer Id=GetHandleId(c)
set mp=R2I(I2R(mp) - GetUnitState(c, UNIT_STATE_MAX_MANA))
call SaveInteger(udg_hash, Id, 38, mp)
loop
exitwhen mp == 0
if mp > 0 then
if mp >= 500 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 9)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 500
elseif mp >= 200 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 8)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 200
elseif mp >= 50 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 7)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 50
elseif mp >= 20 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 6)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 20
elseif mp >= 10 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 5)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 10
elseif mp >= 5 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 4)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 5
elseif mp >= 2 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 3)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 2
else
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 2)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp - 1
endif
elseif mp < 0 then
if mp <= - 500 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 17)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 500
elseif mp <= - 200 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 16)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 200
elseif mp <= - 50 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 15)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 50
elseif mp <= - 20 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 14)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 20
elseif mp <= - 10 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 13)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 10
elseif mp <= - 5 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 12)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 5
elseif mp <= - 2 then
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 11)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 2
else
call UnitAddAbility(c, 0x616D3030)
call SetUnitAbilityLevel(c, 0x616D3030, 10)
call UnitRemoveAbility(c, 0x616D3030)
set mp=mp + 1
endif
endif
endloop
set c=null
endfunction
function SetUnitLifeRegeneration takes unit u,real a returns nothing
local integer Id=GetHandleId(u)
if a > 8191 then
set a=8191
endif
call SaveReal(udg_hash, Id, 32, a)
call GroupAddUnit(setAttribute___allUnits, u)
endfunction
function SetUnitManaRegeneration takes unit u,real a returns nothing
local integer Id=GetHandleId(u)
if a > 8191 then
set a=8191
endif
call SaveReal(udg_hash, Id, 33, a)
call GroupAddUnit(setAttribute___allUnits, u)
endfunction
function setAttribute___RestoreParamatersCallback takes nothing returns nothing
local integer Id=GetHandleId(GetEnumUnit())
local real h=LoadReal(udg_hash, Id, 32)
local real m=LoadReal(udg_hash, Id, 33)
call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + h * 0.25)
call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) + m * 0.25)
endfunction
function setAttribute___RestoreParamaters takes nothing returns nothing
call ForGroup(setAttribute___allUnits, function setAttribute___RestoreParamatersCallback)
endfunction
function setAttribute___Initialization takes nothing returns nothing
set setAttribute___abilityAddArmor[0]=0x61613030
set setAttribute___abilityAddArmor[1]=0x61613031
set setAttribute___abilityAddArmor[2]=0x61613032
set setAttribute___abilityAddArmor[3]=0x61613033
set setAttribute___abilityAddArmor[4]=0x61613034
set setAttribute___abilityAddArmor[5]=0x61613035
set setAttribute___abilityAddArmor[6]=0x61613036
set setAttribute___abilityAddArmor[7]=0x61613037
set setAttribute___abilityAddArmor[8]=0x61613038
set setAttribute___abilityAddArmor[9]=0x61613039
set setAttribute___abilityAddArmor[10]=0x61613130
set setAttribute___abilityRemoveArmor[0]=0x72613030
set setAttribute___abilityRemoveArmor[1]=0x72613031
set setAttribute___abilityRemoveArmor[2]=0x72613032
set setAttribute___abilityRemoveArmor[3]=0x72613033
set setAttribute___abilityRemoveArmor[4]=0x72613034
set setAttribute___abilityRemoveArmor[5]=0x72613035
set setAttribute___abilityRemoveArmor[6]=0x72613036
set setAttribute___abilityRemoveArmor[7]=0x72613037
set setAttribute___abilityRemoveArmor[8]=0x72613038
set setAttribute___abilityRemoveArmor[9]=0x72613039
set setAttribute___abilityRemoveArmor[10]=0x72613130
set setAttribute___abilityAddDamage[0]=0x61643030
set setAttribute___abilityAddDamage[1]=0x61643031
set setAttribute___abilityAddDamage[2]=0x61643032
set setAttribute___abilityAddDamage[3]=0x61643033
set setAttribute___abilityAddDamage[4]=0x61643034
set setAttribute___abilityAddDamage[5]=0x61643035
set setAttribute___abilityAddDamage[6]=0x61643036
set setAttribute___abilityAddDamage[7]=0x61643037
set setAttribute___abilityAddDamage[8]=0x61643038
set setAttribute___abilityAddDamage[9]=0x61643039
set setAttribute___abilityAddDamage[10]=0x61643130
set setAttribute___abilityAddDamage[11]=0x61643131
set setAttribute___abilityAddDamage[12]=0x61643132
set setAttribute___abilityRemoveDamage[0]=0x72643030
set setAttribute___abilityRemoveDamage[1]=0x72643031
set setAttribute___abilityRemoveDamage[2]=0x72643032
set setAttribute___abilityRemoveDamage[3]=0x72643033
set setAttribute___abilityRemoveDamage[4]=0x72643034
set setAttribute___abilityRemoveDamage[5]=0x72643035
set setAttribute___abilityRemoveDamage[6]=0x72643036
set setAttribute___abilityRemoveDamage[7]=0x72643037
set setAttribute___abilityRemoveDamage[8]=0x72643038
set setAttribute___abilityRemoveDamage[9]=0x72643039
set setAttribute___abilityRemoveDamage[10]=0x72643130
set setAttribute___abilityRemoveDamage[11]=0x72643131
set setAttribute___abilityRemoveDamage[12]=0x72643132
set setAttribute___itemAddBaseDamage[0]=0x69643030
set setAttribute___itemAddBaseDamage[1]=0x69643031
set setAttribute___itemAddBaseDamage[2]=0x69643032
set setAttribute___itemAddBaseDamage[3]=0x69643033
set setAttribute___itemAddBaseDamage[4]=0x69643034
set setAttribute___itemAddBaseDamage[5]=0x69643035
set setAttribute___itemAddBaseDamage[6]=0x69643036
set setAttribute___itemAddBaseDamage[7]=0x69643037
set setAttribute___itemAddBaseDamage[8]=0x69643038
set setAttribute___itemAddBaseDamage[9]=0x69643039
set setAttribute___itemAddBaseDamage[10]=0x69643130
set setAttribute___itemAddBaseDamage[11]=0x69643131
set setAttribute___itemAddBaseDamage[12]=0x69643132
set setAttribute___abilityAddAttackSpeed[0]=0x61733030
set setAttribute___abilityAddAttackSpeed[1]=0x61733031
set setAttribute___abilityAddAttackSpeed[2]=0x61733032
set setAttribute___abilityAddAttackSpeed[3]=0x61733033
set setAttribute___abilityAddAttackSpeed[4]=0x61733034
set setAttribute___abilityAddAttackSpeed[5]=0x61733035
set setAttribute___abilityAddAttackSpeed[6]=0x61733036
set setAttribute___abilityAddAttackSpeed[7]=0x61733037
set setAttribute___abilityAddAttackSpeed[8]=0x61733038
set setAttribute___Restoration=CreateTimer()
call TimerStart(setAttribute___Restoration, 0.25, true, function setAttribute___RestoreParamaters)
set setAttribute___wholeMap=CreateRegion()
call RegionAddRect(setAttribute___wholeMap, bj_mapInitialPlayableArea)
endfunction

//library setAttribute ends
function InitGlobals takes nothing returns nothing
local integer i=0
set udg_AI=CreateForce()
set udg_IncomeTimer=CreateTimer()
set udg_PlayersGroup=CreateForce()
set i=0
loop
exitwhen ( i > 8 )
set udg_Income[i]=0
set i=i + 1
endloop
set udg_n=0
set udg_ug=CreateGroup()
set i=0
loop
exitwhen ( i > 8 )
set udg_ItemBonusDMG[i]=0
set i=i + 1
endloop
set udg_AllHeroes=CreateGroup()
set udg_r=0
set udg_EventTimer=CreateTimer()
set udg_ChooseLvlWindow=DialogCreate()
set udg_AllPoints=0
set udg_WaveFase=0
set udg_DeadHeroes=CreateGroup()
set i=0
loop
exitwhen ( i > 8 )
set udg_Hammer[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Hammer2[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 5 )
set udg_SpawnTimer[i]=CreateTimer()
set i=i + 1
endloop
set udg_Every20secTimer=CreateTimer()
set udg_PlayersCount=0
set udg_WeakCreepsUPTimer=CreateTimer()
set udg_Runs=0
set udg_Rune=0
set i=0
loop
exitwhen ( i > 1 )
set udg_Runaa[i]=0
set i=i + 1
endloop
set udg_LvlNameNT=""
set udg_Check=0
set i=0
loop
exitwhen ( i > 1 )
set udg_PlayerNumber[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 1 )
set udg_DeathAmountNT[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 1 )
set udg_HerokillsAmountNT[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 1 )
set udg_KillsAmountNT[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 1 )
set udg_TimeNT[i]=0
set i=i + 1
endloop
set udg_PlayerOnline=0
set udg_RandomCheck=CreateForce()
set udg_RHMax=0
set i=0
loop
exitwhen ( i > 60 )
set udg_RHcheck[i]=false
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_ShieldOfDeath[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_ShieldOfDeath2[i]=0
set i=i + 1
endloop
set udg_ExpTimer=CreateTimer()
set udg_r2=0
set i=0
loop
exitwhen ( i > 8 )
set udg_ExpIncome[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Points[i]=0
set i=i + 1
endloop
set udg_Every05sec=CreateTimer()
set udg_dmg=0
set i=0
loop
exitwhen ( i > 8 )
set udg_CourierCheck[i]=false
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_ShieldOfDeath3[i]=0
set i=i + 1
endloop
set udg_dmg2=0
set udg_ug2=CreateGroup()
set i=0
loop
exitwhen ( i > 8 )
set udg_Hammer3[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Elixir3[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_CTWindow[i]=DialogCreate()
set i=i + 1
endloop
set udg_n2=0
set i=0
loop
exitwhen ( i > 8 )
set udg_Spear[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Spear2[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Spear3[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_ArhuvariusLogic[i]=false
set i=i + 1
endloop
set udg_ConcRing=CreateGroup()
set udg_BunkerWTimer=CreateTimer()
set udg_lvl12ug=CreateGroup()
set i=0
loop
exitwhen ( i > 22 )
set udg_ArtLogic[i]=false
set i=i + 1
endloop
set udg_Lvl=0
set udg_n3=0
set udg_n4=0
set udg_n5=0
set udg_Reward=0
set udg_NoSkillsGroup=CreateGroup()
set i=0
loop
exitwhen ( i > 10 )
set udg_Modifiers[i]=false
set i=i + 1
endloop
set udg_ModReward=1.00
set udg_EnemyHeroLvl=0
set udg_GIRandom=0
set udg_AttackGroup=CreateGroup()
set udg_AttackGroup2=CreateGroup()
set udg_ExtraEnemyHero=CreateTimer()
set udg_AutoHireGroup=CreateGroup()
set udg_EndlessEnemyHeroes=CreateTimer()
set udg_Gandikap=1.00
set udg_BossTimer=CreateTimer()
set i=0
loop
exitwhen ( i > 3 )
set udg_SpawnTimerCount[i]=0
set i=i + 1
endloop
set udg_EnemyHeroes=CreateGroup()
set udg_string=""
set udg_PandaGroupW=CreateGroup()
set i=0
loop
exitwhen ( i > 8 )
set udg_Elixir[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 8 )
set udg_Elixir2[i]=0
set i=i + 1
endloop
set udg_StormPandaWCount=0
set udg_StormPandaWTimer=CreateTimer()
set udg_StormPandaWAngle=0
set udg_StormPandaWcof=0
set udg_StormPandaBuff=0
set udg_StormPandaD=false
set udg_CrystallHP=1.00
set udg_Every60sec=CreateTimer()
set udg_LegatQGroup=CreateGroup()
set udg_LegatQTimer=CreateTimer()
set udg_LegatQCount=0
set udg_LegatE=0.04
set udg_LegatWCount=0
set udg_LegatWTimer=CreateTimer()
set udg_LegatWGroup=CreateGroup()
set udg_CrystalCavesGroup=CreateGroup()
set udg_Lose=false
set udg_MaxWave=0
set udg_ApopheosisTimer=CreateTimer()
set udg_MoonE=false
set i=0
loop
exitwhen ( i > 8 )
set udg_GoldAmount[i]=0
set i=i + 1
endloop
set udg_MoonDisarm=CreateGroup()
set udg_MoonRTimer=CreateTimer()
set udg_MoonRCount=0
set udg_MoonRLogic=false
set udg_MoonEDmg=1.00
set udg_BardRTimer=CreateTimer()
set udg_AttackGroup3=CreateGroup()
set udg_RHlimit=0
set udg_Every5secTimer=CreateTimer()
set udg_KilroggQUgol=0
set i=0
loop
exitwhen ( i > 3 )
set udg_KilroggTimer[i]=CreateTimer()
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 4 )
set udg_KilroggCount[i]=0
set i=i + 1
endloop
set udg_KilroggDGroup=CreateGroup()
set udg_KilroggD=false
set udg_KilroggW=1.00
set udg_SilverRCount=0
set i=0
loop
exitwhen ( i > 2 )
set udg_SilverTimer[i]=CreateTimer()
set i=i + 1
endloop
set udg_StormPandaRLogic=false
set udg_StormPandaRDmg=0
set udg_Every40sec=CreateTimer()
set i=0
loop
exitwhen ( i > 8 )
set udg_SIncome[i]=0
set i=i + 1
endloop
set udg_NoGiftArtGroup=CreateGroup()
set i=0
loop
exitwhen ( i > 8 )
set udg_Pet[i]=null
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 2 )
set udg_DreadlordTimer[i]=CreateTimer()
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 2 )
set udg_DreadlordCount[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 2 )
set udg_DreadlordQuest[i]=0
set i=i + 1
endloop
set i=0
loop
exitwhen ( i > 60 )
set udg_ItemGroup[i]=CreateGroup()
set i=i + 1
endloop
set udg_ModeWindow=DialogCreate()
set i=0
loop
exitwhen ( i > 3 )
set udg_ComplectHellGroup[i]=CreateGroup()
set i=i + 1
endloop
set udg_NoUltimateGroup=CreateGroup()
set udg_Lvl6ItemCondition=0
set udg_ExpTimerCount=0
set i=0
loop
exitwhen ( i > 8 )
set udg_PlayerExpHandicap[i]=1.00
set i=i + 1
endloop
set udg_CheckSaveGroup=CreateForce()
set udg_destcount=0
set udg_EndWaveTimer=CreateTimer()
set udg_PurpleItemsCount=0
set udg_DruidRegenGroup=CreateGroup()
endfunction
function Unit000309_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303046, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000820_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x4930375A, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000821_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000872_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000873_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000880_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303943, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000881_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x4930375A, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000891_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000892_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303944, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000896_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000902_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000904_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303945, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000906_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000912_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x4930375A, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000917_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000921_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303943, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000924_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303943, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000935_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000938_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000940_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x4930375A, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit001099_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x4930375A, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit001102_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303830, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit001110_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303945, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit001115_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if ( trigWidget == null ) then
set trigUnit=GetTriggerUnit()
endif
if ( trigUnit != null ) then
set canDrop=not IsUnitHidden(trigUnit)
if ( canDrop and GetChangingUnit() != null ) then
set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endif
endif
if ( canDrop ) then
call RandomDistReset()
call RandomDistAddItem(0x49303943, 100)
set itemID=RandomDistChoose()
if ( trigUnit != null ) then
call UnitDropItem(trigUnit, itemID)
else
call WidgetDropItem(trigWidget, itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitSounds takes nothing returns nothing
set gg_snd_Hint=CreateSound("Sound\\Interface\\Hint.wav", false, false, false, 10, 10, "")
call SetSoundParamsFromLabel(gg_snd_Hint, "Hint")
call SetSoundDuration(gg_snd_Hint, 2006)
endfunction
function CreateAllDestructables takes nothing returns nothing
local destructable d
local trigger t
local real life
set gg_dest_B000_2588=CreateDestructable(0x42303030, - 10752.0, 384.0, 270.000, 1.000, 0)
set gg_dest_B000_2591=CreateDestructable(0x42303030, - 10752.0, - 4224.0, 270.000, 1.000, 0)
set gg_dest_DTg3_1670=CreateDestructable(0x44546733, - 3072.0, 1600.0, 0.000, 0.900, 0)
set gg_dest_DTg3_1671=CreateDestructable(0x44546733, 2560.0, 1600.0, 0.000, 0.900, 0)
set gg_dest_Dofw_8504=CreateDestructable(0x446F6677, 1536.0, 12480.0, 180.000, 1.000, 0)
set gg_dest_Dofw_8492=CreateDestructable(0x446F6677, 512.0, 10624.0, 0.000, 1.000, 0)
set gg_dest_Dofw_8503=CreateDestructable(0x446F6677, 1536.0, 8768.0, 180.000, 1.000, 0)
set gg_dest_Dofw_1304=CreateDestructable(0x446F6677, - 11008.0, 5504.0, 0.000, 1.000, 0)
set gg_dest_Dofw_1306=CreateDestructable(0x446F6677, - 13184.0, 7680.0, 90.000, 1.000, 0)
endfunction
function CreateUnitsForPlayer0 takes nothing returns nothing
local player p=Player(0)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0094=CreateUnit(p, 0x65303030, 12157.3, 12045.6, 204.682)
endfunction
function CreateUnitsForPlayer1 takes nothing returns nothing
local player p=Player(1)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0101=CreateUnit(p, 0x65303030, 12201.6, 12406.2, 204.680)
endfunction
function CreateUnitsForPlayer2 takes nothing returns nothing
local player p=Player(2)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0102=CreateUnit(p, 0x65303030, 12384.3, 12239.2, 204.680)
endfunction
function CreateUnitsForPlayer3 takes nothing returns nothing
local player p=Player(3)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0103=CreateUnit(p, 0x65303030, 12546.7, 11996.0, 204.680)
endfunction
function CreateUnitsForPlayer4 takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0104=CreateUnit(p, 0x65303030, 12432.8, 11852.4, 204.680)
endfunction
function CreateUnitsForPlayer5 takes nothing returns nothing
local player p=Player(5)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0105=CreateUnit(p, 0x65303030, 12165.5, 11713.5, 204.680)
endfunction
function CreateUnitsForPlayer6 takes nothing returns nothing
local player p=Player(6)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0106=CreateUnit(p, 0x65303030, 11889.7, 11918.0, 204.680)
endfunction
function CreateUnitsForPlayer7 takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_e000_0107=CreateUnit(p, 0x65303030, 11859.0, 12206.1, 204.680)
endfunction
function CreateUnitsForPlayer11 takes nothing returns nothing
local player p=Player(11)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p, 0x6E30315A, 25204.1, - 12828.6, 157.970)
call SetUnitAcquireRange(u, 200.0)
endfunction
function CreateNeutralHostileBuildings takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p, 0x6E303030, - 9856.0, 8832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9088.0, 8832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9088.0, 9600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9856.0, 9600.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8544.0, 10144.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8544.0, 8288.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 10400.0, 8288.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 10400.0, 10144.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9856.0, 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9088.0, 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7872.0, 9600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7872.0, 8832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9088.0, 7616.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9856.0, 7616.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, 8832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, 9600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 10432.0, 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, 10176.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 10432.0, 7616.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8512.0, 7616.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7872.0, 8256.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7872.0, 10176.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8512.0, 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9824.0, 8352.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9120.0, 8352.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10336.0, 8864.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10336.0, 9568.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9824.0, 10080.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9120.0, 10080.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8608.0, 9568.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8608.0, 8864.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, 8256.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 10816.0, 7872.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 10816.0, 10560.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 8128.0, 10560.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 8128.0, 7872.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8224.0, 7392.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 7648.0, 7968.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10720.0, 7392.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 11296.0, 7968.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10720.0, 11040.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 11296.0, 10464.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8224.0, 11040.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 7648.0, 10464.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12096.0, 7232.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11456.0, 6592.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11520.0, 6848.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11840.0, 7168.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11584.0, 7104.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7488.0, 6592.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 6848.0, 7232.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7104.0, 7168.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7424.0, 6848.0, 270.000)
set gg_unit_n000_0066=CreateUnit(p, 0x6E303030, - 7360.0, 7104.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 6848.0, 11200.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7488.0, 11840.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7424.0, 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7104.0, 11264.0, 270.000)
set gg_unit_n000_0071=CreateUnit(p, 0x6E303030, - 7360.0, 11328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11456.0, 11840.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12096.0, 11200.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11840.0, 11264.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11520.0, 11584.0, 270.000)
set gg_unit_n000_0076=CreateUnit(p, 0x6E303030, - 11584.0, 11328.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 11104.0, 6880.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 11808.0, 7584.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7840.0, 6880.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7136.0, 7584.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7136.0, 10848.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7840.0, 11552.0, 270.000)
set gg_unit_n068_0084=CreateUnit(p, 0x6E303638, - 7552.0, 11136.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 5056.0, 12160.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 5184.0, 9216.0, 270.000)
set gg_unit_n068_0087=CreateUnit(p, 0x6E303638, - 7552.0, 7296.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10720.0, 6880.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 11808.0, 7968.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 11808.0, 10848.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 11104.0, 11552.0, 270.000)
set gg_unit_n01U_0097=CreateUnit(p, 0x6E303155, 1536.0, 11840.0, 270.000)
set gg_unit_n01U_0098=CreateUnit(p, 0x6E303155, 3072.0, 11840.0, 270.000)
set gg_unit_n01U_0099=CreateUnit(p, 0x6E303155, 1536.0, 9408.0, 270.000)
set gg_unit_n01U_0108=CreateUnit(p, 0x6E303155, 3072.0, 9408.0, 270.000)
set gg_unit_n000_0109=CreateUnit(p, 0x6E303030, 1536.0, 12928.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 3072.0, 12928.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 3072.0, 8320.0, 270.000)
set gg_unit_n000_0112=CreateUnit(p, 0x6E303030, 1536.0, 8320.0, 270.000)
set gg_unit_n01U_0115=CreateUnit(p, 0x6E303155, - 9728.0, - 12032.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1952.0, 10144.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 1952.0, 11104.0, 270.000)
set gg_unit_n002_0119=CreateUnit(p, 0x6E303032, 2656.0, 11104.0, 270.000)
set gg_unit_n003_0121=CreateUnit(p, 0x6E303033, 2304.0, 8896.0, 270.000)
set gg_unit_n003_0122=CreateUnit(p, 0x6E303033, 2304.0, 12352.0, 270.000)
set gg_unit_n000_0123=CreateUnit(p, 0x6E303030, 1856.0, 12672.0, 270.000)
set gg_unit_n000_0124=CreateUnit(p, 0x6E303030, 1856.0, 12224.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2752.0, 12672.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2752.0, 12224.0, 270.000)
set gg_unit_n000_0127=CreateUnit(p, 0x6E303030, 1856.0, 8576.0, 270.000)
set gg_unit_n000_0128=CreateUnit(p, 0x6E303030, 1856.0, 9024.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2752.0, 8576.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2752.0, 9024.0, 270.000)
set gg_unit_n001_0131=CreateUnit(p, 0x6E303031, - 736.0, 11040.0, 270.000)
set gg_unit_n001_0132=CreateUnit(p, 0x6E303031, - 800.0, 10016.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 5344.0, 11232.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 5344.0, 10208.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 4896.0, 11552.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 4960.0, 9824.0, 270.000)
set gg_unit_n001_0137=CreateUnit(p, 0x6E303031, - 352.0, 9632.0, 270.000)
set gg_unit_n001_0138=CreateUnit(p, 0x6E303031, - 224.0, 11360.0, 270.000)
set gg_unit_n002_0139=CreateUnit(p, 0x6E303032, - 288.0, 12256.0, 270.000)
set gg_unit_n002_0140=CreateUnit(p, 0x6E303032, - 416.0, 8928.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 5024.0, 9056.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 4896.0, 12320.0, 270.000)
set gg_unit_n003_0143=CreateUnit(p, 0x6E303033, 4608.0, 10624.0, 270.000)
set gg_unit_n003_0144=CreateUnit(p, 0x6E303033, - 64.0, 10624.0, 270.000)
set gg_unit_n000_0145=CreateUnit(p, 0x6E303030, - 896.0, 11968.0, 270.000)
set gg_unit_n000_0146=CreateUnit(p, 0x6E303030, - 1024.0, 11264.0, 270.000)
set gg_unit_n000_0147=CreateUnit(p, 0x6E303030, - 1152.0, 9856.0, 270.000)
set gg_unit_n000_0148=CreateUnit(p, 0x6E303030, - 1024.0, 9280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5952.0, 11392.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5760.0, 12032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5824.0, 10048.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5632.0, 9472.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5888.0, 9664.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6016.0, 11776.0, 270.000)
set gg_unit_n000_0155=CreateUnit(p, 0x6E303030, - 1216.0, 9536.0, 270.000)
set gg_unit_n000_0156=CreateUnit(p, 0x6E303030, - 1152.0, 11648.0, 270.000)
set gg_unit_n068_0157=CreateUnit(p, 0x6E303638, - 640.0, 9024.0, 270.000)
set gg_unit_n068_0158=CreateUnit(p, 0x6E303638, - 512.0, 12224.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 10560.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 10560.0, - 11584.0, 270.000)
set gg_unit_n01U_0161=CreateUnit(p, 0x6E303155, - 6656.0, - 12032.0, 270.000)
set gg_unit_n003_0162=CreateUnit(p, 0x6E303033, - 6272.0, - 12544.0, 270.000)
set gg_unit_n003_0163=CreateUnit(p, 0x6E303033, - 6272.0, - 11520.0, 270.000)
set gg_unit_n003_0171=CreateUnit(p, 0x6E303033, - 10112.0, - 11520.0, 270.000)
set gg_unit_n003_0172=CreateUnit(p, 0x6E303033, - 10112.0, - 12544.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9024.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9664.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9664.0, - 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9024.0, - 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7360.0, - 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 6720.0, - 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7360.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 6720.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7712.0, - 12576.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8672.0, - 12576.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8672.0, - 11488.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7712.0, - 11488.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10464.0, - 12832.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10464.0, - 11232.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 5920.0, - 11232.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 5920.0, - 12832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, - 12736.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, - 11328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5312.0, - 11328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5312.0, - 12736.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5056.0, - 12992.0, 270.000)
set gg_unit_n001_0198=CreateUnit(p, 0x6E303031, 2656.0, 10144.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5056.0, - 11072.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11328.0, - 12992.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11328.0, - 11072.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 10208.0, - 13152.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 6176.0, - 13152.0, 270.000)
set gg_unit_n000_0206=CreateUnit(p, 0x6E303030, - 6144.0, - 12032.0, 270.000)
set gg_unit_n000_0207=CreateUnit(p, 0x6E303030, - 10240.0, - 12032.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9760.0, - 13152.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 6624.0, - 13152.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 6624.0, - 10912.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9760.0, - 10912.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 5824.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 5824.0, - 11584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5312.0, - 13248.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5312.0, - 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, - 13248.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11072.0, - 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 10208.0, - 10912.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 6176.0, - 10912.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8544.0, - 9248.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 7712.0, - 9248.0, 270.000)
set gg_unit_n000_0227=CreateUnit(p, 0x6E303030, - 8128.0, - 9088.0, 270.000)
set gg_unit_n000_0228=CreateUnit(p, 0x6E303030, - 8768.0, - 9536.0, 270.000)
set gg_unit_n000_0229=CreateUnit(p, 0x6E303030, - 7488.0, - 9536.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 832.0, 704.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1344.0, 1216.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1344.0, 704.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1856.0, 1216.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1856.0, 1984.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 1344.0, 2496.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 1472.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1344.0, 1984.0, 270.000)
set u=CreateUnit(p, 0x6E303155, - 256.0, 5568.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 2336.0, 5088.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 576.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 192.0, - 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 704.0, - 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 1088.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 864.0, 1184.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 864.0, 2016.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 352.0, 2016.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 352.0, 1184.0, 270.000)
set u=CreateUnit(p, 0x68303035, - 448.0, - 1664.0, 270.000)
set u=CreateUnit(p, 0x68303035, - 64.0, - 1664.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 256.0, 1024.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 256.0, 2176.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 640.0, 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1152.0, 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 96.0, 5728.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 608.0, 5728.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 11776.0, - 4800.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 9728.0, 1472.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 10752.0, - 768.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 10752.0, - 3200.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12160.0, - 3968.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12224.0, - 4416.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9216.0, 704.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9344.0, 128.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9536.0, - 256.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 10048.0, - 320.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11968.0, - 3712.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11456.0, - 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 11616.0, - 4128.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 11744.0, - 4320.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 9824.0, 160.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 9696.0, 352.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8544.0, - 1760.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8672.0, - 1952.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 13280.0, - 2016.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 13152.0, - 1824.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8608.0, - 4384.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 8480.0, - 4192.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8704.0, - 3968.0, 270.000)
set gg_unit_n068_0306=CreateUnit(p, 0x6E303638, - 11968.0, - 3904.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8832.0, - 4480.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 13088.0, 672.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 13024.0, 864.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12992.0, 448.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 13120.0, 1088.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11968.0, - 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11456.0, - 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9984.0, - 3264.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9536.0, - 3264.0, 270.000)
set gg_unit_n068_0316=CreateUnit(p, 0x6E303638, - 9472.0, - 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8640.0, - 1472.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8960.0, - 1984.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12864.0, - 2112.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 13056.0, - 1536.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 2912.0, 5088.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 13440.0, - 1728.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 8320.0, - 2048.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11712.0, - 448.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9728.0, - 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 9344.0, 1216.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 12096.0, - 5056.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 32.0, 6048.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 544.0, 6048.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 576.0, 5760.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 576.0, 6144.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1088.0, 5760.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1088.0, 6144.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 320.0, 3328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 832.0, 3328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 896.0, 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 384.0, 3584.0, 270.000)
set gg_unit_h01X_0342=CreateUnit(p, 0x68303158, - 256.0, 5888.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 11808.0, 10464.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 10720.0, 11552.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 608.0, - 1312.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 256.0, 5248.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 704.0, 5312.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1216.0, 5312.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 960.0, 5056.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 704.0, 4800.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 192.0, 4800.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1376.0, 2528.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 1888.0, 2528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 448.0, 5056.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 96.0, - 1312.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 256.0, 256.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 640.0, 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 128.0, 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 640.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 128.0, 2368.0, 270.000)
set gg_unit_n000_0364=CreateUnit(p, 0x6E303030, 2880.0, 9280.0, 270.000)
set gg_unit_n000_0365=CreateUnit(p, 0x6E303030, 1728.0, 9280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 512.0, 2880.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 0.0, 2880.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1280.0, 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 832.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 768.0, 1920.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 768.0, 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 704.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 128.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1344.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1280.0, 1920.0, 270.000)
set gg_unit_n000_0376=CreateUnit(p, 0x6E303030, 1728.0, 11968.0, 270.000)
set gg_unit_n000_0377=CreateUnit(p, 0x6E303030, 2880.0, 11968.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 736.0, - 8160.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 1312.0, - 8736.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7872.0, - 896.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 768.0, - 8448.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 960.0, - 8704.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 1056.0, - 8416.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 6048.0, - 4960.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1952.0, - 3424.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 2656.0, - 4128.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 3680.0, - 6368.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 3360.0, - 6560.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 2336.0, - 4256.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1024.0, 5440.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1536.0, 5440.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2944.0, 2560.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2944.0, 2432.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 2816.0, 576.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 3328.0, 576.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 1344.0, 5952.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 3456.0, 2560.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1824.0, - 3744.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 1984.0, - 4096.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 3008.0, - 6912.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 2784.0, - 8416.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 96.0, 352.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 608.0, 352.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1824.0, - 5856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 960.0, 384.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 448.0, 384.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 576.0, 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 64.0, 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 448.0, 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 960.0, 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 3456.0, 2432.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 832.0, 5952.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 2592.0, - 3488.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2496.0, - 7872.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2304.0, - 7296.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1600.0, - 6464.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1984.0, - 6912.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 1984.0, - 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 1280.0, - 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2624.0, - 7488.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 2432.0, - 6336.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 7424.0, - 256.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 9248.0, 3296.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7232.0, 192.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7616.0, 192.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6848.0, - 896.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6912.0, 3200.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 5664.0, - 1120.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 9056.0, - 1184.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 10080.0, - 352.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 4768.0, - 288.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 4832.0, 2656.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 10016.0, 2592.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 10016.0, 1312.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 10016.0, 992.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 4832.0, 1312.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 4832.0, 992.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 9600.0, 1152.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 5248.0, 1152.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5568.0, 1472.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 5568.0, 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 4928.0, - 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 4928.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 9920.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 9920.0, - 64.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 9280.0, 1472.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 9280.0, 832.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7936.0, 3200.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8224.0, 6880.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 7136.0, 7968.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 3776.0, - 6656.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 6528.0, - 3904.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 3360.0, - 4128.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 6432.0, - 4320.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 6176.0, - 4640.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 6336.0, - 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5056.0, - 4672.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5504.0, - 4864.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 5760.0, - 4672.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 4864.0, - 4864.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 5248.0, - 4480.0, 270.000)
set u=CreateUnit(p, 0x6E303033, - 384.0, - 3200.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 224.0, - 3232.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 192.0, - 4416.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 384.0, - 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 128.0, - 4160.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 0.0, - 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 2208.0, - 3232.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 2624.0, - 3392.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 3072.0, - 3840.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 4480.0, - 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 4352.0, - 3200.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 4672.0, - 3328.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 3360.0, - 7072.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 3584.0, - 7296.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 7136.0, 10464.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 8224.0, 11552.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7680.0, 10880.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7808.0, 11008.0, 270.000)
set gg_unit_n000_0504=CreateUnit(p, 0x6E303030, - 5056.0, - 12544.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8512.0, 256.0, 270.000)
set gg_unit_n000_0506=CreateUnit(p, 0x6E303030, - 5056.0, - 11520.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8512.0, 2048.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6336.0, 2048.0, 270.000)
set gg_unit_n000_0509=CreateUnit(p, 0x6E303030, - 11328.0, - 12544.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6336.0, 256.0, 270.000)
set gg_unit_n000_0511=CreateUnit(p, 0x6E303030, - 11328.0, - 11520.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 6304.0, 544.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 8544.0, 544.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 6304.0, 1760.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 8544.0, 1760.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 7104.0, - 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7680.0, - 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7232.0, 3392.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 7744.0, 3392.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 5088.0, 4192.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 9760.0, 4000.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 5664.0, 3616.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 5216.0, - 1952.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 9888.0, - 1888.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 7424.0, 4736.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 7360.0, - 2560.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6464.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8448.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6464.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8384.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7744.0, 4160.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7232.0, 4160.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7488.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7104.0, - 1984.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7616.0, - 1984.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7360.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6336.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8512.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 6336.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 8320.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 9856.0, - 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 4992.0, - 1408.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 4992.0, 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 9920.0, 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11264.0, 10880.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7616.0, 2112.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 7232.0, 2112.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11136.0, 11008.0, 270.000)
set u=CreateUnit(p, 0x6F303056, 11456.0, - 6592.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 8480.0, - 928.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 6304.0, - 928.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 6368.0, 3232.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 8480.0, 3232.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 7424.0, 2560.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 768.0, - 3520.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 448.0, - 4160.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 2816.0, - 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11136.0, 7424.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11264.0, 7552.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7808.0, 7424.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 7680.0, 7552.0, 270.000)
set gg_unit_n000_0581=CreateUnit(p, 0x6E303030, - 896.0, 9600.0, 270.000)
set gg_unit_n000_0582=CreateUnit(p, 0x6E303030, - 832.0, 11584.0, 270.000)
set gg_unit_n000_0583=CreateUnit(p, 0x6E303030, 5696.0, 11648.0, 270.000)
set gg_unit_n000_0584=CreateUnit(p, 0x6E303030, 5568.0, 9856.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19520.0, - 9280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19776.0, - 9536.0, 270.000)
set u=CreateUnit(p, 0x6E30304D, 11520.0, - 7168.0, 270.000)
set u=CreateUnit(p, 0x6E30304D, 10880.0, - 6848.0, 270.000)
set gg_unit_n003_0595=CreateUnit(p, 0x6E303033, 6976.0, - 6976.0, 270.000)
set gg_unit_n000_0596=CreateUnit(p, 0x6E303030, 6464.0, - 8000.0, 270.000)
set gg_unit_n000_0597=CreateUnit(p, 0x6E303030, 5568.0, - 8000.0, 270.000)
set gg_unit_n000_0598=CreateUnit(p, 0x6E303030, 6464.0, - 7232.0, 270.000)
set gg_unit_n000_0599=CreateUnit(p, 0x6E303030, 7232.0, - 6464.0, 270.000)
set gg_unit_n000_0600=CreateUnit(p, 0x6E303030, 8256.0, - 5440.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 16384.0, 6848.0, 270.000)
set gg_unit_n000_0608=CreateUnit(p, 0x6E303030, 8000.0, - 6208.0, 270.000)
set u=CreateUnit(p, 0x6E303048, 6336.0, - 11392.0, 270.000)
set u=CreateUnit(p, 0x75303039, 6752.0, - 11168.0, 270.000)
set gg_unit_n002_0611=CreateUnit(p, 0x6E303032, 5600.0, - 6688.0, 270.000)
set gg_unit_n002_0612=CreateUnit(p, 0x6E303032, 6688.0, - 5600.0, 270.000)
set gg_unit_n001_0613=CreateUnit(p, 0x6E303031, 6304.0, - 5472.0, 270.000)
set gg_unit_n001_0614=CreateUnit(p, 0x6E303031, 5472.0, - 6304.0, 270.000)
set gg_unit_n000_0615=CreateUnit(p, 0x6E303030, 6528.0, - 6528.0, 270.000)
set gg_unit_n068_0616=CreateUnit(p, 0x6E303638, 6016.0, - 6016.0, 270.000)
set u=CreateUnit(p, 0x75303045, 6336.0, - 11008.0, 270.000)
set gg_unit_n000_0625=CreateUnit(p, 0x6E303030, 10496.0, - 12672.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 10688.0, - 12224.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 10176.0, - 12992.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 4992.0, - 12736.0, 270.000)
set u=CreateUnit(p, 0x68303232, 5568.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x68303232, 5248.0, - 13120.0, 270.000)
set gg_unit_n000_0635=CreateUnit(p, 0x6E303030, 12352.0, - 10816.0, 270.000)
set gg_unit_n001_0637=CreateUnit(p, 0x6E303031, 8160.0, - 12960.0, 270.000)
set gg_unit_n002_0638=CreateUnit(p, 0x6E303032, 6944.0, - 11936.0, 270.000)
set gg_unit_n003_0639=CreateUnit(p, 0x6E303033, 11392.0, - 4096.0, 270.000)
set gg_unit_n002_0640=CreateUnit(p, 0x6E303032, 11872.0, - 4640.0, 270.000)
set gg_unit_n000_0643=CreateUnit(p, 0x6E303030, 12800.0, - 5376.0, 270.000)
set gg_unit_n000_0645=CreateUnit(p, 0x6E303030, 12096.0, - 3264.0, 270.000)
set gg_unit_n000_0646=CreateUnit(p, 0x6E303030, 10944.0, - 4672.0, 270.000)
set gg_unit_n01U_0647=CreateUnit(p, 0x6E303155, 6272.0, - 6272.0, 270.000)
set gg_unit_n001_0648=CreateUnit(p, 0x6E303031, 7584.0, - 6624.0, 270.000)
set gg_unit_n000_0649=CreateUnit(p, 0x6E303030, 7232.0, - 5824.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 11840.0, - 10816.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 12864.0, - 10944.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 12096.0, - 11968.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 11584.0, - 12480.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 12320.0, - 11232.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 10784.0, - 12832.0, 270.000)
set gg_unit_n000_0657=CreateUnit(p, 0x6E303030, 5824.0, - 7232.0, 270.000)
set gg_unit_n000_0658=CreateUnit(p, 0x6E303030, 13248.0, - 2880.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 18752.0, - 10176.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 12416.0, - 12736.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 12448.0, - 12320.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 12000.0, - 12768.0, 270.000)
set gg_unit_n000_0663=CreateUnit(p, 0x6E303030, 13120.0, - 3008.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19008.0, - 10432.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 18944.0, - 9984.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19328.0, - 9472.0, 270.000)
set gg_unit_n002_0668=CreateUnit(p, 0x6E303032, 12704.0, - 3488.0, 270.000)
set gg_unit_n002_0669=CreateUnit(p, 0x6E303032, 12128.0, - 4192.0, 270.000)
set gg_unit_n002_0670=CreateUnit(p, 0x6E303032, 12896.0, - 4384.0, 270.000)
set gg_unit_n001_0671=CreateUnit(p, 0x6E303031, 13088.0, - 3872.0, 270.000)
set gg_unit_n001_0672=CreateUnit(p, 0x6E303031, 12192.0, - 3680.0, 270.000)
set gg_unit_n000_0673=CreateUnit(p, 0x6E303030, 10816.0, - 4800.0, 270.000)
set gg_unit_n000_0674=CreateUnit(p, 0x6E303030, 11200.0, - 5056.0, 270.000)
set gg_unit_n000_0675=CreateUnit(p, 0x6E303030, 12608.0, - 5696.0, 270.000)
set gg_unit_n000_0677=CreateUnit(p, 0x6E303030, 13184.0, - 5376.0, 270.000)
set gg_unit_n068_0679=CreateUnit(p, 0x6E303638, 12480.0, - 4480.0, 270.000)
set gg_unit_n000_0680=CreateUnit(p, 0x6E303030, 7936.0, - 10816.0, 270.000)
set gg_unit_n068_0681=CreateUnit(p, 0x6E303638, 11072.0, - 12224.0, 270.000)
set gg_unit_n068_0682=CreateUnit(p, 0x6E303638, 11840.0, - 11456.0, 270.000)
set gg_unit_n002_0683=CreateUnit(p, 0x6E303032, 12512.0, - 11872.0, 270.000)
set gg_unit_n002_0684=CreateUnit(p, 0x6E303032, 11552.0, - 12832.0, 270.000)
set gg_unit_n01U_0685=CreateUnit(p, 0x6E303155, 12224.0, - 4928.0, 270.000)
set gg_unit_n068_0686=CreateUnit(p, 0x6E303638, 6464.0, - 7616.0, 270.000)
set gg_unit_n000_0687=CreateUnit(p, 0x6E303030, 11904.0, - 3904.0, 270.000)
set gg_unit_n000_0688=CreateUnit(p, 0x6E303030, 6208.0, - 7232.0, 270.000)
set gg_unit_n000_0689=CreateUnit(p, 0x6E303030, 7232.0, - 6208.0, 270.000)
set gg_unit_n000_0690=CreateUnit(p, 0x6E303030, 6528.0, - 6016.0, 270.000)
set gg_unit_n000_0691=CreateUnit(p, 0x6E303030, 13248.0, - 4224.0, 270.000)
set gg_unit_n000_0692=CreateUnit(p, 0x6E303030, 6016.0, - 6528.0, 270.000)
set gg_unit_n002_0693=CreateUnit(p, 0x6E303032, 7456.0, - 10464.0, 270.000)
set gg_unit_n000_0694=CreateUnit(p, 0x6E303030, 7616.0, - 10816.0, 270.000)
set gg_unit_n000_0695=CreateUnit(p, 0x6E303030, 11008.0, - 13248.0, 270.000)
set gg_unit_n000_0697=CreateUnit(p, 0x6E303030, 12800.0, - 11520.0, 270.000)
set gg_unit_n068_0698=CreateUnit(p, 0x6E303638, 12992.0, - 5120.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 5152.0, - 12384.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 3680.0, - 9696.0, 270.000)
set gg_unit_n000_0705=CreateUnit(p, 0x6E303030, 12608.0, - 4928.0, 270.000)
set gg_unit_n000_0706=CreateUnit(p, 0x6E303030, 6272.0, - 6656.0, 270.000)
set gg_unit_n000_0707=CreateUnit(p, 0x6E303030, 6656.0, - 6272.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 13152.0, - 9760.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 14848.0, 2304.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14336.0, 2752.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14272.0, 1728.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 15424.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 15776.0, 3936.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 15776.0, 4384.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16736.0, - 2912.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16512.0, - 3264.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16960.0, - 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16960.0, - 3392.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 17024.0, - 2304.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14464.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14272.0, 1536.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 11296.0, 672.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 13728.0, 1504.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13632.0, 1216.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 13056.0, 3840.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 13536.0, 4320.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13696.0, 4032.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13312.0, 3264.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 12544.0, 3712.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 12800.0, 3328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13632.0, 3584.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13120.0, 4352.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13376.0, 2304.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 15104.0, 1408.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 17280.0, - 1920.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16128.0, - 1856.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16480.0, 416.0, 270.000)
set u=CreateUnit(p, 0x68303153, 16768.0, 320.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 17056.0, 2016.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 15776.0, - 1504.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16832.0, - 1472.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 17280.0, - 3136.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16032.0, 864.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 15840.0, 1760.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 17408.0, 2944.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 17024.0, 5248.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 16000.0, 2880.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 14816.0, 3168.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15744.0, 896.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15360.0, 1024.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15616.0, 1280.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16512.0, 1536.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 16224.0, 3296.0, 270.000)
set gg_unit_n000_0765=CreateUnit(p, 0x6E303030, - 1088.0, 10560.0, 270.000)
set gg_unit_n000_0766=CreateUnit(p, 0x6E303030, 5376.0, 10624.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 3488.0, 10016.0, 270.000)
set gg_unit_n002_0768=CreateUnit(p, 0x6E303032, 1120.0, 11296.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 3488.0, - 5344.0, 270.000)
set u=CreateUnit(p, 0x6E303031, - 288.0, - 5984.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 16672.0, 4256.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 11648.0, 4352.0, 270.000)
set u=CreateUnit(p, 0x68303153, 17216.0, 9024.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 16960.0, 3840.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 15456.0, 7328.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15040.0, 6848.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15040.0, 6464.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 15808.0, 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16704.0, 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15936.0, 5184.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16640.0, 5184.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 15392.0, 5152.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16960.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15936.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16800.0, 2848.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15552.0, 3648.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14656.0, 4160.0, 270.000)
set u=CreateUnit(p, 0x6E303032, - 1760.0, 4768.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 1248.0, 4768.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 11808.0, 4064.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 17312.0, 7072.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 17216.0, 7872.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16832.0, 7552.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 17152.0, 7552.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13952.0, 9280.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 11488.0, 6432.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 11360.0, 6048.0, 270.000)
set u=CreateUnit(p, 0x68303135, 11648.0, 6144.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 11392.0, 5696.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14400.0, 6848.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 14336.0, 5504.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 13664.0, 5152.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 14496.0, 5024.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 13952.0, 4736.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14144.0, 6208.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 13888.0, 5696.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14272.0, 5824.0, 270.000)
set gg_unit_n002_0819=CreateUnit(p, 0x6E303032, 3424.0, 11296.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16160.0, 4704.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 11264.0, - 9088.0, 270.000)
set u=CreateUnit(p, 0x6E303030, - 4544.0, - 9152.0, 270.000)
set gg_unit_n003_0864=CreateUnit(p, 0x6E303033, 2304.0, 9856.0, 270.000)
set gg_unit_n003_0865=CreateUnit(p, 0x6E303033, 2304.0, 11392.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 18496.0, - 7744.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19584.0, - 9728.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 23776.0, - 12000.0, 270.000)
set u=CreateUnit(p, 0x6F303153, 25472.0, - 6336.0, 270.000)
set u=CreateUnit(p, 0x6F303053, 25280.0, - 6528.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 19200.0, - 10240.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 21760.0, - 11008.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 19712.0, - 10240.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 25600.0, - 8832.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 20704.0, - 6048.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 21792.0, - 6112.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 20480.0, - 8320.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 20096.0, - 8192.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 22080.0, - 9792.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 22080.0, - 9920.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 19936.0, - 11232.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 19744.0, - 11040.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 21696.0, - 9536.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 21312.0, - 9088.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 21376.0, - 9408.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 21344.0, - 10336.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 20064.0, - 9440.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 18976.0, - 10720.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 25376.0, - 9184.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 15776.0, - 13600.0, 270.000)
set u=CreateUnit(p, 0x6530304B, 15808.0, - 13440.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 22272.0, - 11776.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 22784.0, - 13184.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 22464.0, - 13376.0, 270.000)
set u=CreateUnit(p, 0x6E30304B, 20800.0, - 13504.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 20288.0, - 12032.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 20896.0, - 12320.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 19328.0, - 11520.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 18880.0, - 11072.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 23136.0, - 9696.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 15712.0, - 8416.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 15840.0, - 10144.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 22464.0, - 9856.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 17536.0, - 8256.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 16448.0, - 9856.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16544.0, - 8224.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16864.0, - 8416.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 17184.0, - 8608.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 17056.0, - 9568.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16928.0, - 9248.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 16864.0, - 9824.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16000.0, - 10304.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15744.0, - 8192.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16384.0, - 7808.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16768.0, - 10432.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16640.0, - 10752.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 15936.0, - 8320.0, 270.000)
set u=CreateUnit(p, 0x6E303155, 16512.0, - 8960.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16128.0, - 9024.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 15936.0, - 9216.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 16000.0, - 9536.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14528.0, - 10112.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14592.0, - 10688.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 23040.0, - 9024.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 22784.0, - 9152.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 23296.0, - 9472.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 22496.0, - 10400.0, 270.000)
set u=CreateUnit(p, 0x6E303032, 22688.0, - 10208.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 23296.0, - 9216.0, 270.000)
set u=CreateUnit(p, 0x7530305A, 24192.0, - 11456.0, 270.000)
set u=CreateUnit(p, 0x6E30344D, 25088.0, - 13056.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14912.0, - 9536.0, 270.000)
set u=CreateUnit(p, 0x6E303030, 14976.0, - 11200.0, 270.000)
set gg_unit_n000_1026=CreateUnit(p, 0x6E303030, 16576.0, - 3072.0, 270.000)
set gg_unit_n002_1028=CreateUnit(p, 0x6E303032, 16544.0, - 2080.0, 270.000)
set gg_unit_n000_1029=CreateUnit(p, 0x6E303030, 17088.0, - 3200.0, 270.000)
set gg_unit_n002_1030=CreateUnit(p, 0x6E303032, 17504.0, - 2208.0, 270.000)
set gg_unit_n003_1031=CreateUnit(p, 0x6E303033, 15616.0, - 1024.0, 270.000)
set gg_unit_n001_1032=CreateUnit(p, 0x6E303031, 16992.0, - 1824.0, 270.000)
set gg_unit_n000_1033=CreateUnit(p, 0x6E303030, 16000.0, - 1664.0, 270.000)
set gg_unit_n003_1034=CreateUnit(p, 0x6E303033, 16320.0, 1216.0, 270.000)
set gg_unit_n001_1035=CreateUnit(p, 0x6E303031, 17312.0, 1952.0, 270.000)
set gg_unit_n000_1036=CreateUnit(p, 0x6E303030, 14912.0, 1088.0, 270.000)
set gg_unit_n001_1038=CreateUnit(p, 0x6E303031, 14240.0, 3104.0, 270.000)
set gg_unit_n001_1039=CreateUnit(p, 0x6E303031, 16096.0, 6752.0, 270.000)
set gg_unit_n000_1040=CreateUnit(p, 0x6E303030, 16768.0, 7168.0, 270.000)
set gg_unit_n000_1041=CreateUnit(p, 0x6E303030, 17472.0, 7552.0, 270.000)
set gg_unit_n002_1042=CreateUnit(p, 0x6E303032, 16224.0, 4256.0, 270.000)
set gg_unit_n001_1043=CreateUnit(p, 0x6E303031, 15840.0, 3552.0, 270.000)
set gg_unit_n01U_1044=CreateUnit(p, 0x6E303155, 14080.0, 5120.0, 270.000)
set gg_unit_n003_1045=CreateUnit(p, 0x6E303033, 11712.0, 3776.0, 270.000)
set gg_unit_n002_1048=CreateUnit(p, 0x6E303032, 12704.0, 4128.0, 270.000)
set gg_unit_n000_1049=CreateUnit(p, 0x6E303030, 13056.0, 3264.0, 270.000)
set gg_unit_n000_1050=CreateUnit(p, 0x6E303030, 12608.0, 3456.0, 270.000)
set gg_unit_n000_1051=CreateUnit(p, 0x6E303030, 13376.0, 4096.0, 270.000)
set gg_unit_n000_1052=CreateUnit(p, 0x6E303030, 13824.0, 6016.0, 270.000)
set gg_unit_n000_1053=CreateUnit(p, 0x6E303030, 16832.0, 7296.0, 270.000)
set gg_unit_n000_1057=CreateUnit(p, 0x6E303030, 13376.0, 5056.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 11392.0, 7296.0, 270.000)
set gg_unit_n068_1093=CreateUnit(p, 0x6E303638, - 11392.0, 11136.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 8192.0, - 11136.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 18208.0, - 11744.0, 270.000)
set u=CreateUnit(p, 0x6E303033, 18048.0, - 12352.0, 270.000)
set u=CreateUnit(p, 0x6E303031, 17440.0, - 6560.0, 270.000)
set u=CreateUnit(p, 0x68303033, 17856.0, - 6720.0, 270.000)
set u=CreateUnit(p, 0x6F303032, 18880.0, - 6336.0, 270.000)
set u=CreateUnit(p, 0x6E30304B, 18496.0, - 7232.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 832.0, 2496.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 960.0, 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303638, - 256.0, 5056.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 16064.0, - 10112.0, 270.000)
set u=CreateUnit(p, 0x6E303638, 12224.0, 4096.0, 270.000)
set gg_unit_n068_1121=CreateUnit(p, 0x6E303638, - 7936.0, 7680.0, 270.000)
set gg_unit_n068_1122=CreateUnit(p, 0x6E303638, - 7936.0, 10752.0, 270.000)
set gg_unit_n068_1123=CreateUnit(p, 0x6E303638, - 11008.0, 10752.0, 270.000)
endfunction
function CreateNeutralHostile takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_u00O_0224=CreateUnit(p, 0x7530304F, - 8132.0, - 9314.3, 268.410)
call SetUnitAcquireRange(gg_unit_u00O_0224, 200.0)
set u=CreateUnit(p, 0x6E303157, - 8651.7, - 9408.8, 168.568)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 8389.9, - 9055.8, 96.372)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 7916.4, - 9124.0, 138.926)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 7660.9, - 9420.5, 239.861)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 7923.9, - 9345.8, 30.444)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 8326.6, - 9223.5, 350.881)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 7405.5, - 9402.1, 263.988)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 8378.5, - 9410.5, 256.670)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 446.1, - 1486.5, 86.459)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 79.2, - 1486.9, 96.968)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 340.9, - 1350.1, 81.474)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 179.3, - 1350.1, 103.346)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303049, - 200.0, - 1496.8, 98.970)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303049, - 318.6, - 1499.6, 85.525)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303136, - 251.6, - 1684.7, 91.030)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000309_DropItems)
set u=CreateUnit(p, 0x6E303436, 11116.7, - 6622.5, 260.001)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303436, 11540.3, - 6873.5, 228.354)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, 5407.8, - 13125.8, 1.977)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303533, 5297.9, - 12753.1, 335.658)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set gg_unit_n044_0602=CreateUnit(p, 0x6E303434, 11269.6, - 6853.6, 247.220)
call SetUnitAcquireRange(gg_unit_n044_0602, 200.0)
set u=CreateUnit(p, 0x7530304C, 6619.4, - 11042.0, 53.732)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304C, 6376.1, - 11179.1, 59.689)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303338, 6670.5, - 11406.2, 26.608)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30315A, 5205.6, - 12952.1, 359.235)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304D, 6531.7, - 11274.0, 66.799)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30315A, 5401.5, - 12554.5, 330.511)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324E, 5389.8, - 12939.3, 330.988)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324E, 5548.4, - 12685.9, 349.803)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, 5710.7, - 12578.5, 322.792)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303256, 5602.3, - 12885.0, 338.998)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303634, - 11114.7, 6611.7, 41.410)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit001099_DropItems)
set u=CreateUnit(p, 0x6E30334F, - 11296.1, 6641.0, 74.501)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334F, - 11035.0, 6439.4, 43.948)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303134, - 12052.2, 7627.0, 53.640)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit001102_DropItems)
set u=CreateUnit(p, 0x6E303143, - 12263.8, 7645.4, 55.232)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303143, - 12070.4, 7487.4, 81.123)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30315A, - 12232.7, 7464.3, 60.438)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324D, - 12196.9, 7752.8, 72.730)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B63, 10548.2, 8731.2, 353.450)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000820_DropItems)
set u=CreateUnit(p, 0x6E746B74, 10626.5, 8911.5, 303.560)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000821_DropItems)
set u=CreateUnit(p, 0x6E746B74, 10625.4, 8468.1, 64.170)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B66, 10786.5, 8840.9, 253.304)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B66, 10773.1, 8548.5, 99.189)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B66, 10895.2, 8689.5, 162.134)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B73, 10780.5, 9041.9, 266.230)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B73, 10794.6, 8382.8, 90.650)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 16918.3, 190.5, 84.942)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 16898.6, 430.5, 290.598)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 17006.5, 430.5, 252.163)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 16814.1, 154.6, 55.690)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 17177.0, 8848.7, 210.680)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 17061.0, 8884.4, 271.810)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303232, 17059.6, 9033.7, 291.355)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303248, 11351.8, 6258.0, 328.980)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 11398.5, 5837.6, 20.869)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 11560.3, 5653.4, 0.709)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 11679.9, 6448.3, 302.585)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303257, 11575.7, 5865.3, 8.413)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, 11731.8, 5691.5, 52.200)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B66, 12068.3, 8571.3, 312.810)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B66, 11900.0, 8223.3, 358.905)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E746B74, 11901.6, 8437.9, 335.700)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303139, - 3487.1, - 9552.0, 182.770)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303139, - 13154.6, - 9533.7, 347.320)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324C, - 4654.8, - 8937.0, 280.440)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324C, - 11404.6, - 9207.5, 35.703)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 9868.0, - 9141.4, 327.326)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 9955.6, - 9513.0, 122.899)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 6000.2, - 9193.3, 168.568)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 6209.1, - 9541.3, 86.756)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 4409.8, - 9097.0, 243.974)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 11234.8, - 8967.5, 305.652)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 13001.0, - 9613.7, 71.342)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 12958.0, - 9802.0, 348.974)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 3889.0, - 9618.0, 222.681)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 3614.7, - 9851.9, 222.137)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 5424.7, - 9617.5, 113.034)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303157, - 10518.8, - 9458.6, 269.446)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303250, - 10781.9, 92.7, 53.500)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000873_DropItems)
set u=CreateUnit(p, 0x6E303052, - 10597.8, 119.8, 46.917)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 10970.0, 249.7, 17.856)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 11004.7, 439.4, 358.589)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303339, - 8557.8, 317.9, 181.500)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000872_DropItems)
set u=CreateUnit(p, 0x6E303334, - 8658.2, 518.8, 198.774)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303334, - 8663.8, 125.7, 162.792)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303143, - 8488.5, 171.4, 169.269)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303143, - 8489.3, 458.0, 188.775)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324C, - 10930.5, 137.9, 39.092)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324E, - 10053.1, - 887.2, 75.245)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324E, - 9553.4, - 867.9, 110.786)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, - 9814.0, - 955.1, 91.760)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000880_DropItems)
set u=CreateUnit(p, 0x6E303535, - 8521.6, - 1925.9, 153.810)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000881_DropItems)
set u=CreateUnit(p, 0x6E303054, - 8368.6, - 1744.4, 168.099)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303054, - 8541.7, - 2168.5, 142.285)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303054, - 8323.2, - 2014.2, 156.047)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303051, - 8372.5, - 1873.3, 160.826)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303051, - 8479.9, - 2041.4, 148.377)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303235, - 9935.0, - 3497.2, 83.906)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303235, - 9518.9, - 3466.2, 104.303)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303234, - 9839.6, - 3372.3, 88.375)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303234, - 9639.0, - 3361.4, 99.364)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30315A, - 9700.1, - 3581.8, 94.990)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000891_DropItems)
set u=CreateUnit(p, 0x6E30325A, - 9585.9, - 5163.0, 92.460)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000892_DropItems)
set u=CreateUnit(p, 0x6E303258, - 9788.3, - 5006.8, 80.914)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303258, - 9387.1, - 4984.6, 103.753)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303248, - 9804.1, - 5442.1, 80.653)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303248, - 9361.6, - 5426.3, 103.110)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000896_DropItems)
set u=CreateUnit(p, 0x6E303235, - 9567.0, - 5460.6, 92.067)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303253, - 8606.3, - 4077.3, 211.409)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303253, - 8459.5, - 4399.3, 181.799)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303338, - 8616.2, - 4257.0, 196.540)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000902_DropItems)
set u=CreateUnit(p, 0x6E303253, - 8440.7, - 4177.0, 199.297)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303434, - 11851.1, - 5107.0, 81.190)
call SetUnitState(u, UNIT_STATE_MANA, 1000)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000904_DropItems)
set u=CreateUnit(p, 0x6E30334D, - 11569.6, - 4996.2, 105.368)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334D, - 12110.5, - 4946.1, 66.990)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000906_DropItems)
set u=CreateUnit(p, 0x6E303436, - 11958.1, - 4813.4, 77.616)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303436, - 11703.3, - 4835.9, 101.287)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303059, - 12731.1, - 3933.1, 345.575)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303059, - 12716.8, - 4336.9, 16.000)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303059, - 12921.6, - 4135.4, 0.580)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000912_DropItems)
set u=CreateUnit(p, 0x6E30314D, - 12616.5, - 4137.0, 0.994)
call SetUnitState(u, UNIT_STATE_MANA, 600)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303233, - 10685.0, - 1862.9, 87.800)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303233, - 10664.4, - 2052.4, 317.007)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303233, - 10843.1, - 2035.7, 239.490)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000917_DropItems)
set u=CreateUnit(p, 0x6E303233, - 10550.7, - 1933.4, 110.204)
call SetUnitState(u, UNIT_STATE_MANA, 300)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303436, - 10769.6, - 2255.7, 292.828)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303436, - 10821.9, - 1768.1, 107.103)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303530, - 13484.0, - 1874.0, 11.130)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000921_DropItems)
set u=CreateUnit(p, 0x6E303530, - 13415.4, - 2149.9, 21.143)
call SetUnitState(u, UNIT_STATE_MANA, 500)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303052, - 13369.9, - 1967.1, 9.759)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303533, - 11937.2, 1278.1, 269.110)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000924_DropItems)
set u=CreateUnit(p, 0x6E30324D, - 12168.7, 1191.4, 331.072)
call SetUnitState(u, UNIT_STATE_MANA, 200)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30324D, - 11723.8, 1170.1, 241.495)
call SetUnitState(u, UNIT_STATE_MANA, 200)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303531, - 12053.0, 1038.0, 254.152)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303531, - 11822.7, 1029.6, 237.860)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303143, - 11960.4, - 190.9, 286.495)
call SetUnitState(u, UNIT_STATE_MANA, 400)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303143, - 11573.1, - 207.7, 252.828)
call SetUnitState(u, UNIT_STATE_MANA, 400)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303049, - 11753.5, - 319.4, 268.365)
call SetUnitState(u, UNIT_STATE_MANA, 400)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303144, - 11597.2, - 413.7, 248.099)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303144, - 11933.2, - 433.5, 292.101)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303338, - 11749.9, - 481.2, 267.057)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303356, - 11772.3, - 128.6, 273.730)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000935_DropItems)
set u=CreateUnit(p, 0x6E303058, - 11885.0, - 3137.2, 93.430)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303058, - 11554.7, - 3153.2, 81.860)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30345A, - 11823.3, - 3339.2, 121.140)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000938_DropItems)
set u=CreateUnit(p, 0x6E30345A, - 11625.4, - 3347.1, 76.182)
call SetUnitState(u, UNIT_STATE_MANA, 400)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303255, - 12211.8, - 1455.0, 303.270)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit000940_DropItems)
set u=CreateUnit(p, 0x7530304D, - 12365.4, - 1534.4, 322.809)
call SetUnitState(u, UNIT_STATE_MANA, 200)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304D, - 12102.3, - 1366.0, 288.183)
call SetUnitState(u, UNIT_STATE_MANA, 200)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303348, - 12299.4, - 1598.6, 324.973)
call SetUnitState(u, UNIT_STATE_MANA, 100)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303348, - 12056.4, - 1457.5, 286.029)
call SetUnitState(u, UNIT_STATE_MANA, 100)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303348, - 12156.2, - 1561.8, 305.426)
call SetUnitState(u, UNIT_STATE_MANA, 100)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303255, 24327.2, - 11971.1, 123.306)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303255, 24723.6, - 11494.7, 146.198)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303145, 24395.5, - 11625.3, 142.930)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, 24495.1, - 11371.6, 104.013)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E30334B, 24093.9, - 11756.2, 169.847)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303535, 24996.5, - 11177.0, 214.406)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303535, 25167.4, - 11304.1, 270.457)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303535, 24897.3, - 12930.6, 142.129)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303535, 25106.9, - 12572.6, 188.326)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303235, 25286.8, - 12526.2, 187.970)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303257, 20701.1, - 13366.2, 42.450)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303535, 22298.8, - 12001.4, 193.960)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304D, 20387.3, - 12253.4, 64.178)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304D, 20635.0, - 12288.7, 88.063)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303258, 22905.6, - 13439.7, 146.940)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303134, 25500.0, - 6617.7, 261.487)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303134, 25214.5, - 6322.5, 165.037)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303134, 25140.5, - 6707.3, 255.241)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303143, 25639.4, - 6476.4, 243.320)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303143, 25367.4, - 6183.0, 198.827)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303137, 22594.9, - 6334.1, 299.169)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303137, 22360.0, - 6506.7, 325.502)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303259, 22543.3, - 6498.5, 313.164)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303049, 22450.3, - 6375.0, 311.740)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303531, 20704.8, - 5880.2, 274.405)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303531, 18770.6, - 6811.9, 307.363)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303531, 17430.3, - 6314.9, 55.802)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 20281.9, - 8353.3, 254.593)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 20508.5, - 8122.4, 270.600)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303251, 19976.6, - 8181.1, 234.894)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x7530304F, 18357.8, - 12178.2, 282.139)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303338, 18748.9, - 13030.7, 69.877)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303544, 18612.6, - 12800.2, 23.253)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303544, 19007.0, - 12969.6, 83.357)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E736C72, - 12071.7, 5361.2, 35.649)
call SetUnitState(u, UNIT_STATE_MANA, 600)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E626477, - 11831.3, 5363.2, 44.369)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E626477, - 12230.0, 5764.4, 71.702)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E736C72, - 12223.3, 5517.5, 62.632)
call SetUnitState(u, UNIT_STATE_MANA, 600)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303059, - 13349.5, 6741.7, 16.874)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303059, - 13203.2, 6449.2, 51.606)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303635, - 13204.5, 6629.9, 36.691)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x75303146, - 13060.3, 6808.4, 35.730)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit001115_DropItems)
set u=CreateUnit(p, 0x6E303342, - 13058.6, 6563.0, 20.419)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303342, - 13235.4, 6831.7, 51.499)
call SetUnitState(u, UNIT_STATE_MANA, 0)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303236, - 12938.0, 6485.9, 16.249)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x6E303236, - 13312.7, 7003.4, 75.187)
call SetUnitAcquireRange(u, 200.0)
set u=CreateUnit(p, 0x756F6273, - 11966.0, 5642.7, 33.860)
call SetUnitAcquireRange(u, 200.0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t, function Unit001110_DropItems)
set u=CreateUnit(p, 0x6E303233, - 11205.8, 6468.5, 56.590)
call SetUnitAcquireRange(u, 200.0)
endfunction
function CreateNeutralPassiveBuildings takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_h000_0002=CreateUnit(p, 0x68303030, - 9472.0, 9216.0, 270.000)
set gg_unit_h000_0012=CreateUnit(p, 0x68303030, 2304.0, 10624.0, 270.000)
set gg_unit_n005_0082=CreateUnit(p, 0x6E303035, 11712.0, 12640.0, 327.464)
call SetUnitColor(gg_unit_n005_0082, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x6E303147, - 10144.0, 8544.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x6E303147, 1568.0, 10976.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set gg_unit_n006_0095=CreateUnit(p, 0x6E303036, 11904.0, 11552.0, 102.628)
call SetUnitColor(gg_unit_n006_0095, ConvertPlayerColor(6))
set gg_unit_n004_0096=CreateUnit(p, 0x6E303034, 12800.0, 11616.0, 184.049)
call SetUnitColor(gg_unit_n004_0096, ConvertPlayerColor(1))
set gg_unit_h000_0100=CreateUnit(p, 0x68303030, - 8192.0, - 12032.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 3040.0, 10976.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, 3040.0, 10272.0, 270.000)
set u=CreateUnit(p, 0x68303052, 1568.0, 10272.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 3904.0, 11584.0, 270.000)
set gg_unit_n007_0164=CreateUnit(p, 0x6E303037, 11453.7, 12381.6, 13.012)
call SetUnitColor(gg_unit_n007_0164, ConvertPlayerColor(0))
set gg_unit_n009_0165=CreateUnit(p, 0x6E303039, 11656.3, 11769.2, 69.145)
call SetUnitColor(gg_unit_n009_0165, ConvertPlayerColor(6))
set gg_unit_n008_0166=CreateUnit(p, 0x6E303038, 12550.4, 11392.6, 162.759)
call SetUnitColor(gg_unit_n008_0166, ConvertPlayerColor(1))
set u=CreateUnit(p, 0x6F30304B, - 8800.0, 8544.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 8800.0, 9888.0, 270.000)
set u=CreateUnit(p, 0x68303052, - 10144.0, 9888.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 1216.0, 11712.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 8672.0, - 13152.0, 270.000)
set u=CreateUnit(p, 0x6E303147, - 7712.0, - 13152.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x6F30304B, - 8352.0, - 13152.0, 270.000)
set u=CreateUnit(p, 0x68303052, - 8032.0, - 13152.0, 270.000)
set gg_unit_h000_0238=CreateUnit(p, 0x68303030, - 10752.0, - 4224.0, 270.000)
set gg_unit_h000_0239=CreateUnit(p, 0x68303030, - 10752.0, 384.0, 270.000)
set gg_unit_h000_0240=CreateUnit(p, 0x68303030, - 256.0, 1600.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 928.0, 5344.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, - 736.0, 5216.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 224.0, 5152.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, 416.0, 5344.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 1056.0, 736.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, - 864.0, 736.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 352.0, 736.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, 544.0, 736.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 11104.0, - 3808.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, - 11296.0, - 3808.0, 270.000)
set u=CreateUnit(p, 0x6E303147, - 11104.0, - 4576.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, - 11296.0, - 4576.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, - 10464.0, 736.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, - 10272.0, 736.0, 270.000)
set u=CreateUnit(p, 0x6E303147, - 10464.0, - 96.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, - 10272.0, - 96.0, 270.000)
set u=CreateUnit(p, 0x6E303330, - 11008.0, - 2048.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 2368.0, 5120.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 3328.0, 4800.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 1920.0, 5120.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 2752.0, 4736.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 2048.0, 4672.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 2752.0, 4672.0, 270.000)
set gg_unit_h000_0378=CreateUnit(p, 0x68303030, 2304.0, - 3776.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 1024.0, 10048.0, 270.000)
set gg_unit_h000_0387=CreateUnit(p, 0x68303030, 6656.0, 1152.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 1152.0, - 1024.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 1600.0, - 1024.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, 1376.0, - 4896.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 1376.0, - 4704.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 1184.0, - 4896.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, 1184.0, - 4704.0, 270.000)
set gg_unit_h000_0438=CreateUnit(p, 0x68303030, 8192.0, 1152.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, 7712.0, 672.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 7136.0, 1632.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 7712.0, 1632.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, 7136.0, 672.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 10560.0, - 2176.0, 270.000)
set u=CreateUnit(p, 0x6E303331, - 10624.0, - 1728.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 3392.0, 9664.0, 270.000)
set u=CreateUnit(p, 0x6E303558, 11424.0, - 6368.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 9792.0, - 2368.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 9344.0, - 2112.0, 270.000)
set u=CreateUnit(p, 0x6E303556, 9248.0, 4064.0, 270.000)
set u=CreateUnit(p, 0x6E303556, 5792.0, - 2016.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 5312.0, 4544.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 5824.0, 4288.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 10944.0, - 6592.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 9024.0, 3008.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 8768.0, 3136.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 5696.0, 3264.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 6080.0, 3136.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 5952.0, - 832.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 5696.0, - 832.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 8768.0, - 832.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 9152.0, - 576.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 6144.0, - 2624.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 8896.0, - 2496.0, 270.000)
set gg_unit_h000_0591=CreateUnit(p, 0x68303030, 12608.0, - 3968.0, 270.000)
set gg_unit_h000_0592=CreateUnit(p, 0x68303030, 11904.0, - 12288.0, 270.000)
set gg_unit_h000_0593=CreateUnit(p, 0x68303030, 5568.0, - 5568.0, 270.000)
set u=CreateUnit(p, 0x6E303435, 13376.0, - 9984.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(8))
set u=CreateUnit(p, 0x6F30304C, 11616.0, - 11680.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 11424.0, - 11744.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 11168.0, - 12064.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x68303052, 11232.0, - 11872.0, 270.000)
set gg_unit_n01G_0617=CreateUnit(p, 0x6E303147, 11616.0, - 5408.0, 270.000)
call SetUnitColor(gg_unit_n01G_0617, ConvertPlayerColor(0))
set gg_unit_n01G_0618=CreateUnit(p, 0x6E303147, 7008.0, - 6560.0, 270.000)
call SetUnitColor(gg_unit_n01G_0618, ConvertPlayerColor(0))
set gg_unit_o00L_0641=CreateUnit(p, 0x6F30304C, 12192.0, - 5408.0, 270.000)
set gg_unit_o00K_0642=CreateUnit(p, 0x6F30304B, 12000.0, - 5408.0, 270.000)
set gg_unit_h00R_0644=CreateUnit(p, 0x68303052, 11808.0, - 5408.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 10688.0, - 11200.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 8896.0, 4864.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 5824.0, 4928.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 7424.0, - 1344.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 7488.0, 3520.0, 270.000)
set u=CreateUnit(p, 0x6E303435, 6528.0, - 9600.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(8))
set gg_unit_o00L_0701=CreateUnit(p, 0x6F30304C, 6560.0, - 7008.0, 270.000)
set gg_unit_o00K_0702=CreateUnit(p, 0x6F30304B, 6368.0, - 7008.0, 270.000)
set gg_unit_h00R_0704=CreateUnit(p, 0x68303052, 7008.0, - 6368.0, 270.000)
set gg_unit_h000_0716=CreateUnit(p, 0x68303030, 16320.0, 3840.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 11584.0, 2496.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 11712.0, 2112.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 11456.0, 3904.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 17216.0, - 704.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 13248.0, 9344.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 12608.0, 9280.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 12800.0, 7936.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 14528.0, 7808.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 13568.0, 6080.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 14016.0, 7360.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, 17184.0, 4832.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 17056.0, 4640.0, 270.000)
set u=CreateUnit(p, 0x68303052, 17056.0, 4448.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 17056.0, 4256.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set gg_unit_nwgt_0870=CreateUnit(p, 0x6E776774, 832.0, 10624.0, 270.000)
call WaygateSetDestination(gg_unit_nwgt_0870, GetRectCenterX(gg_rct_Portal1), GetRectCenterY(gg_rct_Portal1))
call WaygateActivate(gg_unit_nwgt_0870, true)
call SetUnitColor(gg_unit_nwgt_0870, ConvertPlayerColor(8))
set gg_unit_nwgt_0871=CreateUnit(p, 0x6E776774, - 9728.0, 1472.0, 270.000)
call WaygateSetDestination(gg_unit_nwgt_0871, GetRectCenterX(gg_rct_Portal2), GetRectCenterY(gg_rct_Portal2))
call WaygateActivate(gg_unit_nwgt_0871, true)
call SetUnitColor(gg_unit_nwgt_0871, ConvertPlayerColor(8))
set u=CreateUnit(p, 0x6E303556, 22368.0, - 6176.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 21376.0, - 11328.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 21952.0, - 10432.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 18624.0, - 10432.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 19776.0, - 8896.0, 270.000)
set u=CreateUnit(p, 0x6E303558, 25440.0, - 12704.0, 270.000)
set u=CreateUnit(p, 0x6E303558, 25184.0, - 11040.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 25152.0, - 7808.0, 270.000)
set u=CreateUnit(p, 0x6E303330, 20416.0, - 13504.0, 270.000)
set u=CreateUnit(p, 0x6E303331, 23168.0, - 13504.0, 270.000)
set u=CreateUnit(p, 0x6F30304C, 20384.0, - 10592.0, 270.000)
set u=CreateUnit(p, 0x6F30304B, 20384.0, - 10976.0, 270.000)
set u=CreateUnit(p, 0x68303052, 20000.0, - 10592.0, 270.000)
set u=CreateUnit(p, 0x6E303147, 20128.0, - 10848.0, 270.000)
call SetUnitColor(u, ConvertPlayerColor(0))
set u=CreateUnit(p, 0x6E303331, 16320.0, - 7552.0, 270.000)
set gg_unit_n031_1027=CreateUnit(p, 0x6E303331, 16704.0, - 2624.0, 270.000)
set gg_unit_n031_1037=CreateUnit(p, 0x6E303331, 16704.0, 1216.0, 270.000)
set gg_unit_n031_1046=CreateUnit(p, 0x6E303331, 11520.0, 2240.0, 270.000)
set gg_unit_n030_1047=CreateUnit(p, 0x6E303330, 11776.0, 2624.0, 270.000)
set gg_unit_n031_1054=CreateUnit(p, 0x6E303331, 12352.0, 7616.0, 270.000)
set gg_unit_n030_1055=CreateUnit(p, 0x6E303330, 13824.0, 7872.0, 270.000)
set gg_unit_n031_1056=CreateUnit(p, 0x6E303331, 12864.0, 8896.0, 270.000)
set gg_unit_h000_1101=CreateUnit(p, 0x68303030, 20736.0, - 10048.0, 270.000)
endfunction
function CreateNeutralPassive takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p, 0x6E726174, 11422.6, 12593.2, 352.925)
set u=CreateUnit(p, 0x6E726174, 11699.7, 13015.5, 269.745)
set u=CreateUnit(p, 0x6E726174, 12508.8, 11255.5, 27.346)
set u=CreateUnit(p, 0x6E736B65, 11130.8, 12062.5, 231.285)
set u=CreateUnit(p, 0x6E303154, 13191.0, 11579.0, 170.782)
endfunction
function CreatePlayerBuildings takes nothing returns nothing
endfunction
function CreatePlayerUnits takes nothing returns nothing
call CreateUnitsForPlayer0()
call CreateUnitsForPlayer1()
call CreateUnitsForPlayer2()
call CreateUnitsForPlayer3()
call CreateUnitsForPlayer4()
call CreateUnitsForPlayer5()
call CreateUnitsForPlayer6()
call CreateUnitsForPlayer7()
call CreateUnitsForPlayer11()
endfunction
function CreateAllUnits takes nothing returns nothing
call CreateNeutralHostileBuildings()
call CreateNeutralPassiveBuildings()
call CreatePlayerBuildings()
call CreateNeutralHostile()
call CreateNeutralPassive()
call CreatePlayerUnits()
endfunction
function CreateRegions takes nothing returns nothing
local weathereffect we
set gg_rct_PickHero=Rect(10816.0, 10656.0, 13376.0, 13184.0)
set gg_rct_Event_1=Rect(- 9568.0, 6432.0, - 9376.0, 6624.0)
set gg_rct_Event_2=Rect(- 6880.0, 9120.0, - 6688.0, 9312.0)
set gg_rct_Event_3=Rect(- 9568.0, 11808.0, - 9376.0, 12000.0)
set gg_rct_Event_4=Rect(- 12256.0, 9120.0, - 12064.0, 9312.0)
set gg_rct_Zone2=Rect(- 4256.0, 7424.0, 8608.0, 14336.0)
set gg_rct_Zone1=Rect(- 13728.0, 4576.0, - 5056.0, 13440.0)
set gg_rct_E1=Rect(- 704.0, 12448.0, - 128.0, 12992.0)
set gg_rct_E2=Rect(- 800.0, 8096.0, - 192.0, 8768.0)
set gg_rct_E3=Rect(4800.0, 8224.0, 5376.0, 8768.0)
set gg_rct_E4=Rect(4864.0, 12352.0, 5440.0, 12896.0)
set gg_rct_Zone3=Rect(- 13504.0, - 13888.0, - 2176.0, - 8384.0)
set gg_rct_GreenSmoke=Rect(- 13280.0, - 9984.0, - 2880.0, - 8864.0)
set we=AddWeatherEffect(gg_rct_GreenSmoke, 0x46446768)
call EnableWeatherEffect(we, true)
set gg_rct_Zone4=Rect(- 13536.0, - 6368.0, - 7904.0, 2624.0)
set gg_rct_Zone5=Rect(- 4000.0, - 1760.0, 3488.0, 6720.0)
set gg_rct_Cube=Rect(- 544.0, 5632.0, 32.0, 6144.0)
set gg_rct_Zone6=Rect(- 7072.0, - 11296.0, 3936.0, - 2592.0)
set gg_rct_Zone7=Rect(4576.0, - 4032.0, 10272.0, 6784.0)
set gg_rct_Zone8=Rect(4352.0, - 13888.0, 13568.0, - 4448.0)
set gg_rct_Zone8_dop=Rect(10880.0, - 4480.0, 13568.0, - 1056.0)
set gg_rct_Lvl2MidUp=Rect(1984.0, 12128.0, 2624.0, 12704.0)
set gg_rct_Lvl2MidDown=Rect(1984.0, 8544.0, 2624.0, 9120.0)
set gg_rct_Zone9=Rect(10400.0, - 4224.0, 17696.0, 9728.0)
set gg_rct_Portal1=Rect(- 9664.0, 1088.0, - 9536.0, 1216.0)
set gg_rct_Portal2=Rect(1664.0, 10560.0, 1792.0, 10688.0)
set gg_rct_Zone16=Rect(14368.0, - 14336.0, 26624.0, - 4960.0)
set gg_rct_DeleteZone23=Rect(- 13664.0, 5120.0, - 10528.0, 8128.0)
endfunction
function Trig_Delete_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
if IsUnitInGroup(u, udg_AttackGroup) == true then
call GroupRemoveUnit(udg_AttackGroup, u)
elseif IsUnitType(u, UNIT_TYPE_HERO) != true and LoadInteger(udg_hash, GetHandleId(u), 11) == 0 and LoadInteger(udg_hash, GetHandleId(u), 26) == 0 then
call FlushChildHashtable(udg_hash, GetHandleId(u))
elseif IsUnitInGroup(u, udg_AttackGroup2) == true then
call GroupRemoveUnit(udg_AttackGroup2, u)
elseif IsUnitInGroup(u, udg_AttackGroup3) == true then
call GroupRemoveUnit(udg_AttackGroup3, u)
endif
set u=null
endfunction
function InitTrig_Delete takes nothing returns nothing
local integer i=0
set gg_trg_Delete=CreateTrigger()
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_Delete, Player(i), EVENT_PLAYER_UNIT_DEATH, null)
set i=i + 1
exitwhen i == bj_MAX_PLAYER_SLOTS
endloop
call TriggerAddAction(gg_trg_Delete, function Trig_Delete_Actions)
endfunction
function Trig_Init_Func008A takes nothing returns nothing
call PauseUnitBJ(true, GetEnumUnit())
endfunction
function Trig_Init_Func011A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), true)
endfunction
function Trig_Init_Func013002002 takes nothing returns boolean
return ( GetUnitTypeId(GetFilterUnit()) != 0x68303030 )
endfunction
function Trig_Init_Func014Func001Func003C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func001Func004C takes nothing returns boolean
if ( not ( udg_n == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func001Func005C takes nothing returns boolean
if ( not ( udg_n == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func001Func006C takes nothing returns boolean
if ( not ( udg_n == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) == 0x6E303331 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func002Func003C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func002Func004C takes nothing returns boolean
if ( not ( udg_n == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func002Func005C takes nothing returns boolean
if ( not ( udg_n == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func002Func006C takes nothing returns boolean
if ( not ( udg_n == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func002C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) == 0x6E303558 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func003C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) == 0x6E303330 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014Func004C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) == 0x6E303556 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func014A takes nothing returns nothing
if ( Trig_Init_Func014Func001C() ) then
set udg_n=GetRandomInt(1, 4)
set udg_p=GetUnitLoc(GetEnumUnit())
if ( Trig_Init_Func014Func001Func003C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E303332, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func001Func004C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E303333, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func001Func005C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E303354, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func001Func006C() ) then
call SetUnitInvulnerable(GetEnumUnit(), true)
else
endif
else
endif
if ( Trig_Init_Func014Func002C() ) then
set udg_n=GetRandomInt(1, 4)
set udg_p=GetUnitLoc(GetEnumUnit())
if ( Trig_Init_Func014Func002Func003C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E303557, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func002Func004C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E303559, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func002Func005C() ) then
call RemoveUnit(GetEnumUnit())
call CreateNUnitsAtLoc(1, 0x6E30355A, Player(PLAYER_NEUTRAL_PASSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
else
endif
if ( Trig_Init_Func014Func002Func006C() ) then
call SetUnitInvulnerable(GetEnumUnit(), true)
else
endif
else
endif
if ( Trig_Init_Func014Func003C() ) then
call SetUnitInvulnerable(GetEnumUnit(), true)
else
endif
if ( Trig_Init_Func014Func004C() ) then
call SetUnitInvulnerable(GetEnumUnit(), true)
else
endif
endfunction
function Trig_Init_Func020Func001C takes nothing returns boolean
if ( not ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
return false
endif
if ( not ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) ) then
return false
endif
return true
endfunction
function Trig_Init_Func021A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
endfunction
function Trig_Init_Func023C takes nothing returns boolean
if ( not ( udg_n > 1 ) ) then
return false
endif
return true
endfunction
function Trig_Init_Actions takes nothing returns nothing
call CinematicFilterGenericBJ(0.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 100, 100, 100, 100, 0, 0, 0, 0)
call DisplayTimedTextToForce(GetPlayersAll(), 25.00, "TRIGSTR_1533")
call StartTimerBJ(udg_EventTimer, false, 25.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_1534")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_ug=GetUnitsInRectAll(gg_rct_PickHero)
call ForGroupBJ(udg_ug, function Trig_Init_Func008A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Init_Func011A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerMatching(Player(PLAYER_NEUTRAL_PASSIVE), Condition(function Trig_Init_Func013002002))
call ForGroupBJ(udg_ug, function Trig_Init_Func014A)
call DestroyGroup(udg_ug)
set udg_SpawnTimerCount[1]=8.00
set udg_SpawnTimerCount[2]=66.00
set udg_SpawnTimerCount[3]=132.00
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_Init_Func020Func001C() ) then
set udg_n=( udg_n + 1 )
call SetPlayerStateBJ(ConvertedPlayer(GetForLoopIndexA()), PLAYER_STATE_RESOURCE_FOOD_CAP, 10)
call SetPlayerStateBJ(ConvertedPlayer(GetForLoopIndexA()), PLAYER_STATE_FOOD_CAP_CEILING, 300)
else
set udg_SpawnTimerCount[1]=( udg_SpawnTimerCount[1] + 0.60 )
set udg_SpawnTimerCount[2]=( udg_SpawnTimerCount[2] + 4.50 )
set udg_SpawnTimerCount[3]=( udg_SpawnTimerCount[3] + 9.00 )
set udg_Gandikap=( udg_Gandikap - 0.04 )
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call ForForce(udg_AI, function Trig_Init_Func021A)
set udg_PlayersCount=udg_n
if ( Trig_Init_Func023C() ) then
else
call DestroyTrigger(gg_trg_ISOV)
call DisplayTimedTextToForce(GetPlayersAll(), 120.00, "TRIGSTR_1771")
endif
call TriggerSleepAction(1.00)
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Init takes nothing returns nothing
set gg_trg_Init=CreateTrigger()
call TriggerAddAction(gg_trg_Init, function Trig_Init_Actions)
endfunction
function Trig_Init2_Actions takes nothing returns nothing
local unit u
local integer L
local string name
call DoNotSaveReplay()
call SetDayNightModels("war3mapImported\\DNCDarkNightsLordaeronTerrain.mdx", "war3mapImported\\DNCDarkNightsLordaeronUnit.mdx")
set udg_hash=InitHashtable()
call SaveStr(udg_hash, 1, 0x45303035, "ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp")
call SaveStr(udg_hash, 1, 0x48303132, "war3mapImported\\BTNMageMaster.blp")
call SaveStr(udg_hash, 1, 0x4830304C, "war3mapImported\\BTNEliteGuard.blp")
call SaveStr(udg_hash, 1, 0x48303050, "ReplaceableTextures\\CommandButtons\\BTNHeroMountainKing.blp")
call SaveStr(udg_hash, 1, 0x4830304E, "war3mapImported\\BTNRifleman.blp")
call SaveStr(udg_hash, 1, 0x4830304F, "ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
call SaveStr(udg_hash, 1, 0x48303058, "war3mapImported\\BTNBlueWisp.blp")
call SaveStr(udg_hash, 1, 0x4830305A, "ReplaceableTextures\\CommandButtons\\BTNHeroPaladin.blp")
call SaveStr(udg_hash, 1, 0x4E303137, "ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp")
call SaveStr(udg_hash, 1, 0x4E303130, "ReplaceableTextures\\CommandButtons\\BTNDranaiAkama.blp")
call SaveStr(udg_hash, 1, 0x48303051, "war3mapImported\\BTNSorceress.blp")
call SaveStr(udg_hash, 1, 0x4E30305A, "war3mapImported\\BTNNagaSeaWitch.blp")
call SaveStr(udg_hash, 1, 0x48303143, "ReplaceableTextures\\CommandButtons\\BTNGlaiveThrower.blp")
call SaveStr(udg_hash, 1, 0x48303145, "ReplaceableTextures\\CommandButtons\\BTNPriest.blp")
call SaveStr(udg_hash, 1, 0x48303144, "ReplaceableTextures\\CommandButtons\\BTNGarithos.blp")
call SaveStr(udg_hash, 1, 0x4E30314B, "ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp")
call SaveStr(udg_hash, 1, 0x48303146, "ReplaceableTextures\\CommandButtons\\BTNAncientOfLore.blp")
call SaveStr(udg_hash, 1, 0x4E303156, "war3mapImported\\BTNRexxar.blp")
call SaveStr(udg_hash, 1, 0x48303147, "ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp")
call SaveStr(udg_hash, 1, 0x4E303150, "ReplaceableTextures\\CommandButtons\\BTNSpiritWolf.blp")
call SaveStr(udg_hash, 1, 0x48303149, "ReplaceableTextures\\CommandButtons\\BTNChaosWarlock.blp")
call SaveStr(udg_hash, 1, 0x4E303237, "war3mapImported\\BTNWarboss.blp")
call SaveStr(udg_hash, 1, 0x45303041, "ReplaceableTextures\\CommandButtons\\BTNKelThuzad.blp")
call SaveStr(udg_hash, 1, 0x4E303245, "ReplaceableTextures\\CommandButtons\\BTNNagaSummoner.blp")
call SaveStr(udg_hash, 1, 0x4F303135, "war3mapImported\\BTNRoshan.blp")
call SaveStr(udg_hash, 1, 0x4E30324B, "ReplaceableTextures\\CommandButtons\\BTNArmorGolem.blp")
call SaveStr(udg_hash, 1, 0x55303051, "war3mapImported\\BTNDarkRanger.blp")
call SaveStr(udg_hash, 1, 0x48303148, "ReplaceableTextures\\CommandButtons\\BTNPeon.blp")
call SaveStr(udg_hash, 1, 0x48303234, "ReplaceableTextures\\CommandButtons\\BTNBanditSpearThrower.blp")
call SaveStr(udg_hash, 1, 0x48303235, "ReplaceableTextures\\CommandButtons\\BTNSpellBreakerMagicUnDefend.blp")
call SaveStr(udg_hash, 1, 0x55303131, "ReplaceableTextures\\CommandButtons\\BTNGryphonRider.blp")
call SaveStr(udg_hash, 1, 0x4F30314D, "ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp")
call SaveStr(udg_hash, 1, 0x4F30314F, "war3mapImported\\BTNSwordsmaster.blp")
call SaveStr(udg_hash, 1, 0x4E303352, "ReplaceableTextures\\CommandButtons\\BTNHeroAvatarOfFlame.blp")
call SaveStr(udg_hash, 1, 0x4E303353, "war3mapImported\\BTNStaticRemnant.blp")
call SaveStr(udg_hash, 1, 0x4830324C, "war3mapImported\\BTNLegat.blp")
call SaveStr(udg_hash, 1, 0x4530304D, "war3mapImported\\BTNPriestessofthe Moon.blp")
call SaveStr(udg_hash, 1, 0x48303259, "war3mapImported\\BTNBard.blp")
call SaveStr(udg_hash, 1, 0x4530304F, "war3mapImported\\BTNMalfurion.blp")
call SaveStr(udg_hash, 1, 0x4F303232, "war3mapImported\\BTNKilrogg.blp")
call SaveStr(udg_hash, 1, 0x45303053, "war3mapImported\\BTNSilver.blp")
call SaveStr(udg_hash, 1, 0x55303144, "ReplaceableTextures\\CommandButtons\\BTNHeroDreadLord.blp")
call SaveStr(udg_hash, 1, 0x48303159, "war3mapImported\\BTNArchmage.blp")
call SaveStr(udg_hash, 1, 0x4E303554, "ReplaceableTextures\\CommandButtons\\BTNForestTrollTrapper.blp")
call SaveStr(udg_hash, 1, 0x4E303642, "ReplaceableTextures\\CommandButtons\\BTNBandit.blp")
call SaveStr(udg_hash, 1, 0x4830335A, "war3mapImported\\BTNRoyalSorc.blp")
call SaveStr(udg_hash, 1, 0x45303133, "war3mapImported\\BTNFudo.blp")
call SaveStr(udg_hash, 1, 0x486D6B67, "war3mapImported\\BTNLadyLiadrin.blp")
call SaveStr(udg_hash, 1, 0x45303134, "war3mapImported\\BTNNecroFurion.blp")
call SaveStr(udg_hash, 1, 0x4E62726E, "war3mapImported\\BTNSylvanas2.blp")
call SaveStr(udg_hash, 1, 0x4E70626D, "ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp")
call SaveStr(udg_hash, 1, 0x4E303645, "ReplaceableTextures\\CommandButtons\\BTNTimberWolf.blp")
call SaveStr(udg_hash, 1, 0x48767764, "war3mapImported\\BTNVereesa.blp")
call SaveStr(udg_hash, 1, 0x486C6772, "war3mapImported\\BTNHawkstrider.blp")
call SaveStr(udg_hash, 1, 0x4E666972, "war3mapImported\\BTNElementalLord.blp")
call SaveStr(udg_hash, 1, 0x48616D67, "ReplaceableTextures\\CommandButtons\\BTNBanditMage.blp")
call SaveStr(udg_hash, 1, 0x48617266, "war3mapImported\\BTNTaelanFordring.blp")
call SaveStr(udg_hash, 1, 0x48686B6C, "war3mapImported\\BTNSteward.blp")
call SaveStr(udg_hash, 1, 0x486A6169, "war3mapImported\\BTNHotsJaina.blp")
set u=CreateUnit(Player(11), 0x48303159, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830335A, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303554, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303642, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x45303053, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830324C, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303259, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x55303144, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4F303232, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4530304F, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4530304D, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303353, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303352, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4F30314F, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4F30314D, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303235, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x55303131, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303234, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303148, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x55303051, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E30324B, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4F303135, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303245, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x45303041, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303237, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303149, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303150, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303147, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303156, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303146, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x45303035, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830304C, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303050, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830304E, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E30305A, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830304F, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303058, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303132, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4830305A, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303137, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E303130, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303051, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303143, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303145, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x48303144, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x4E30314B, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x65303044, 0.00, 0.00, 0.00)
call RemoveUnit(u)
set u=CreateUnit(Player(11), 0x68303236, 0.00, 0.00, 0.00)
call UnitAddAbility(u, 0x61613030)
call UnitAddAbility(u, 0x61613031)
call UnitAddAbility(u, 0x61613032)
call UnitAddAbility(u, 0x61613033)
call UnitAddAbility(u, 0x61613034)
call UnitAddAbility(u, 0x61613035)
call UnitAddAbility(u, 0x61613036)
call UnitAddAbility(u, 0x61613037)
call UnitAddAbility(u, 0x61613038)
call UnitAddAbility(u, 0x61613039)
call UnitAddAbility(u, 0x61613130)
call UnitAddAbility(u, 0x61613131)
call UnitAddAbility(u, 0x61613132)
call UnitAddAbility(u, 0x72613030)
call UnitAddAbility(u, 0x72613031)
call UnitAddAbility(u, 0x72613032)
call UnitAddAbility(u, 0x72613033)
call UnitAddAbility(u, 0x72613034)
call UnitAddAbility(u, 0x72613035)
call UnitAddAbility(u, 0x72613036)
call UnitAddAbility(u, 0x72613037)
call UnitAddAbility(u, 0x72613038)
call UnitAddAbility(u, 0x72613039)
call UnitAddAbility(u, 0x72613130)
call UnitAddAbility(u, 0x72613131)
call UnitAddAbility(u, 0x72613132)
call UnitAddAbility(u, 0x61643030)
call UnitAddAbility(u, 0x61643031)
call UnitAddAbility(u, 0x61643032)
call UnitAddAbility(u, 0x61643033)
call UnitAddAbility(u, 0x61643034)
call UnitAddAbility(u, 0x61643035)
call UnitAddAbility(u, 0x61643036)
call UnitAddAbility(u, 0x61643037)
call UnitAddAbility(u, 0x61643038)
call UnitAddAbility(u, 0x61643039)
call UnitAddAbility(u, 0x61643130)
call UnitAddAbility(u, 0x61643131)
call UnitAddAbility(u, 0x61643132)
call UnitAddAbility(u, 0x72643030)
call UnitAddAbility(u, 0x72643031)
call UnitAddAbility(u, 0x72643032)
call UnitAddAbility(u, 0x72643033)
call UnitAddAbility(u, 0x72643034)
call UnitAddAbility(u, 0x72643035)
call UnitAddAbility(u, 0x72643036)
call UnitAddAbility(u, 0x72643037)
call UnitAddAbility(u, 0x72643038)
call UnitAddAbility(u, 0x72643039)
call UnitAddAbility(u, 0x72643130)
call UnitAddAbility(u, 0x72643131)
call UnitAddAbility(u, 0x72643132)
call UnitAddAbility(u, 0x61733030)
call UnitAddAbility(u, 0x61733031)
call UnitAddAbility(u, 0x61733032)
call UnitAddAbility(u, 0x61733033)
call UnitAddAbility(u, 0x61733034)
call UnitAddAbility(u, 0x61733035)
call UnitAddAbility(u, 0x61733036)
call UnitAddAbility(u, 0x61733037)
call UnitAddAbility(u, 0x61733038)
call UnitAddAbility(u, 0x61683030)
call UnitAddAbility(u, 0x616D3030)
call UnitAddItemById(u, 0x69643030)
call UnitAddItemById(u, 0x69643031)
call UnitAddItemById(u, 0x69643032)
call UnitAddItemById(u, 0x69643033)
call UnitAddItemById(u, 0x69643034)
call UnitAddItemById(u, 0x69643035)
call UnitAddItemById(u, 0x69643036)
call UnitAddItemById(u, 0x69643037)
call UnitAddItemById(u, 0x69643038)
call UnitAddItemById(u, 0x69643039)
call UnitAddItemById(u, 0x69643130)
call UnitAddItemById(u, 0x69643131)
call UnitAddItemById(u, 0x69643132)
call RemoveUnit(u)
set Color[0]="|cffff0000"
set Color[1]="|cff0000ff"
set Color[2]="|cff00f5ff"
set Color[3]="|cff551A8B"
set Color[4]="|cffffff00"
set Color[5]="|cffEE9A00"
set Color[6]="|cff00CD00"
set Color[7]="|cffFF69B4"
call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 12.00)
call SuspendTimeOfDay(true)
call ForceAddPlayer(udg_AI, Player(8))
call ForceAddPlayer(udg_AI, Player(10))
call ForceAddPlayer(udg_AI, Player(11))
set AI[1]=Player(8)
set AI[2]=Player(10)
set AI[3]=Player(11)
call SetPlayerColor(Player(10), PLAYER_COLOR_LIGHT_GRAY)
call SetPlayerColor(Player(11), PLAYER_COLOR_LIGHT_GRAY)
call RemoveAllGuardPositions(Player(8))
call RemoveAllGuardPositions(Player(10))
call RemoveAllGuardPositions(Player(11))
set Wisps[1]=gg_unit_e000_0094
set Wisps[2]=gg_unit_e000_0101
set Wisps[3]=gg_unit_e000_0102
set Wisps[4]=gg_unit_e000_0103
set Wisps[5]=gg_unit_e000_0104
set Wisps[6]=gg_unit_e000_0105
set Wisps[7]=gg_unit_e000_0106
set Wisps[8]=gg_unit_e000_0107
set L=0
loop
exitwhen L > 7
if GetPlayerController(Player(L)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(L)) == PLAYER_SLOT_STATE_PLAYING then
set PlayerName[L + 1]=Color[L] + GetPlayerName(Player(L))
set name=GetPlayerName(Player(L))
if name == "pingvin02" or name == "Mortemka" or name == "Lorit" or name == "playofwar" or name == "kadet_bl00d" or name == "XxRiKxX123" or name == "ItsWho" or name == "Danandan_03" or name == "Bykaki" or name == "LATINICASNOWMAN" or name == "teod0r" then
call UnitAddAbility(Wisps[L + 1], 0x41304253)
call SaveInteger(udg_hash, GetHandleId(Player(L)), 11, 1)
endif
else
set PlayerName[L + 1]="|cFF646464------"
call RemoveUnit(Wisps[L + 1])
endif
set L=L + 1
endloop
set L=0
loop
exitwhen L > 7
call TriggerRegisterPlayerEvent(gg_trg_LeavePlayers, Player(L), EVENT_PLAYER_LEAVE)
call TriggerRegisterPlayerChatEvent(gg_trg_mods, Player(L), "-mods", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Valor, Player(L), "-c1", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Storm, Player(L), "-c3", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Abyss, Player(L), "-c2", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Hell, Player(L), "-c4", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Change_Gift, Player(L), "-cg", true)
call TriggerRegisterPlayerChatEvent(gg_trg_mods, Player(L), "-ьщвы", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Valor, Player(L), "-с1", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Storm, Player(L), "-с3", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Abyss, Player(L), "-с2", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Complect_Hell, Player(L), "-с4", true)
call TriggerRegisterPlayerChatEvent(gg_trg_Change_Gift, Player(L), "-сп", true)
set L=L + 1
endloop
set T1_Item[1]=0x72656A31
set T1_Item[2]=0x7370726E
set T1_Item[3]=0x6B6C6D6D
set T1_Item[4]=0x72646530
set T1_Item[5]=0x66726764
set T1_Item[6]=0x6E737069
set T1_Item[7]=0x73726264
set T1_Item[8]=0x6A64726E
set T1_Item[9]=0x72656A32
set T1_Item[10]=0x6667756E
set T1_Item[11]=0x63726474
set T1_Item[12]=0x73687273
set T1_Item[13]=0x7664646C
set T1_Item[14]=0x726E7370
set T1_Item[15]=0x64727068
set T1_Item[16]=0x6C6E726E
set T1_Item[17]=0x66726867
set T1_Item[18]=0x6D6C7374
set T1_Item[19]=0x6776736D
set T1_Item[20]=0x64757374
set T1_Item[21]=0x72656A34
set T1_Item[22]=0x74677870
set T1_Item[23]=0x6C757265
set T1_Item[24]=0x72756D70
set T1_Item[25]=0x73747265
set T1_Item[26]=0x73666F67
set T1_Item[27]=0x72756774
set T1_Item[28]=0x72656A35
set T1_Item[29]=0x7363756C
set T1_Count=29
set T1_End=29
set T1_Minus=0
loop
exitwhen T1_End == 0
set T1_Check[T1_End]=false
set T1_End=T1_End - 1
endloop
set T2_Item[1]=0x49303732
set T2_Item[2]=0x49303734
set T2_Item[3]=0x49303735
set T2_Item[4]=0x49303733
set T2_Item[5]=0x49303444
set T2_Item[6]=0x49303448
set T2_Item[7]=0x49303457
set T2_Item[8]=0x49303443
set T2_Item[9]=0x4930365A
set T2_Item[10]=0x49303446
set T2_Item[11]=0x49303530
set T2_Item[12]=0x49303543
set T2_Item[13]=0x49303549
set T2_Item[14]=0x49303555
set T2_Item[15]=0x4930355A
set T2_Item[16]=0x49303834
set T2_Item[17]=0x49303846
set T2_Item[18]=0x49303847
set T2_Item[19]=0x49303855
set T2_Item[20]=0x49303857
set T2_Item[21]=0x4930385A
set T2_Item[22]=0x4930394F
set T2_Item[23]=0x49304156
set T2_Item[24]=0x49303057
set T2_Item[25]=0x49303058
set T2_Item[26]=0x49303135
set T2_Item[27]=0x4930304C
set T2_Item[28]=0x49303937
set T2_Item[29]=0x49303935
set T2_Item[30]=0x4930314B
set T2_Count=30
set T2_End=30
set T2_Minus=0
loop
exitwhen T2_End == 0
set T2_Check[T2_End]=false
set T2_End=T2_End - 1
endloop
set T3_Item[1]=0x49303747
set T3_Item[2]=0x49303748
set T3_Item[3]=0x49303659
set T3_Item[4]=0x49303749
set T3_Item[5]=0x49303447
set T3_Item[6]=0x4930374A
set T3_Item[7]=0x49303746
set T3_Item[8]=0x49303432
set T3_Item[9]=0x49303445
set T3_Item[10]=0x49303458
set T3_Item[11]=0x49303531
set T3_Item[12]=0x49303657
set T3_Item[13]=0x49303547
set T3_Item[14]=0x49303548
set T3_Item[15]=0x49303552
set T3_Item[16]=0x49303753
set T3_Item[17]=0x49303835
set T3_Item[18]=0x49303836
set T3_Item[19]=0x49304157
set T3_Item[20]=0x49303030
set T3_Item[21]=0x49303032
set T3_Item[22]=0x49303033
set T3_Item[23]=0x49303134
set T3_Item[24]=0x49303136
set T3_Item[25]=0x49303142
set T3_Item[26]=0x49303143
set T3_Item[27]=0x49303436
set T3_Item[28]=0x49303433
set T3_Item[29]=0x49303939
set T3_Item[30]=0x4930304E
set T3_Item[31]=0x49303442
set T3_Item[32]=0x49303441
set T3_Item[33]=0x72616731
set T3_Count=33
set T3_End=33
set T3_Minus=1
loop
exitwhen T3_End == 0
set T3_Check[T3_End]=false
set T3_End=T3_End - 1
endloop
set T4_Item[1]=0x49303653
set T4_Item[2]=0x49303652
set T4_Item[3]=0x49303533
set T4_Item[4]=0x49303737
set T4_Item[5]=0x49303738
set T4_Item[6]=0x49303739
set T4_Item[7]=0x49303742
set T4_Item[8]=0x49303743
set T4_Item[9]=0x4930374E
set T4_Item[10]=0x49303752
set T4_Item[11]=0x49303837
set T4_Item[12]=0x49303839
set T4_Item[13]=0x49303848
set T4_Item[14]=0x49303849
set T4_Item[15]=0x49303856
set T4_Item[16]=0x49303932
set T4_Item[17]=0x49303947
set T4_Item[18]=0x49303039
set T4_Item[19]=0x49303141
set T4_Item[20]=0x49303532
set T4_Item[21]=0x49303434
set T4_Item[22]=0x49303938
set T4_Item[23]=0x4930414C
set T4_Item[24]=0x4930414A
set T4_Item[25]=0x49303439
set T4_Count=25
set T4_End=25
set T4_Minus=0
loop
exitwhen T4_End == 0
set T4_Check[T4_End]=false
set T4_End=T4_End - 1
endloop
set T5_Item[1]=0x49303655
set T5_Item[2]=0x49303658
set T5_Item[3]=0x49303731
set T5_Item[4]=0x49303736
set T5_Item[5]=0x49303741
set T5_Item[6]=0x49303744
set T5_Item[7]=0x4930374B
set T5_Item[8]=0x49303750
set T5_Item[9]=0x49303751
set T5_Item[10]=0x49303838
set T5_Item[11]=0x4930384A
set T5_Item[12]=0x4930384B
set T5_Item[13]=0x49303931
set T5_Item[14]=0x49303957
set T5_Item[15]=0x4930414E
set T5_Item[16]=0x49303037
set T5_Item[17]=0x49303148
set T5_Item[18]=0x49303437
set T5_Item[19]=0x49303435
set T5_Item[20]=0x4930414D
set T5_Item[21]=0x49303941
set T5_Item[22]=0x4930414B
set T5_Item[23]=0x4930304D
set T5_Item[24]=0x49303642
set T5_Item[25]=0x49303638
set T5_Item[26]=0x49303637
set T5_Item[27]=0x49303641
set T5_Item[28]=0x49303643
set T5_Item[29]=0x49303038
set T5_Item[30]=0x4930374D
set T5_Count=30
set T5_End=30
set T5_Minus=0
loop
exitwhen T5_End == 0
set T5_Check[T5_End]=false
set T5_End=T5_End - 1
endloop
set T6_Item[1]=0x49304134
set T6_Item[2]=0x49304135
set T6_Item[3]=0x49304137
set T6_Item[4]=0x49304139
set T6_Item[5]=0x49304141
set T6_Item[6]=0x49304142
set T6_Item[7]=0x49304143
set T6_Item[8]=0x49304158
set T6_Item[9]=0x49304230
set T6_Item[10]=0x49303041
set T6_Item[11]=0x49303745
set T6_Item[12]=0x49303656
set T6_Item[13]=0x49303936
set T6_Item[14]=0x49303942
set T6_Item[15]=0x49303539
set T6_Item[16]=0x49303438
set T6_Item[17]=0x49303831
set T6_Item[18]=0x49303639
set T6_Item[19]=0x49303056
set T6_Item[20]=0x49303730
set T6_Item[21]=0x49304138
set T6_Item[22]=0x64747362
set T6_Item[23]=0x49304136
set T6_Item[24]=0x49304159
set T6_Item[25]=0x4930415A
set T6_Item[26]=0x74626172
set T6_Item[27]=0x49303041
set T6_Count=27
set T6_End=27
set T6_Minus=4
loop
exitwhen T6_End == 0
set T6_Check[T6_End]=false
set T6_End=T6_End - 1
endloop
set T7_Item[1]=0x61727363
set T7_Item[2]=0x686F726C
set T7_Item[3]=0x62666872
set T7_Item[4]=0x63636D64
set T7_Item[5]=0x636F736C
set T7_Item[6]=0x6F736C6F
set T7_Item[7]=0x676C646F
set T7_Count=7
set T7_End=7
set T7_Minus=0
loop
exitwhen T7_End == 0
set T7_Check[T7_End]=false
set T7_End=T7_End - 1
endloop
set udg_PurpleItems[1]=0x73686561
set udg_PurpleItems[2]=0x70696E76
set udg_PurpleItems[3]=0x7370726F
set udg_PurpleItems[4]=0x7373616E
set udg_PurpleItems[5]=0x736B756C
set udg_PurpleItems[6]=0x706D616E
set udg_PurpleItems[7]=0x726E6563
set udg_PurpleItems[8]=0x776E6567
set udg_PurpleItems[9]=0x73696C6B
set udg_PurpleItems[10]=0x73686173
set udg_PurpleItems[11]=0x6D6F6F6E
set udg_PurpleItems[12]=0x736E6567
set udg_PurpleItems[13]=0x74736374
set udg_PurpleItems[14]=0x736D616E
set udg_PurpleItems[15]=0x76616D70
set udg_PurpleItems[16]=0x70686561
set udg_PurpleItems[17]=0x73726567
set udg_PurpleItems[18]=0x776E6575
set udg_PurpleItems[19]=0x68736C76
set udg_PurpleItems[20]=0x74636173
set udg_PurpleItems[21]=0x6D637269
set udg_PurpleItems[22]=0x74726574
set udg_PurpleItems[23]=0x73747770
set udg_PurpleItems[24]=0x706E766C
set udg_PurpleItems[25]=0x74677268
set udg_PurpleItemsCount=25
set udg_PurpleItems[26]=0x70636C72
set udg_PurpleItems[27]=0x706C636C
set udg_TealItems1[1]=0x6D6E7374
set udg_TealItems1[2]=0x77687764
set udg_TealItems1[3]=0x6667736B
set udg_TealItems1[4]=0x776F6D73
set udg_TealItems2[1]=0x77696C64
set udg_TealItems2[2]=0x66677267
set udg_TealItems2[3]=0x706E7675
set udg_TealItems2[4]=0x72656A33
set udg_TealItems3[1]=0x77696C6C
set udg_TealItems3[2]=0x776C7364
set udg_TealItems3[3]=0x77736873
set udg_TealItems3[4]=0x77637963
set udg_TealItems4[1]=0x616E6B68
set udg_TealItems4[2]=0x696E6673
set udg_TealItems4[3]=0x706F6D6E
set udg_TealItems4[4]=0x686C7374
set Crystals[1]=0x74737472
set Crystals[2]=0x74737432
set Crystals[3]=0x74646578
set Crystals[4]=0x74647832
set Crystals[5]=0x74696E74
set Crystals[6]=0x74696E32
set Crystals[7]=0x72726531
set Crystals[8]=0x72686531
set Crystals[9]=0x6D616E68
set Crystals[10]=0x72726573
set udg_BonusItems[1]=0x6B796768
set udg_BonusItemsSkill[1]=0x41305238
set udg_BonusItems[2]=0x676F7072
set udg_BonusItemsSkill[2]=0x41305239
set udg_BonusItems[3]=0x656E6773
set udg_BonusItemsSkill[3]=0x41305241
set udg_BonusItems[4]=0x6B74726D
set udg_BonusItemsSkill[4]=0x41304254
set udg_BonusItems[5]=0x6B336D33
set udg_BonusItemsSkill[5]=0x41305242
set udg_BonusItems[6]=0x6D6F7274
set udg_BonusItemsSkill[6]=0x41305243
set udg_BonusItems[7]=0x6D67746B
set udg_BonusItemsSkill[7]=0x41305244
set udg_BonusItems[8]=0x6C656467
set udg_BonusItemsSkill[8]=0x41304334
set udg_BonusItems[9]=0x776F6C67
set udg_BonusItemsSkill[9]=0x41305245
set udg_BonusItems[10]=0x73687764
set udg_BonusItemsSkill[10]=0x41305246
set udg_BonusItems[11]=0x646B6677
set udg_BonusItemsSkill[11]=0x41305247
set udg_BonusItems[12]=0x6B336D32
set udg_BonusItemsSkill[12]=0x4130434F
set udg_BonusItems[13]=0x64746862
set udg_BonusItemsSkill[13]=0x41305343
set udg_BonusItems[14]=0x736B7274
set udg_BonusItemsSkill[14]=0x41305344
set udg_BonusItems[15]=0x6B796D6E
set udg_BonusItemsSkill[15]=0x41305345
set udg_BonusItems[16]=0x6B336D31
set udg_BonusItemsSkill[16]=0x41305347
set udg_BonusItems[17]=0x6B79626C
set udg_BonusItemsSkill[17]=0x41305346
set udg_BonusItems[18]=0x70686C74
set udg_BonusItemsSkill[18]=0x41305348
set udg_BonusItems[19]=0x736F7266
set udg_BonusItemsSkill[19]=0x4130534A
set udg_BonusItems[20]=0x676D6672
set udg_BonusItemsSkill[20]=0x4130534B
set udg_BonusItems[21]=0x77746C67
set udg_BonusItemsSkill[21]=0x41305349
set udg_BonusItems[25]=0x636E686E
set udg_BonusItemsSkill[25]=0x41303442
set udg_BonusItems[26]=0x73656872
set udg_BonusItemsSkill[26]=0x41303443
set udg_BonusItems[27]=0x63686573
set udg_BonusItemsSkill[27]=0x41303444
set udg_BonusItems[28]=0x6B79736E
set udg_BonusItemsSkill[28]=0x41303446
set udg_BonusItems[29]=0x627A6266
set udg_BonusItemsSkill[29]=0x41303533
set udg_BonusItems[30]=0x73636C70
set udg_BonusItemsSkill[30]=0x41303538
set udg_BonusItems[31]=0x6A706E74
set udg_BonusItemsSkill[31]=0x4130354C
set udg_BonusItems[32]=0x627A6265
set udg_BonusItemsSkill[32]=0x4130354E
set udg_BonusItems[33]=0x617A6872
set udg_BonusItemsSkill[33]=0x4130354F
set udg_TriggerLvl[1]=gg_trg_Lvl_1
set udg_TriggerLvl[2]=gg_trg_Lvl_2
set udg_TriggerLvl[3]=gg_trg_Lvl_3
set udg_TriggerLvl[4]=gg_trg_Lvl_4
set udg_TriggerLvl[5]=gg_trg_Lvl_5
set udg_TriggerLvl[6]=gg_trg_Lvl_6
set udg_TriggerLvl[7]=gg_trg_Lvl_7
set udg_TriggerLvl[8]=gg_trg_Lvl_8
set udg_TriggerLvl[9]=gg_trg_Lvl_9
set udg_TriggerLvl[11]=gg_trg_Lvl_11
set udg_TriggerLvl[12]=gg_trg_Lvl_12
set udg_TriggerLvl[13]=gg_trg_Lvl_13
set udg_TriggerLvl[15]=gg_trg_Lvl_15
set udg_TriggerLvl[16]=gg_trg_Lvl_16
set udg_TriggerLvl[21]=gg_trg_Lvl_21
set udg_TriggerLvl[22]=gg_trg_Lvl_22
set udg_TriggerLvl[23]=gg_trg_Lvl_23
set u=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Init2 takes nothing returns nothing
set gg_trg_Init2=CreateTrigger()
call TriggerAddAction(gg_trg_Init2, function Trig_Init2_Actions)
endfunction
function Trig_gold_Conditions takes nothing returns boolean
return IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnit())) == true and GetUnitLevel(GetDyingUnit()) > 0 and IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction
function Trig_gold_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local player pl2=GetOwningPlayer(u2)
local integer n=GetPlayerId(pl)
local integer n2=GetPlayerId(pl2)
local integer gold
local integer gold2
local texttag text
local real GoldCof=LoadReal(udg_hash, GetHandleId(u), 10)
if n < 8 then
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
if ExpGo[n] >= 1600000 then
set gold=100
elseif ExpGo[n] >= 600000 then
set gold=75
else
set gold=50
endif
else
if n2 == 12 then
set gold=GetUnitLevel(u2) * 3
else
set gold=GetUnitLevel(u2)
endif
endif
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + gold)
set text=CreateTextTagUnitBJ("|cFFFFDC00+" + I2S(gold), u2, 0, 10.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
if GoldCof > 0.00 then
if GoldCof < 1.00 and GetUnitLevel(u2) == 1 then
set u=null
set u2=null
set pl=null
set pl2=null
set text=null
return
endif
set gold2=R2I(I2R(gold) * GoldCof)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + gold2)
set text=CreateTextTagUnitBJ("|cFFFF6C00+" + I2S(gold2), u2, 80.00, 10.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
if GetUnitAbilityLevel(u2, 0x53303051) == 1 then
set gold=LoadInteger(udg_hash, GetHandleId(u2), 11)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + gold)
set text=CreateTextTagUnitBJ("|cFFFFDC00+" + I2S(gold), u2, 160.00, 10.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
if IsUnitType(u2, UNIT_TYPE_HERO) != true then
call FlushChildHashtable(udg_hash, GetHandleId(u2))
else
call SaveInteger(udg_hash, GetHandleId(u2), 11, 0)
endif
endif
endif
set u=null
set u2=null
set pl=null
set pl2=null
set text=null
endfunction
function InitTrig_gold takes nothing returns nothing
set gg_trg_gold=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_gold, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_gold, Condition(function Trig_gold_Conditions))
call TriggerAddAction(gg_trg_gold, function Trig_gold_Actions)
endfunction
function Trig_LeavePlayers_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer gold=GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD)
local integer L
local unit u
local integer UT
local group ug=CreateGroup()
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "[|cFFE60000Leave|r] |cFFFF5800Игрок|r |cFFE60000" + GetPlayerName(pl) + "|r |cFFFF5800покинул игру!|r")
call ForceRemovePlayer(udg_PlayersGroup, pl)
set udg_PlayersCount=udg_PlayersCount - 1
set udg_Gandikap=udg_Gandikap - 0.04
call SetPlayerHandicap(Player(8), udg_Gandikap)
call SetPlayerHandicap(Player(10), udg_Gandikap)
call SetPlayerHandicap(Player(11), udg_Gandikap)
if udg_PlayersCount != 0 then
call GroupEnumUnitsOfPlayer(ug, pl, null)
set gold=gold / udg_PlayersCount
set L=0
loop
exitwhen L > 7
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD) + gold)
set L=L + 1
endloop
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, 0)
set L=GetPlayerId(pl) + 1
set udg_Income[L]=0
set udg_SIncome[L]=0
set PlayerName[L]="|cFF646464" + GetPlayerName(Player(L - 1))
call MultiboardSetItemValue(MultiboardGetItem(udg_Board, L, 1), PlayerName[L])
set L=0
loop
exitwhen L > 7
if GetPlayerController(Player(L)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(L)) == PLAYER_SLOT_STATE_PLAYING and Player(L) != pl then
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if IsDead(u) == false then
if IsUnitType(u, UNIT_TYPE_HERO) == true then
call SetItemPositionLoc(UnitItemInSlot(u, 0), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 1), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 2), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 3), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 4), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 5), udg_SpawnHeroPoint[L + 1])
else
set UT=GetUnitTypeId(u)
if UT == 0x65303030 then
call RemoveUnit(u)
else
call SetUnitOwner(u, Player(L), true)
endif
if UT == 0x68303039 or UT == 0x6830314A then
set udg_Income[L + 1]=udg_Income[L + 1] + 1
elseif UT == 0x68303041 or UT == 0x6830314B or UT == 0x68303136 then
set udg_Income[L + 1]=udg_Income[L + 1] + 2
elseif UT == 0x68303042 or UT == 0x68303156 then
set udg_Income[L + 1]=udg_Income[L + 1] + 3
elseif UT == 0x68303137 then
set udg_Income[L + 1]=udg_Income[L + 1] + 4
elseif UT == 0x68303138 then
set udg_Income[L + 1]=udg_Income[L + 1] + 6
elseif UT == 0x6830334B then
set udg_SIncome[L + 1]=udg_SIncome[L + 1] + 100
elseif UT == 0x6830334C then
set udg_SIncome[L + 1]=udg_SIncome[L + 1] + 200
elseif UT == 0x6830334D then
set udg_SIncome[L + 1]=udg_SIncome[L + 1] + 300
elseif UT == 0x68303130 then
set udg_ExpIncome[L + 1]=udg_ExpIncome[L + 1] + 4
elseif UT == 0x6E30344A or UT == 0x6E30344B or UT == 0x6E303639 or UT == 0x6E303641 then
set udg_ExpIncome[L + 1]=udg_ExpIncome[L + 1] + 1
endif
if LoadInteger(udg_hash, GetHandleId(Player(L)), 10) == 1 then
if UT == 0x68303048 or UT == 0x6F303038 or UT == 0x75303036 or UT == 0x68303056 or UT == 0x68303245 or UT == 0x6E30314C or UT == 0x68636173 or UT == 0x6F303244 or UT == 0x6830324E then
set udg_SIncome[L + 1]=udg_SIncome[L + 1] + 40
endif
endif
endif
endif
call GroupRemoveUnit(ug, u)
if GetUnitAbilityLevel(u, 0x41304346) == 1 then
call SetItemPositionLoc(UnitItemInSlot(u, 0), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 1), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 2), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 3), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 4), udg_SpawnHeroPoint[L + 1])
call SetItemPositionLoc(UnitItemInSlot(u, 5), udg_SpawnHeroPoint[L + 1])
call RemoveUnit(u)
endif
endloop
set L=8
endif
set L=L + 1
endloop
endif
set pl=null
set u=null
set ug=null
endfunction
function InitTrig_LeavePlayers takes nothing returns nothing
set gg_trg_LeavePlayers=CreateTrigger()
call TriggerAddAction(gg_trg_LeavePlayers, function Trig_LeavePlayers_Actions)
endfunction
function Trig_StartChooseLvl_Actions takes nothing returns nothing
local player pl
local integer loopStart
call DestroyTimerDialog(udg_EventTimerWindow)
call DestroyTrigger(gg_trg_ILOD)
if GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(0)
elseif GetPlayerSlotState(Player(1)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(1)
elseif GetPlayerSlotState(Player(2)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(2)
elseif GetPlayerSlotState(Player(3)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(3)
elseif GetPlayerSlotState(Player(4)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(4)
elseif GetPlayerSlotState(Player(5)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(5)
elseif GetPlayerSlotState(Player(6)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(6)
elseif GetPlayerSlotState(Player(7)) == PLAYER_SLOT_STATE_PLAYING then
set pl=Player(7)
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFDF7AD8Время истекло! Игрок|r |cFFFFDC00" + GetPlayerName(pl) + "|r |cFFDF7AD8выбирает поле боя.")
set loopStart=1
loop
exitwhen loopStart > 8
set udg_AllPoints=udg_AllPoints + udg_Points[loopStart]
set loopStart=loopStart + 1
endloop
call BackToLvlCategories_Function()
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
set pl=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_StartChooseLvl takes nothing returns nothing
set gg_trg_StartChooseLvl=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_StartChooseLvl, udg_EventTimer)
call TriggerAddAction(gg_trg_StartChooseLvl, function Trig_StartChooseLvl_Actions)
endfunction
function Trig_LvlCategories_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
call DialogClear(udg_ChooseLvlWindow)
if b == udg_Button[1] then
call DialogSetMessage(udg_ChooseLvlWindow, ( "Общий опыт игроков: " + ( I2S(udg_AllPoints) + ". Выберите уровень:" ) ))
set udg_Button[21]=DialogAddButton(udg_ChooseLvlWindow, "Верхняя усыпальница (Обучение)", 0)
if udg_AllPoints >= 2500 then
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "Подземная крепость (100% сложность)", 0)
else
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 2 500 очков", 0)
endif
if udg_AllPoints >= 7500 then
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "Западные катакомбы (120% сложность)", 0)
else
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 7 500 очков", 0)
endif
if udg_AllPoints >= 15000 then
set udg_Button[24]=DialogAddButton(udg_ChooseLvlWindow, "Ледяной грот (130% сложность)", 0)
else
set udg_Button[24]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 15 000 очков", 0)
endif
if udg_AllPoints >= 50000 then
set udg_Button[25]=DialogAddButton(udg_ChooseLvlWindow, "Нижняя усыпальница (140% сложность)", 0)
else
set udg_Button[25]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 50 000 очков", 0)
endif
if udg_AllPoints >= 150000 then
set udg_Button[26]=DialogAddButton(udg_ChooseLvlWindow, "Зимняя тайга (150% сложность)", 0)
else
set udg_Button[26]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 150 000 очков", 0)
endif
if udg_AllPoints >= 250000 then
set udg_Button[27]=DialogAddButton(udg_ChooseLvlWindow, "Восточные катакомбы (160% сложность)", 0)
else
set udg_Button[27]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 250 000 очков", 0)
endif
set udg_Button[28]=DialogAddButton(udg_ChooseLvlWindow, "Режим \"Нашествие\"", 0)
if udg_AllPoints >= 750000 then
set udg_Button[29]=DialogAddButton(udg_ChooseLvlWindow, "Холодные берега (175% > 200% сложность)", 0)
else
set udg_Button[29]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 750 000 очков", 0)
endif
set udg_BackButton=DialogAddButton(udg_ChooseLvlWindow, "|cFFBF93D4Назад|r", 0)
call EnableTrigger(gg_trg_CommonLevelsCategory)
call DisableTrigger(GetTriggeringTrigger())
elseif b == udg_Button[2] then
if udg_AllPoints >= 50000 then
call DialogSetMessage(udg_ChooseLvlWindow, ( "Общий опыт игроков: " + ( I2S(udg_AllPoints) + ". Выберите хардкор-уровень:" ) ))
set udg_Button[21]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Верхняя усыпальница (150% сложность)|r", 0)
if udg_AllPoints >= 150000 then
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Подземная крепость (160% сложность)|r", 0)
else
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 150 000 очков", 0)
endif
if udg_AllPoints >= 400000 then
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Западные катакомбы (180% сложность)|r", 0)
else
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 400 000 очков", 0)
endif
if udg_AllPoints >= 800000 then
set udg_Button[25]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Нижняя усыпальница (200% сложность)|r", 0)
else
set udg_Button[25]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 800 000 очков", 0)
endif
if udg_AllPoints >= 3000000 then
set udg_Button[26]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF3232Зимняя тайга (240% сложность)|r", 0)
else
set udg_Button[26]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 3 000 000 очков", 0)
endif
set udg_BackButton=DialogAddButton(udg_ChooseLvlWindow, "|cFFBF93D4Назад|r", 0)
call EnableTrigger(gg_trg_HardcoreLevelsCategory)
call DisableTrigger(GetTriggeringTrigger())
else
call BackToLvlCategories_Function()
endif
elseif b == udg_Button[3] then
if udg_AllPoints >= 1000000 then
call DialogSetMessage(udg_ChooseLvlWindow, ( "Общий опыт игроков: " + ( I2S(udg_AllPoints) + ". Выберите испытание:" ) ))
set udg_Button[21]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF9600Крепость Горгота (220% сложность)|r", 0)
if udg_AllPoints >= 2000000 then
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF9600Берег мертвецов (230% сложность)|r", 0)
else
set udg_Button[22]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 2 000 000 очков", 0)
endif
if udg_AllPoints >= 4000000 then
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "|cFFFF9600Чёрная гробница (260% сложность)|r", 0)
else
set udg_Button[23]=DialogAddButton(udg_ChooseLvlWindow, "|cff808080Требуется 4 000 000 очков", 0)
endif
set udg_BackButton=DialogAddButton(udg_ChooseLvlWindow, "|cFFBF93D4Назад|r", 0)
call EnableTrigger(gg_trg_ChallengeLevelsCategory)
call DisableTrigger(GetTriggeringTrigger())
else
call BackToLvlCategories_Function()
endif
endif
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
set b=null
set pl=null
endfunction
function InitTrig_LvlCategories takes nothing returns nothing
set gg_trg_LvlCategories=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_LvlCategories, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_LvlCategories, function Trig_LvlCategories_Actions)
endfunction
function Trig_CommonLevelsCategory_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
if b == udg_Button[21] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=1
set udg_LvlNameNT="Верхняя усыпальница (Обучение)"
set udg_ExpTimerCount=7.00
call CreatePreStart_Function()
elseif b == udg_Button[22] then
if udg_AllPoints >= 2500 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=2
set udg_LvlNameNT="Подземная крепость (100% сложность)"
set udg_ExpTimerCount=6.00
call CreatePreStart_Function()
endif
elseif b == udg_Button[23] then
if udg_AllPoints >= 7500 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=3
set udg_LvlNameNT="Западные катакомбы (120% сложность)"
set udg_ExpTimerCount=5.00
call CreatePreStart_Function()
endif
elseif b == udg_Button[24] then
if udg_AllPoints >= 15000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=4
set udg_LvlNameNT="Ледяной грот (130% сложность)"
set udg_ExpTimerCount=4.50
call CreatePreStart_Function()
endif
elseif b == udg_Button[25] then
if udg_AllPoints >= 50000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=5
set udg_LvlNameNT="Нижняя усыпальница (140% сложность)"
set udg_ExpTimerCount=4.00
call CreatePreStart_Function()
endif
elseif b == udg_Button[26] then
if udg_AllPoints >= 150000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=6
set udg_LvlNameNT="Зимняя тайга (150% сложность)"
set udg_ExpTimerCount=3.50
call CreatePreStart_Function()
endif
elseif b == udg_Button[27] then
if udg_AllPoints >= 250000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=7
set udg_LvlNameNT="Восточные катакомбы (160% сложность)"
set udg_ExpTimerCount=3.00
call CreatePreStart_Function()
endif
elseif b == udg_Button[28] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=8
set udg_LvlNameNT="Режим \"Нашествие\""
call CreatePreStart_Function()
elseif b == udg_Button[29] then
if udg_AllPoints >= 750000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=9
set udg_LvlNameNT="Холодные берега (175% > 200% сложность)"
set udg_ExpTimerCount=2.50
call CreatePreStart_Function()
endif
elseif b == udg_BackButton then
call DisableTrigger(GetTriggeringTrigger())
call DialogClear(udg_ChooseLvlWindow)
call BackToLvlCategories_Function()
endif
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
set b=null
set pl=null
endfunction
function InitTrig_CommonLevelsCategory takes nothing returns nothing
set gg_trg_CommonLevelsCategory=CreateTrigger()
call DisableTrigger(gg_trg_CommonLevelsCategory)
call TriggerRegisterDialogEvent(gg_trg_CommonLevelsCategory, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_CommonLevelsCategory, function Trig_CommonLevelsCategory_Actions)
endfunction
function Trig_HardcoreLevelsCategory_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
if b == udg_Button[21] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=11
set udg_LvlNameNT="|cFFFF3232Верхняя усыпальница (150% сложность)|r"
set udg_ExpTimerCount=4.50
call CreatePreStart_Function()
elseif b == udg_Button[22] then
if udg_AllPoints >= 150000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=12
set udg_LvlNameNT="|cFFFF3232Подземная крепость (160% сложность)|r"
set udg_ExpTimerCount=3.50
call CreatePreStart_Function()
endif
elseif b == udg_Button[23] then
if udg_AllPoints >= 400000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=13
set udg_LvlNameNT="|cFFFF3232Западные катакомбы (180% сложность)|r"
set udg_ExpTimerCount=2.70
call CreatePreStart_Function()
endif
elseif b == udg_Button[25] then
if udg_AllPoints >= 800000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=15
set udg_LvlNameNT="|cFFFF3232Нижняя усыпальница (200% сложность)|r"
set udg_ExpTimerCount=2.50
call CreatePreStart_Function()
endif
elseif b == udg_Button[26] then
if udg_AllPoints >= 3000000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=16
set udg_LvlNameNT="|cFFFF3232Зимняя тайга (240% сложность)|r"
set udg_ExpTimerCount=2.30
call CreatePreStart_Function()
endif
elseif b == udg_BackButton then
call DisableTrigger(GetTriggeringTrigger())
call DialogClear(udg_ChooseLvlWindow)
call BackToLvlCategories_Function()
endif
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
set b=null
set pl=null
endfunction
function InitTrig_HardcoreLevelsCategory takes nothing returns nothing
set gg_trg_HardcoreLevelsCategory=CreateTrigger()
call DisableTrigger(gg_trg_HardcoreLevelsCategory)
call TriggerRegisterDialogEvent(gg_trg_HardcoreLevelsCategory, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_HardcoreLevelsCategory, function Trig_HardcoreLevelsCategory_Actions)
endfunction
function Trig_ChallengeLevelsCategory_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
if b == udg_Button[21] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=21
set udg_LvlNameNT="|cFFFF9600Крепость Горгота (220% сложность)|r"
set udg_ExpTimerCount=2.50
call CreatePreStart_Function()
elseif b == udg_Button[22] then
if udg_AllPoints >= 2000000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=22
set udg_LvlNameNT="|cFFFF9600Берег мертвецов (230% сложность)|r"
set udg_ExpTimerCount=2.40
call CreatePreStart_Function()
endif
elseif b == udg_Button[23] then
if udg_AllPoints >= 4000000 then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
set udg_Lvl=23
set udg_LvlNameNT="|cFFFF9600Чёрная гробница (260% сложность)|r"
set udg_ExpTimerCount=2.20
call CreatePreStart_Function()
endif
elseif b == udg_BackButton then
call DisableTrigger(GetTriggeringTrigger())
call DialogClear(udg_ChooseLvlWindow)
call BackToLvlCategories_Function()
endif
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
set b=null
set pl=null
endfunction
function InitTrig_ChallengeLevelsCategory takes nothing returns nothing
set gg_trg_ChallengeLevelsCategory=CreateTrigger()
call DisableTrigger(gg_trg_ChallengeLevelsCategory)
call TriggerRegisterDialogEvent(gg_trg_ChallengeLevelsCategory, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_ChallengeLevelsCategory, function Trig_ChallengeLevelsCategory_Actions)
endfunction
function Trig_PreStart_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
if b == udg_Button[41] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
call TriggerExecute(udg_TriggerLvl[udg_Lvl])
elseif b == udg_Button[42] then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_BackButton then
call DialogClear(udg_ChooseLvlWindow)
call DisableTrigger(GetTriggeringTrigger())
call BackToLvlCategories_Function()
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
endif
set b=null
set pl=null
endfunction
function InitTrig_PreStart takes nothing returns nothing
set gg_trg_PreStart=CreateTrigger()
call DisableTrigger(gg_trg_PreStart)
call TriggerRegisterDialogEvent(gg_trg_PreStart, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_PreStart, function Trig_PreStart_Actions)
endfunction
function Trig_Modifiers_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local button b=GetClickedButton()
call DialogClear(udg_ModeWindow)
call DisableTrigger(GetTriggeringTrigger())
if b == udg_Button[31] then
if udg_Modifiers[1] == true then
set udg_Modifiers[1]=false
else
set udg_Modifiers[1]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[32] then
if udg_Modifiers[2] == true then
set udg_Modifiers[2]=false
else
set udg_Modifiers[2]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[33] then
if udg_Modifiers[3] == true then
set udg_Modifiers[3]=false
else
set udg_Modifiers[3]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[34] then
if udg_Modifiers[4] == true then
set udg_Modifiers[4]=false
else
set udg_Modifiers[4]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[35] then
if udg_Modifiers[5] == true then
set udg_Modifiers[5]=false
else
set udg_Modifiers[5]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[36] then
if udg_Modifiers[6] == true then
set udg_Modifiers[6]=false
else
set udg_Modifiers[6]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[37] then
if udg_Modifiers[7] == true then
set udg_Modifiers[7]=false
else
set udg_Modifiers[7]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[38] then
if udg_Modifiers[8] == true then
set udg_Modifiers[8]=false
else
set udg_Modifiers[8]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[39] then
if udg_Modifiers[9] == true then
set udg_Modifiers[9]=false
else
set udg_Modifiers[9]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_Button[40] then
if udg_Modifiers[10] == true then
set udg_Modifiers[10]=false
else
set udg_Modifiers[10]=true
endif
call Modifiers_Function()
call DialogDisplay(pl, udg_ModeWindow, true)
elseif b == udg_BackButton then
call CreatePreStart_Function()
call DialogDisplay(pl, udg_ChooseLvlWindow, true)
endif
set b=null
set pl=null
endfunction
function InitTrig_Modifiers takes nothing returns nothing
set gg_trg_Modifiers=CreateTrigger()
call DisableTrigger(gg_trg_Modifiers)
call TriggerRegisterDialogEvent(gg_trg_Modifiers, udg_ModeWindow)
call TriggerAddAction(gg_trg_Modifiers, function Trig_Modifiers_Actions)
endfunction
function Trig_PreInfo_Actions takes nothing returns nothing
local player pl=GetLocalPlayer()
local integer L
local integer L2
local group ug
local unit u2
local real x
local real y
call EnableTrigger(gg_trg_RandomHero)
call EnableTrigger(gg_trg_RandomHero_Str)
call EnableTrigger(gg_trg_RandomHero_Agi)
call EnableTrigger(gg_trg_RandomHero_Int)
call DisplayTimedTextToPlayer(pl, 0, 0, 50, "|cFF07EDE6Выбрано поле боя: " + udg_LvlNameNT)
call DisplayTimedTextToPlayer(pl, 0, 0, 50, "|cFF07EDE6Через 50 секунд точки станут доступны для захвата.|r")
if udg_Lvl == 8 then
set L=0
loop
exitwhen L > 7
if GetPlayerController(Player(L)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(L)) == PLAYER_SLOT_STATE_PLAYING then
call SetPlayerAlliance(Player(12), Player(L), ALLIANCE_SHARED_VISION, true)
call FogModifierStart(CreateFogModifierRect(Player(L), FOG_OF_WAR_VISIBLE, gg_rct_PickHero, true, false))
set udg_Income[L + 1]=1
call ForceAddPlayer(udg_PlayersGroup, Player(L))
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD) + 500)
set udg_PlayerExpHandicap[L + 1]=udg_PlayerExpHandicap[L + 1] - 0.20
call SetPlayerHandicapXP(Player(L), udg_PlayerExpHandicap[L + 1])
endif
set L=L + 1
endloop
else
set L=0
loop
exitwhen L > 7
if GetPlayerController(Player(L)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(L)) == PLAYER_SLOT_STATE_PLAYING then
call SetPlayerAlliance(Player(12), Player(L), ALLIANCE_SHARED_VISION, true)
call FogModifierStart(CreateFogModifierRect(Player(L), FOG_OF_WAR_VISIBLE, gg_rct_PickHero, true, false))
set udg_Income[L + 1]=2
call ForceAddPlayer(udg_PlayersGroup, Player(L))
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD) + 500)
endif
set L=L + 1
endloop
endif
call CinematicFilterGenericBJ(3.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0.00, 0.00, 0.00, 0.00, 100.00, 100.00, 100.00, 100.00)
set ug=CreateGroup()
call GroupEnumUnitsInRect(ug, gg_rct_PickHero, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
call PauseUnit(u2, false)
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
if udg_Modifiers[1] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Больше миньонов\" (+25%)|r")
set udg_ModReward=udg_ModReward + 0.25
set udg_SpawnTimerCount[1]=udg_SpawnTimerCount[1] * 0.75
endif
if udg_Modifiers[2] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Усиление героев и боссов\" (+60%)|r")
set udg_ModReward=udg_ModReward + 0.40
else
set T5_Minus=T5_Minus + 2
set T6_Minus=T6_Minus + 3
endif
if udg_Modifiers[4] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Вражеские постройки\" (+25%)|r")
set udg_ModReward=udg_ModReward + 0.25
endif
if udg_Modifiers[5] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Взрывной демонтаж\" (+30%)|r")
set udg_ModReward=udg_ModReward + 0.50
endif
if udg_Modifiers[6] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Паразиты\" (+30%)|r")
set udg_ModReward=udg_ModReward + 0.30
endif
if udg_Modifiers[7] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Вторжение\" (+50%)|r")
set udg_ModReward=udg_ModReward + 0.50
endif
if udg_Modifiers[8] == true and udg_Lvl != 8 then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Бесконечная игра\" (+0%)|r")
endif
if udg_Modifiers[9] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Усиленная элита\" (+75%)|r")
set udg_ModReward=udg_ModReward + 0.75
set udg_SpawnTimerCount[3]=udg_SpawnTimerCount[3] * 0.75
endif
if udg_Modifiers[10] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Ослабление врагов\" (-50%)|r")
set udg_ModReward=udg_ModReward - 0.50
set udg_SpawnTimerCount[1]=udg_SpawnTimerCount[1] * 1.15
set udg_SpawnTimerCount[2]=udg_SpawnTimerCount[2] * 1.15
set udg_SpawnTimerCount[3]=udg_SpawnTimerCount[3] * 1.15
set udg_Gandikap=udg_Gandikap - 0.15
call SetPlayerHandicap(Player(8), udg_Gandikap)
call SetPlayerHandicap(Player(10), udg_Gandikap)
call SetPlayerHandicap(Player(11), udg_Gandikap)
endif
if udg_Modifiers[3] == true and udg_Lvl != 8 then
call DisplayTimedTextToPlayer(pl, 0, 0, 40, "|cFF00C850Модификатор \"Кристалломания\" (+0%)|r")
set L=0
set ug=CreateGroup()
set ug=GetUnitsOfTypeIdAll(0x6E303030)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
set L=L + 1
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set L=L / 5
set ug=CreateGroup()
set ug=GetUnitsOfTypeIdAll(0x6E303030)
set ug=GetRandomSubGroup(L, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
set L2=GetRandomInt(1, 5)
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call GroupRemoveUnit(ug, u2)
call RemoveUnit(u2)
if L2 == 1 then
set u2=CreateUnit(Player(15), 0x6E303332, x, y, 270)
elseif L2 == 2 then
set u2=CreateUnit(Player(15), 0x6E303333, x, y, 270)
elseif L2 == 3 then
set u2=CreateUnit(Player(15), 0x6E303331, x, y, 270)
elseif L2 == 4 then
set u2=CreateUnit(Player(15), 0x6E303354, x, y, 270)
elseif L2 == 5 then
set u2=CreateUnit(Player(15), 0x6E303330, x, y, 270)
endif
call SetUnitInvulnerable(u2, true)
endloop
call DestroyGroup(ug)
set ug=CreateGroup()
set ug=GetUnitsOfTypeIdAll(0x6E303031)
set u2=FirstOfGroup(ug)
set L2=GetRandomInt(1, 5)
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call GroupRemoveUnit(ug, u2)
call RemoveUnit(u2)
if L2 == 1 then
set u2=CreateUnit(Player(15), 0x6E303556, x, y, 270)
elseif L2 == 2 then
set u2=CreateUnit(Player(15), 0x6E303558, x, y, 270)
elseif L2 == 3 then
set u2=CreateUnit(Player(15), 0x6E303557, x, y, 270)
elseif L2 == 4 then
set u2=CreateUnit(Player(15), 0x6E303559, x, y, 270)
elseif L2 == 5 then
set u2=CreateUnit(Player(15), 0x6E30355A, x, y, 270)
endif
call SetUnitInvulnerable(u2, true)
call DestroyGroup(ug)
endif
if udg_ModReward != 1.00 then
set udg_ExpTimerCount=udg_ExpTimerCount - ( ( udg_ModReward - 1.00 ) * 0.20 )
endif
set pl=null
set ug=null
set u2=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_PreInfo takes nothing returns nothing
set gg_trg_PreInfo=CreateTrigger()
call TriggerAddAction(gg_trg_PreInfo, function Trig_PreInfo_Actions)
endfunction
function Trig_Lvl_1_Func015Func001C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_1_Func015A takes nothing returns nothing
if ( Trig_Lvl_1_Func015Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_Lvl_1_Func024A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_1_Func027Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_1_Func027A takes nothing returns nothing
if ( Trig_Lvl_1_Func027Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_1_Func063C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_1_Func075A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_1_Func086A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_1_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 9471.00, 9600.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0002)
call SetUnitOwner(gg_unit_h000_0002, Player(9), true)
call RemoveDestructable(gg_dest_Dofw_1304)
call RemoveDestructable(gg_dest_Dofw_1306)
call RemoveUnit(gg_unit_n068_1123)
call RemoveUnit(gg_unit_n068_1122)
call RemoveUnit(gg_unit_n068_1121)
set udg_ug=GetUnitsInRectAll(gg_rct_DeleteZone23)
call ForGroupBJ(udg_ug, function Trig_Lvl_1_Func015A)
call DestroyGroup(udg_ug)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3311")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_1_Func024A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_1_Func027A)
call DestroyGroup(udg_ug)
set udg_r=( 100.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3313")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 13184.00, 8577.00)
set udg_SpawnPoints[4]=Location(- 10111.00, 5504.00)
set udg_SpawnPoints[5]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[6]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[7]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[8]=Location(- 8832.00, 12929.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303047
set udg_EnemyHeroType[2]=0x5530314D
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3314")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S1)
call EnableTrigger(gg_trg_SS1)
call EnableTrigger(gg_trg_SSS1)
call EnableTrigger(gg_trg_BossDropRune)
call EnableTrigger(gg_trg_RuneActivate1)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_1_Func063C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=200
call PolledWait(240.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(30.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6645")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_1_Func075A)
call PolledWait(240.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(30.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6650")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_1_Func086A)
call PolledWait(240.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(30.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x55303048, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 8)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3327")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_1 takes nothing returns nothing
set gg_trg_Lvl_1=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_1)
call TriggerAddAction(gg_trg_Lvl_1, function Trig_Lvl_1_Actions)
endfunction
function Trig_Lvl_2_Func041A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_2_Func044Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func044A takes nothing returns nothing
if ( Trig_Lvl_2_Func044Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_2_Func075C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func079C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func082C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func085C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func088C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func091A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_2_Func094C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func097C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func100C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func103C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func106A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_2_Func111C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func114C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func117C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func120C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Func123C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_2_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(2303.00, 11008.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0012)
set udg_DefPoint2=GetRectCenter(gg_rct_Lvl2MidUp)
set udg_DefPoint3=GetRectCenter(gg_rct_Lvl2MidDown)
call RemoveDestructable(gg_dest_Dofw_8503)
call RemoveDestructable(gg_dest_Dofw_8492)
call RemoveDestructable(gg_dest_Dofw_8504)
call RemoveUnit(gg_unit_n002_0819)
call RemoveUnit(gg_unit_n003_0864)
call RemoveUnit(gg_unit_n003_0865)
call RemoveUnit(gg_unit_nwgt_0870)
set udg_p=GetUnitLoc(gg_unit_n01U_0097)
call RemoveUnit(gg_unit_n01U_0097)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n01U_0098)
call RemoveUnit(gg_unit_n01U_0098)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n01U_0099)
call RemoveUnit(gg_unit_n01U_0099)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n01U_0108)
call RemoveUnit(gg_unit_n01U_0108)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
call SetUnitOwner(gg_unit_h000_0012, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_2317")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_2_Func041A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_2_Func044A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3459")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303042
set udg_EnemyHeroType[2]=0x5530304A
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3196")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_MidWay2)
call EnableTrigger(gg_trg_S2)
call EnableTrigger(gg_trg_SS2)
call EnableTrigger(gg_trg_SSS2)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_2_Func075C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=300
call PolledWait(280.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func079C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(80.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func082C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func085C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func088C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6646")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_2_Func091A)
call PolledWait(280.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func094C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(80.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func097C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func100C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func103C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6651")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_2_Func106A)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_Event2)
call PolledWait(160.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func111C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func114C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func117C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func120C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Down)
endif
call PolledWait(120.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_2_Func123C() ) then
call CreateNUnitsAtLoc(1, 0x5530304B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call CreateNUnitsAtLoc(1, 0x5530304B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3207")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_2 takes nothing returns nothing
set gg_trg_Lvl_2=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_2)
call TriggerAddAction(gg_trg_Lvl_2, function Trig_Lvl_2_Actions)
endfunction
function Trig_Lvl_3_Func020A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_3_Func023Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_3_Func023A takes nothing returns nothing
if ( Trig_Lvl_3_Func023Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_3_Func054C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_3_Func066A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_3_Func077A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_3_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 8191.00, - 12671.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0100)
call RemoveUnit(gg_unit_n000_0504)
call RemoveUnit(gg_unit_n000_0506)
call RemoveUnit(gg_unit_n000_0511)
call RemoveUnit(gg_unit_n000_0509)
call SetUnitOwner(gg_unit_h000_0100, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_2318")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_3_Func020A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_3_Func023A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4551")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 12854.00, - 10937.00)
set udg_SpawnPoints[2]=Location(- 12854.00, - 13134.00)
set udg_SpawnPoints[3]=Location(- 3505.00, - 10929.00)
set udg_SpawnPoints[4]=Location(- 3505.00, - 13134.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x45303031
set udg_EnemyHeroType[2]=0x4830304D
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_4552")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S3)
call EnableTrigger(gg_trg_SS3)
call EnableTrigger(gg_trg_SSS3)
call EnableTrigger(gg_trg_Event3)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_3_Func054C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=500
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6647")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_3_Func066A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6652")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_3_Func077A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3)
call PolledWait(120.00)
call CreateNUnitsAtLoc(1, 0x4E303230, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 4)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_4565")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_3 takes nothing returns nothing
set gg_trg_Lvl_3=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_3)
call TriggerAddAction(gg_trg_Lvl_3, function Trig_Lvl_3_Actions)
endfunction
function Trig_Lvl_4_Func020A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_4_Func023Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_4_Func023A takes nothing returns nothing
if ( Trig_Lvl_4_Func023Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_4_Func056C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_4_Func065A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_4_Func073A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_4_Func080C takes nothing returns boolean
if ( not ( udg_n == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_4_Func085C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_4_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 10210.00, 338.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 11294.00, - 4206.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0239)
set udg_DefPoint2=GetUnitLoc(gg_unit_h000_0238)
call RemoveUnit(gg_unit_nwgt_0871)
call SetUnitOwner(gg_unit_h000_0238, Player(9), true)
call SetUnitOwner(gg_unit_h000_0239, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_2319")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_4_Func020A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_4_Func023A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_5879")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 9886.00, - 5388.00)
set udg_SpawnPoints[2]=Location(- 9784.00, - 1915.00)
set udg_SpawnPoints[3]=Location(- 8562.00, 308.00)
set udg_SpawnPoints[4]=Location(- 11928.00, 1304.00)
set udg_SpawnPoints[5]=Location(- 11622.00, - 2007.00)
set udg_SpawnPoints[6]=Location(- 12975.00, - 4100.00)
set udg_EnemyHeroType[1]=0x45303039
set udg_EnemyHeroType[2]=0x48303057
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint2, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5880")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S4)
call EnableTrigger(gg_trg_SS4)
call EnableTrigger(gg_trg_SSS4)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_4_Func056C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=750
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(40.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6648")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_4_Func065A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(40.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6653")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_4_Func073A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_CreateHero4)
call PolledWait(120.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_4_Func080C() ) then
set udg_n=4
else
endif
call CreateNUnitsAtLoc(1, 0x55303052, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
if ( Trig_Lvl_4_Func085C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5893")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_4 takes nothing returns nothing
set gg_trg_Lvl_4=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_4)
call TriggerAddAction(gg_trg_Lvl_4, function Trig_Lvl_4_Actions)
endfunction
function Trig_Lvl_5_Func017A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_5_Func020Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_5_Func020A takes nothing returns nothing
if ( Trig_Lvl_5_Func020Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_5_Func060C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_5_Func072A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_5_Func101A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_5_Func112A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_5_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 256.00, 1214.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0240)
set udg_DefPoint2=GetUnitLoc(gg_unit_h01X_0342)
call SetUnitOwner(gg_unit_h000_0240, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3325")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_5_Func017A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_5_Func020A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_6607")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 3138.00, 3475.00)
set udg_SpawnPoints[2]=Location(2623.00, 3475.00)
set udg_SpawnPoints[3]=Location(- 3343.00, - 1012.00)
set udg_SpawnPoints[4]=Location(2832.00, - 1012.00)
set udg_SpawnPoints[5]=Location(- 3341.00, 6029.00)
set udg_SpawnPoints[6]=Location(2821.00, 6029.00)
set udg_SpawnPoints[7]=Location(- 3394.00, 1592.00)
set udg_SpawnPoints[8]=Location(2898.00, 1592.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303047
set udg_EnemyHeroType[2]=0x5530314D
set udg_EnemyHeroType[3]=0x55303042
set udg_EnemyHeroType[4]=0x5530304A
set udg_EnemyHeroType[5]=0x45303031
set udg_EnemyHeroType[6]=0x4830304D
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6608")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S5)
call EnableTrigger(gg_trg_SS5)
call EnableTrigger(gg_trg_SSS5)
call EnableTrigger(gg_trg_Cube5)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_5_Func060C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=1250
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6649")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_5_Func072A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x55303048, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6621")
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(50.00)
call CreateNUnitsAtLoc(1, 0x55303048, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6623")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6654")
set udg_WaveFase=3
call ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg3_1670)
call ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg3_1671)
call ForForce(GetPlayersAll(), function Trig_Lvl_5_Func101A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6655")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_5_Func112A)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x5530304B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 10)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 10)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 10)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6631")
call PolledWait(100.00)
call CreateNUnitsAtLoc(1, 0x55303041, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 4)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6628")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_5 takes nothing returns nothing
set gg_trg_Lvl_5=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_5)
call TriggerAddAction(gg_trg_Lvl_5, function Trig_Lvl_5_Actions)
endfunction
function Trig_Lvl_6_Func016A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_6_Func019Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_6_Func019A takes nothing returns nothing
if ( Trig_Lvl_6_Func019Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_6_Func048C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_6_Func060A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_6_Func076A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_6_Func087A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_6_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(1543.00, - 4314.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0378)
call SetUnitOwner(gg_unit_h000_0378, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3326")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_6_Func016A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_6_Func019A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_8335")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(434.00, - 10935.00)
set udg_SpawnPoints[2]=Location(- 1605.00, - 7126.00)
set udg_SpawnPoints[3]=Location(- 6078.00, - 7325.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x48303151
set udg_EnemyHeroType[2]=0x4E303252
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8336")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S6)
call EnableTrigger(gg_trg_SS6)
call EnableTrigger(gg_trg_SSS6)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_6_Func048C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=2000
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8353")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_6_Func060A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call CreateNUnitsAtLoc(1, 0x4E303648, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 3)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8357")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8358")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_6_Func076A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8363")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_6_Func087A)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x55303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 3)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8366")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_6 takes nothing returns nothing
set gg_trg_Lvl_6=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_6)
call TriggerAddAction(gg_trg_Lvl_6, function Trig_Lvl_6_Actions)
endfunction
function Trig_Lvl_7_Func018A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_7_Func021Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_7_Func021A takes nothing returns nothing
if ( Trig_Lvl_7_Func021Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_7_Func052C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_7_Func064A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_7_Func090A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_7_Func108A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_7_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(7409.00, 1147.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0387)
set udg_DefPoint2=GetUnitLoc(gg_unit_h000_0438)
call SetUnitOwner(gg_unit_h000_0387, Player(9), true)
call SetUnitOwner(gg_unit_h000_0438, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4227")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_7_Func018A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_7_Func021A)
call DestroyGroup(udg_ug)
set udg_r=( 100.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_9252")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(5394.00, 5642.00)
set udg_SpawnPoints[2]=Location(5394.00, - 3440.00)
set udg_SpawnPoints[3]=Location(9507.00, 5762.00)
set udg_SpawnPoints[4]=Location(9492.00, - 3217.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x4E303335
set udg_EnemyHeroType[2]=0x45303055
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9253")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S7)
call EnableTrigger(gg_trg_SS7)
call EnableTrigger(gg_trg_SSS7)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_7_Func052C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=2750
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9254")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_7_Func064A)
call PolledWait(140.00)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call PolledWait(140.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call CreateNUnitsAtLoc(1, 0x4E303230, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 12)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 10)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 8)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9255")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9256")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_7_Func090A)
call PolledWait(140.00)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call PolledWait(140.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9257")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_7_Func108A)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero7)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x55303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9258")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_7 takes nothing returns nothing
set gg_trg_Lvl_7=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_7)
call TriggerAddAction(gg_trg_Lvl_7, function Trig_Lvl_7_Actions)
endfunction
function Trig_Lvl_8_Func014002003001 takes nothing returns boolean
return ( GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endfunction
function Trig_Lvl_8_Func014002003002 takes nothing returns boolean
return ( GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction
function Trig_Lvl_8_Func014002003 takes nothing returns boolean
return GetBooleanOr(Trig_Lvl_8_Func014002003001(), Trig_Lvl_8_Func014002003002())
endfunction
function Trig_Lvl_8_Func015A takes nothing returns nothing
call ShowUnit(GetEnumUnit(), false)
endfunction
function Trig_Lvl_8_Func017002003001 takes nothing returns boolean
return ( GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endfunction
function Trig_Lvl_8_Func017002003002 takes nothing returns boolean
return ( GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction
function Trig_Lvl_8_Func017002003 takes nothing returns boolean
return GetBooleanOr(Trig_Lvl_8_Func017002003001(), Trig_Lvl_8_Func017002003002())
endfunction
function Trig_Lvl_8_Func018A takes nothing returns nothing
call ShowUnit(GetEnumUnit(), false)
endfunction
function Trig_Lvl_8_Func041A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_8_Func044Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303435 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_8_Func044A takes nothing returns nothing
if ( Trig_Lvl_8_Func044Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_8_Func076C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_8_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(12223.00, - 12649.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_Tron=gg_unit_h000_0592
set udg_DefPoint=GetUnitLoc(udg_Tron)
call SetUnitOwner(gg_unit_h000_0592, Player(9), true)
call SetUnitOwner(gg_unit_h000_0591, Player(9), true)
call SetUnitOwner(gg_unit_h000_0593, Player(9), true)
call ShowUnitHide(gg_unit_h000_0591)
call ShowUnitHide(gg_unit_h000_0593)
set udg_ug=GetUnitsInRangeOfLocMatching(2000.00, Location(12445.00, - 4316.00), Condition(function Trig_Lvl_8_Func014002003))
call ForGroupBJ(udg_ug, function Trig_Lvl_8_Func015A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsInRangeOfLocMatching(2500.00, Location(6434.00, - 6393.00), Condition(function Trig_Lvl_8_Func017002003))
call ForGroupBJ(udg_ug, function Trig_Lvl_8_Func018A)
call DestroyGroup(udg_ug)
call ShowUnit(gg_unit_n000_0625, false)
call ShowUnit(gg_unit_n000_0635, false)
call ShowUnit(gg_unit_n001_0637, false)
call ShowUnit(gg_unit_n002_0638, false)
call ShowUnit(gg_unit_n068_0681, false)
call ShowUnit(gg_unit_n068_0682, false)
call ShowUnit(gg_unit_n002_0683, false)
call ShowUnit(gg_unit_n002_0684, false)
call ShowUnit(gg_unit_n000_0695, false)
call ShowUnit(gg_unit_n000_0697, false)
call ShowUnit(gg_unit_n002_0693, false)
call ShowUnit(gg_unit_n000_0694, false)
call ShowUnit(gg_unit_n000_0680, false)
call SetTerrainFogExBJ(0, 1000, 12000.00, 0.08, 100, 100, 100)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4228")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_8_Func041A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_8_Func044A)
call DestroyGroup(udg_ug)
set udg_MaxWave=15
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, ( "Волна [1/" + ( I2S(udg_MaxWave) + "]" ) ))
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(9380.00, - 13680.00)
set udg_SpawnPoints[2]=Location(9096.00, - 10680.00)
set udg_SpawnPoints[3]=Location(9852.00, - 9189.00)
set udg_SpawnPoints[4]=Location(13749.00, - 6645.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
call PolledWait(udg_r)
set udg_WaveFase=1
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_WaveFase) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S8)
call EnableTrigger(gg_trg_SS8)
call EnableTrigger(gg_trg_SSS8)
call EnableTrigger(gg_trg_Event8)
call EnableTrigger(gg_trg_EndWaveTimer)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call DestroyTrigger(gg_trg_ExtraEnemyHero)
call EnableTrigger(gg_trg_ExtraEnemyHero_8_lvl)
set udg_SpawnTimerCount[2]=( udg_SpawnTimerCount[2] * 0.90 )
set udg_SpawnTimerCount[3]=( udg_SpawnTimerCount[3] * 0.80 )
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
if ( Trig_Lvl_8_Func076C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=50
set udg_Lvl=1
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x55303047
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x5530314D
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
endfunction
function InitTrig_Lvl_8 takes nothing returns nothing
set gg_trg_Lvl_8=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_8)
call TriggerAddAction(gg_trg_Lvl_8, function Trig_Lvl_8_Actions)
endfunction
function Trig_Lvl_9_Func051A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_9_Func054Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_9_Func054A takes nothing returns nothing
if ( Trig_Lvl_9_Func054Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_9_Func085C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_9_Func097A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_9_Func111A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_9_Func127A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_9_Func136A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_Lvl_9_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(16710.00, 3485.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0716)
call SetUnitOwner(gg_unit_h000_0716, Player(9), true)
call RemoveUnit(gg_unit_n000_1026)
call RemoveUnit(gg_unit_n002_1028)
call RemoveUnit(gg_unit_n031_1027)
call RemoveUnit(gg_unit_n000_1029)
call RemoveUnit(gg_unit_n002_1030)
call RemoveUnit(gg_unit_n003_1031)
call RemoveUnit(gg_unit_n001_1032)
call RemoveUnit(gg_unit_n000_1033)
call RemoveUnit(gg_unit_n003_1034)
call RemoveUnit(gg_unit_n001_1035)
call RemoveUnit(gg_unit_n000_1036)
call RemoveUnit(gg_unit_n031_1037)
call RemoveUnit(gg_unit_n001_1038)
call RemoveUnit(gg_unit_n001_1039)
call RemoveUnit(gg_unit_n000_1041)
call RemoveUnit(gg_unit_n000_1040)
call RemoveUnit(gg_unit_n002_1042)
call RemoveUnit(gg_unit_n001_1043)
call RemoveUnit(gg_unit_n01U_1044)
call RemoveUnit(gg_unit_n003_1045)
call RemoveUnit(gg_unit_n030_1047)
call RemoveUnit(gg_unit_n031_1046)
call RemoveUnit(gg_unit_n002_1048)
call RemoveUnit(gg_unit_n000_1049)
call RemoveUnit(gg_unit_n000_1050)
call RemoveUnit(gg_unit_n000_1051)
call RemoveUnit(gg_unit_n000_1052)
call RemoveUnit(gg_unit_n000_1053)
call RemoveUnit(gg_unit_n031_1054)
call RemoveUnit(gg_unit_n030_1055)
call RemoveUnit(gg_unit_n031_1056)
call RemoveUnit(gg_unit_n000_1057)
call AddWeatherEffectSaveLast(gg_rct_Zone9, 0x52416C72)
call EnableWeatherEffect(GetLastCreatedWeatherEffect(), true)
call SetTerrainFogExBJ(0, 1000, 12000.00, 0.04, 20.00, 20.00, 100)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_7407")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_9_Func051A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_9_Func054A)
call DestroyGroup(udg_ug)
set udg_r=( 110.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_7408")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(15746.00, - 3728.00)
set udg_SpawnPoints[2]=Location(15034.00, 62.00)
set udg_SpawnPoints[3]=Location(12222.00, 1723.00)
set udg_SpawnPoints[4]=Location(13118.00, 6972.00)
set udg_SpawnPoints[5]=Location(15418.00, 9027.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7409")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S9)
call EnableTrigger(gg_trg_SS9)
call EnableTrigger(gg_trg_SSS9)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_9_Func085C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=7500
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7410")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_9_Func097A)
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x48303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 8, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2935")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7412")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_9_Func111A)
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(40.00)
call CreateNUnitsAtLoc(1, 0x48303344, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7516")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7413")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_9_Func127A)
call PolledWait(100.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7512")
set udg_WaveFase=5
call ForForce(GetPlayersAll(), function Trig_Lvl_9_Func136A)
call PolledWait(100.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero9)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x48303343, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call EnableTrigger(gg_trg_SkillBoss9)
call EnableTrigger(gg_trg_SkillBoss9_dmg)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7514")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_9 takes nothing returns nothing
set gg_trg_Lvl_9=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_9)
call TriggerAddAction(gg_trg_Lvl_9, function Trig_Lvl_9_Actions)
endfunction
function Trig_Lvl_11_Func012Func001C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_11_Func012A takes nothing returns nothing
if ( Trig_Lvl_11_Func012Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_Lvl_11_Func021A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_11_Func024Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_11_Func024A takes nothing returns nothing
if ( Trig_Lvl_11_Func024Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_11_Func060C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_11_Func072A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_11_Func083A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_11_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 9471.00, 9600.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0002)
call SetUnitOwner(gg_unit_h000_0002, Player(9), true)
call RemoveDestructable(gg_dest_Dofw_1304)
call RemoveDestructable(gg_dest_Dofw_1306)
set udg_ug=GetUnitsInRectAll(gg_rct_DeleteZone23)
call ForGroupBJ(udg_ug, function Trig_Lvl_11_Func012A)
call DestroyGroup(udg_ug)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4229")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_11_Func021A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_11_Func024A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_7608")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 13184.00, 8577.00)
set udg_SpawnPoints[4]=Location(- 10111.00, 5504.00)
set udg_SpawnPoints[5]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[6]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[7]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[8]=Location(- 8832.00, 12929.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x48303157
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7609")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_Hard_S1)
call EnableTrigger(gg_trg_Hard_SS1)
call EnableTrigger(gg_trg_Hard_SSS1)
call EnableTrigger(gg_trg_BossDropRune)
call EnableTrigger(gg_trg_RuneActivate1)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_11_Func060C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=1250
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7614")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_11_Func072A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7619")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_11_Func083A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
call PolledWait(120.00)
call CreateNUnitsAtLoc(1, 0x5530304E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 8)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7624")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_11 takes nothing returns nothing
set gg_trg_Lvl_11=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_11)
call TriggerAddAction(gg_trg_Lvl_11, function Trig_Lvl_11_Actions)
endfunction
function Trig_Lvl_12_Func029A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_12_Func032Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func032A takes nothing returns nothing
if ( Trig_Lvl_12_Func032Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_12_Func063C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func067C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func070C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func073C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func076C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func079A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_12_Func082C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func085C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func088C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func091C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func094A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_12_Func099C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func102C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func105C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func108C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Func111C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_12_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(2303.00, 11008.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0012)
set udg_DefPoint2=GetRectCenter(gg_rct_Lvl2MidUp)
set udg_DefPoint3=GetRectCenter(gg_rct_Lvl2MidDown)
call RemoveDestructable(gg_dest_Dofw_8503)
call RemoveDestructable(gg_dest_Dofw_8492)
call RemoveDestructable(gg_dest_Dofw_8504)
call RemoveUnit(gg_unit_n002_0819)
call RemoveUnit(gg_unit_n003_0864)
call RemoveUnit(gg_unit_n003_0865)
call RemoveUnit(gg_unit_nwgt_0870)
call RemoveUnit(gg_unit_n000_0364)
call RemoveUnit(gg_unit_n000_0365)
call RemoveUnit(gg_unit_n000_0376)
call RemoveUnit(gg_unit_n000_0377)
call SetUnitOwner(gg_unit_h000_0012, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4230")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_12_Func029A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_12_Func032A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_7966")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7967")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_MidWay2)
call EnableTrigger(gg_trg_Hard_S2)
call EnableTrigger(gg_trg_Hard_SS2)
call EnableTrigger(gg_trg_Hard_SSS2)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_12_Func063C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=2500
call PolledWait(280.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func067C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(80.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func070C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func073C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func076C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7972")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_12_Func079A)
call PolledWait(280.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func082C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(80.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func085C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func088C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func091C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7977")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_12_Func094A)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_Hard_Event2)
call PolledWait(160.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func099C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func102C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func105C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(40.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func108C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Down)
endif
call PolledWait(120.00)
set udg_n=GetRandomInt(1, 2)
if ( Trig_Lvl_12_Func111C() ) then
call CreateNUnitsAtLoc(1, 0x48303230, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call CreateNUnitsAtLoc(1, 0x48303230, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7982")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_12 takes nothing returns nothing
set gg_trg_Lvl_12=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_12)
call TriggerAddAction(gg_trg_Lvl_12, function Trig_Lvl_12_Actions)
endfunction
function Trig_Lvl_13_Func060A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_13_Func063Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_13_Func063A takes nothing returns nothing
if ( Trig_Lvl_13_Func063Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_13_Func094C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_13_Func106A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_13_Func117A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_13_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 8191.00, - 12671.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0100)
set udg_p=GetUnitLoc(gg_unit_n000_0206)
call RemoveUnit(gg_unit_n000_0206)
call CreateNUnitsAtLoc(1, 0x6E303155, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n000_0207)
call RemoveUnit(gg_unit_n000_0207)
call CreateNUnitsAtLoc(1, 0x6E303155, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n01U_0115)
call RemoveUnit(gg_unit_n01U_0115)
call CreateNUnitsAtLoc(1, 0x6E303033, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n01U_0161)
call RemoveUnit(gg_unit_n01U_0161)
call CreateNUnitsAtLoc(1, 0x6E303033, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n003_0162)
call RemoveUnit(gg_unit_n003_0162)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n003_0163)
call RemoveUnit(gg_unit_n003_0163)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n003_0171)
call RemoveUnit(gg_unit_n003_0171)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n003_0172)
call RemoveUnit(gg_unit_n003_0172)
call CreateNUnitsAtLoc(1, 0x6E303030, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n000_0227)
call RemoveUnit(gg_unit_n000_0227)
call CreateNUnitsAtLoc(1, 0x68303141, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n000_0228)
call RemoveUnit(gg_unit_n000_0228)
call CreateNUnitsAtLoc(1, 0x6E30304B, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
set udg_p=GetUnitLoc(gg_unit_n000_0229)
call RemoveUnit(gg_unit_n000_0229)
call CreateNUnitsAtLoc(1, 0x6E30304B, Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_p, bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(), true)
call SetUnitOwner(gg_unit_h000_0100, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4231")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_13_Func060A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_13_Func063A)
call DestroyGroup(udg_ug)
set udg_r=( 80.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_124")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 12854.00, - 10937.00)
set udg_SpawnPoints[2]=Location(- 12854.00, - 13134.00)
set udg_SpawnPoints[3]=Location(- 3505.00, - 10929.00)
set udg_SpawnPoints[4]=Location(- 3505.00, - 13134.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_125")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_Hard_S3)
call EnableTrigger(gg_trg_Hard_SS3)
call EnableTrigger(gg_trg_Hard_SSS3)
call EnableTrigger(gg_trg_Hard_Event3)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_13_Func094C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=3500
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_126")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_13_Func106A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_129")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_13_Func117A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
call PolledWait(120.00)
call CreateNUnitsAtLoc(1, 0x55303138, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 4)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call EnableTrigger(gg_trg_SkillBoss3_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_130")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_13 takes nothing returns nothing
set gg_trg_Lvl_13=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_13)
call TriggerAddAction(gg_trg_Lvl_13, function Trig_Lvl_13_Actions)
endfunction
function Trig_Lvl_15_Func018A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_15_Func021Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_15_Func021A takes nothing returns nothing
if ( Trig_Lvl_15_Func021Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_15_Func060C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_15_Func072A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_15_Func101A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_15_Func112A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_15_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 256.00, 1214.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0240)
set udg_DefPoint2=GetUnitLoc(gg_unit_h01X_0342)
call SetUnitOwner(gg_unit_h000_0240, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_4232")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_15_Func018A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_15_Func021A)
call DestroyGroup(udg_ug)
set udg_r=( 100.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_1525")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 3138.00, 3475.00)
set udg_SpawnPoints[2]=Location(2623.00, 3475.00)
set udg_SpawnPoints[3]=Location(- 3343.00, - 1012.00)
set udg_SpawnPoints[4]=Location(2832.00, - 1012.00)
set udg_SpawnPoints[5]=Location(- 3341.00, 6029.00)
set udg_SpawnPoints[6]=Location(2821.00, 6029.00)
set udg_SpawnPoints[7]=Location(- 3394.00, 1592.00)
set udg_SpawnPoints[8]=Location(2898.00, 1592.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x55303057
set udg_EnemyHeroType[3]=0x4830315A
set udg_EnemyHeroType[4]=0x55303132
set udg_EnemyHeroType[5]=0x48303238
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2107")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_Hard_S5)
call EnableTrigger(gg_trg_Hard_SS5)
call EnableTrigger(gg_trg_Hard_SSS5)
call EnableTrigger(gg_trg_Cube5)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_15_Func060C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=5000
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2111")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_15_Func072A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x5530304E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 25)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2130")
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(50.00)
call CreateNUnitsAtLoc(1, 0x5530304E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 25)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2131")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2137")
set udg_WaveFase=3
call ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg3_1670)
call ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg3_1671)
call ForForce(GetPlayersAll(), function Trig_Lvl_15_Func101A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2159")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_15_Func112A)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x48303230, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(5, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 15)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 20)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2289")
call PolledWait(100.00)
call CreateNUnitsAtLoc(1, 0x4E303357, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 4)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_2940")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_15 takes nothing returns nothing
set gg_trg_Lvl_15=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_15)
call TriggerRegisterDialogEventBJ(gg_trg_Lvl_15, udg_ChooseLvlWindow)
call TriggerAddAction(gg_trg_Lvl_15, function Trig_Lvl_15_Actions)
endfunction
function Trig_Lvl_16_Func016A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_16_Func019Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_16_Func019A takes nothing returns nothing
if ( Trig_Lvl_16_Func019Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_16_Func043A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Lvl_16_Func049C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_16_Func061A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_16_Func077A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_16_Func088A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_16_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(20728.00, - 10508.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_1101)
call SetUnitOwner(gg_unit_h000_1101, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_1922")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_16_Func016A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_16_Func019A)
call DestroyGroup(udg_ug)
set udg_r=( 90.00 + I2R(( 6 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_3130")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(14758.00, - 6815.00)
set udg_SpawnPoints[2]=Location(16415.00, - 12317.00)
set udg_SpawnPoints[3]=Location(23767.00, - 7637.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x4830334E
set udg_EnemyHeroType[2]=0x4E303632
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5518")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_Hard_S6)
call EnableTrigger(gg_trg_Hard_SS6)
call EnableTrigger(gg_trg_Hard_SSS6)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call ForForce(udg_AI, function Trig_Lvl_16_Func043A)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 90.00)
if ( Trig_Lvl_16_Func049C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=9000
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5524")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_16_Func061A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call CreateNUnitsAtLoc(1, 0x4E303633, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 3)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5554")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5652")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_16_Func077A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_6245")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_16_Func088A)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
call PolledWait(80.00)
call CreateNUnitsAtLoc(1, 0x55303149, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 3)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7532")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_16 takes nothing returns nothing
set gg_trg_Lvl_16=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_16)
call TriggerAddAction(gg_trg_Lvl_16, function Trig_Lvl_16_Actions)
endfunction
function Trig_Lvl_21_Func010A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303137, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_21_Func063A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_21_Func066Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_21_Func066A takes nothing returns nothing
if ( Trig_Lvl_21_Func066Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_21_Func094C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_21_Func108A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_21_Func120A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_21_Func130A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_21_Func138A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_Lvl_21_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(2303.00, 11008.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0012)
set udg_DefPoint2=GetRectCenter(gg_rct_Lvl2MidUp)
set udg_DefPoint3=GetRectCenter(gg_rct_Lvl2MidDown)
call ForForce(GetPlayersAll(), function Trig_Lvl_21_Func010A)
call CreateTextTagLocBJ("TRIGSTR_5877", udg_DefPoint, 0, 10, 100, 100, 100, 0)
call RemoveUnit(gg_unit_h000_0238)
call RemoveUnit(gg_unit_h000_0239)
call RemoveUnit(gg_unit_n003_0121)
call RemoveUnit(gg_unit_n003_0122)
call RemoveUnit(gg_unit_n01U_0099)
call RemoveUnit(gg_unit_n000_0365)
call RemoveUnit(gg_unit_n000_0127)
call RemoveUnit(gg_unit_n000_0112)
call RemoveUnit(gg_unit_n01U_0097)
call RemoveUnit(gg_unit_n000_0376)
call RemoveUnit(gg_unit_n000_0128)
call RemoveUnit(gg_unit_n000_0124)
call RemoveUnit(gg_unit_n000_0123)
call RemoveUnit(gg_unit_n000_0109)
call RemoveUnit(gg_unit_n000_0364)
call RemoveUnit(gg_unit_n000_0377)
call RemoveUnit(gg_unit_n068_0306)
call RemoveUnit(gg_unit_n068_0316)
call RemoveUnit(gg_unit_n002_0768)
call RemoveUnit(gg_unit_n002_0140)
call RemoveUnit(gg_unit_n068_0157)
call RemoveUnit(gg_unit_n001_0137)
call RemoveUnit(gg_unit_n001_0132)
call RemoveUnit(gg_unit_n000_0148)
call RemoveUnit(gg_unit_n000_0155)
call RemoveUnit(gg_unit_n000_0581)
call RemoveUnit(gg_unit_n000_0147)
call RemoveUnit(gg_unit_n000_0765)
call RemoveUnit(gg_unit_n003_0144)
call RemoveUnit(gg_unit_n001_0131)
call RemoveUnit(gg_unit_n001_0138)
call RemoveUnit(gg_unit_n000_0146)
call RemoveUnit(gg_unit_n000_0582)
call RemoveUnit(gg_unit_n000_0156)
call RemoveUnit(gg_unit_n000_0145)
call RemoveUnit(gg_unit_n002_0139)
call RemoveUnit(gg_unit_n068_0158)
call RemoveUnit(gg_unit_n001_0198)
call RemoveUnit(gg_unit_n002_0119)
call RemoveUnit(gg_unit_n000_0584)
call RemoveUnit(gg_unit_n000_0583)
call RemoveUnit(gg_unit_n003_0143)
call RemoveUnit(gg_unit_n000_0766)
call SetUnitOwner(gg_unit_h000_0012, Player(9), true)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_440")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_21_Func063A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_21_Func066A)
call DestroyGroup(udg_ug)
set udg_r=( 85.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_785")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(7166.00, 12222.00)
set udg_SpawnPoints[2]=Location(7031.00, 9184.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_1021")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_MidWay2)
call EnableTrigger(gg_trg_S21)
call EnableTrigger(gg_trg_SS21)
call EnableTrigger(gg_trg_SSS21)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
set udg_SpawnTimerCount[1]=( udg_SpawnTimerCount[1] * 1.10 )
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_21_Func094C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=7500
call PolledWait(310.00)
set udg_EnemyHeroType[1]=0x55303054
call ConditionalTriggerExecute(gg_trg_CreateHeroDuo21)
call PolledWait(85.00)
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5667")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_21_Func108A)
call PolledWait(300.00)
set udg_EnemyHeroType[1]=0x48303157
call ConditionalTriggerExecute(gg_trg_CreateHeroDuo21)
call PolledWait(80.00)
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5715")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_21_Func120A)
call PolledWait(300.00)
set udg_EnemyHeroType[1]=0x55303041
call ConditionalTriggerExecute(gg_trg_CreateHeroDuo21)
call PolledWait(140.00)
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9807")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_21_Func130A)
call PolledWait(120.00)
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call PolledWait(65.00)
set udg_EnemyHeroType[1]=0x5530304B
call ConditionalTriggerExecute(gg_trg_CreateHeroDuo21)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9808")
set udg_WaveFase=5
call ForForce(GetPlayersAll(), function Trig_Lvl_21_Func138A)
call PolledWait(140.00)
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
call ConditionalTriggerExecute(gg_trg_CreateHero21)
call PolledWait(60.00)
call CreateNUnitsAtLoc(1, 0x4E303542, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9824")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_21 takes nothing returns nothing
set gg_trg_Lvl_21=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_21)
call TriggerAddAction(gg_trg_Lvl_21, function Trig_Lvl_21_Actions)
endfunction
function Trig_Lvl_22_Func020A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_22_Func023Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_22_Func023A takes nothing returns nothing
if ( Trig_Lvl_22_Func023Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_22_Func052A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_22_Func066C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_22_Func078A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_22_Func092A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_22_Func108A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_Lvl_22_Func117A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 5, GetEnumPlayer())
endfunction
function Trig_Lvl_22_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(16710.00, 3485.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0716)
call SetUnitOwner(gg_unit_h000_0716, Player(9), true)
call CreateTextTagLocBJ("TRIGSTR_322", udg_DefPoint, 0, 10, 100, 100, 100, 0)
call AddWeatherEffectSaveLast(gg_rct_Zone9, 0x52416C72)
call EnableWeatherEffect(GetLastCreatedWeatherEffect(), true)
call SetTerrainFogExBJ(0, 1000, 12000.00, 0.04, 20.00, 20.00, 100)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_10899")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_22_Func020A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_22_Func023A)
call DestroyGroup(udg_ug)
set udg_r=( 300.00 + I2R(( 12 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_10900")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(15746.00, - 3728.00)
set udg_SpawnPoints[2]=Location(15034.00, 62.00)
set udg_SpawnPoints[3]=Location(12222.00, 1723.00)
set udg_SpawnPoints[4]=Location(13118.00, 6972.00)
set udg_SpawnPoints[5]=Location(15418.00, 9027.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
set udg_EnemyHeroType[3]=0x48303157
set udg_EnemyHeroType[4]=0x5530304A
set udg_EnemyHeroType[5]=0x55303042
set udg_EnemyHeroType[6]=0x55303054
set udg_EnemyHeroType[7]=0x45303031
set udg_EnemyHeroType[8]=0x4830304D
set udg_EnemyHeroType[9]=0x48303151
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10901")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10910")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_22_Func052A)
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S22)
call EnableTrigger(gg_trg_SS22)
call EnableTrigger(gg_trg_SSS22)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
set udg_SpawnTimerCount[1]=( udg_SpawnTimerCount[1] * 0.90 )
set udg_SpawnTimerCount[2]=( udg_SpawnTimerCount[2] * 0.90 )
set udg_SpawnTimerCount[3]=( udg_SpawnTimerCount[3] * 0.90 )
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_22_Func066C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=8500
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10902")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_22_Func078A)
call PolledWait(300.00)
call CreateNUnitsAtLoc(1, 0x55303148, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10912")
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10904")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_22_Func092A)
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(40.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(40.00)
call CreateNUnitsAtLoc(1, 0x55303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10905")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10906")
set udg_WaveFase=5
call ForForce(GetPlayersAll(), function Trig_Lvl_22_Func108A)
call PolledWait(100.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10908")
set udg_WaveFase=6
call ForForce(GetPlayersAll(), function Trig_Lvl_22_Func117A)
call PolledWait(70.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22_extra)
call PolledWait(70.00)
call ConditionalTriggerExecute(gg_trg_CreateHero22)
call PolledWait(60.00)
call CreateNUnitsAtLoc(1, 0x48303358, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 5)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10909")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_22 takes nothing returns nothing
set gg_trg_Lvl_22=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_22)
call TriggerAddAction(gg_trg_Lvl_22, function Trig_Lvl_22_Actions)
endfunction
function Trig_Lvl_23_Func014Func001C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_23_Func014A takes nothing returns nothing
if ( Trig_Lvl_23_Func014Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_Lvl_23_Func029A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction
function Trig_Lvl_23_Func032Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x68303052 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6E303147 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304C ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetEnumUnit()) != 0x6F30304B ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_23_Func032A takes nothing returns nothing
if ( Trig_Lvl_23_Func032Func001C() ) then
call SetUnitInvulnerable(GetEnumUnit(), false)
else
endif
endfunction
function Trig_Lvl_23_Func068C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Lvl_23_Func078A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func079A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func093A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func094A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func100A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func101A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func124A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_Lvl_23_Func125A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Lvl_23_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_PreInfo)
call ConditionalTriggerExecute(gg_trg_ClearUnusedLevels)
set udg_p=GetRectCenter(gg_rct_PickHero)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PanCameraToTimedLocForPlayer(ConvertedPlayer(GetForLoopIndexA()), udg_p, 0)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnHeroPoint[GetForLoopIndexA()]=Location(- 9471.00, 9600.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_DefPoint=GetUnitLoc(gg_unit_h000_0002)
call SetUnitOwner(gg_unit_h000_0002, Player(9), true)
call CreateTextTagLocBJ("TRIGSTR_8861", udg_DefPoint, 0, 10, 100, 100, 100, 0)
call AddWeatherEffectSaveLast(gg_rct_Zone1, 0x4C526D61)
call EnableWeatherEffect(GetLastCreatedWeatherEffect(), true)
call SetTerrainFogExBJ(0, 1000, 12000.00, 0.10, 0.00, 0.00, 0.00)
set udg_ug=GetUnitsInRectAll(gg_rct_DeleteZone23)
call ForGroupBJ(udg_ug, function Trig_Lvl_23_Func014A)
call DestroyGroup(udg_ug)
call RemoveUnit(gg_unit_n000_0076)
call RemoveUnit(gg_unit_n000_0071)
call RemoveUnit(gg_unit_n000_0066)
call RemoveUnit(gg_unit_n068_1093)
call RemoveUnit(gg_unit_n068_0084)
call RemoveUnit(gg_unit_n068_0087)
call StartTimerBJ(udg_EventTimer, false, 50.00)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_7905")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
call PolledWait(50.00)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_23_Func029A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE))
call ForGroupBJ(udg_ug, function Trig_Lvl_23_Func032A)
call DestroyGroup(udg_ug)
call CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE), 0x6E303332, GetRectCenter(gg_rct_Event_3), 270.00)
call CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE), 0x6E303333, GetRectCenter(gg_rct_Event_4), 270.00)
call CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE), 0x6E303331, GetRectCenter(gg_rct_Event_1), 270.00)
call CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE), 0x6E303330, GetRectCenter(gg_rct_Event_2), 270.00)
set udg_r=( 100.00 + I2R(( 5 * ( 8 - udg_PlayersCount ) )) )
call DisplayTimedTextToForce(GetPlayersAll(), 40.00, ( "|cFF07EDE6Через " + ( I2S(R2I(udg_r)) + " секунд начнется атака, точки стали доступны для захвата." ) ))
call StartTimerBJ(udg_EventTimer, false, udg_r)
call CreateTimerDialogBJ(udg_EventTimer, "TRIGSTR_8189")
set udg_EventTimerWindow=GetLastCreatedTimerDialogBJ()
call TimerDialogDisplayBJ(true, udg_EventTimerWindow)
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[4]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[5]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[6]=Location(- 8832.00, 12929.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_SpawnPoints[GetForLoopIndexA()], udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PingMinimapLocForForceEx(GetPlayersAll(), udg_DefPoint, udg_r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
set udg_EnemyHeroType[1]=0x55646561
set udg_EnemyHeroType[2]=0x556C6963
call PolledWait(udg_r)
call DestroyTimerDialogBJ(udg_EventTimerWindow)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8192")
set udg_WaveFase=1
call EnableTrigger(gg_trg_Move)
call EnableTrigger(gg_trg_S23)
call EnableTrigger(gg_trg_SS23)
call EnableTrigger(gg_trg_SSS23)
call ConditionalTriggerExecute(gg_trg_ClearUnusedHeroes)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call StartTimerBJ(udg_WeakCreepsUPTimer, true, 75.00)
if ( Trig_Lvl_23_Func068C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, true, 300.00)
else
endif
set udg_Reward=10000
call PolledWait(300.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8193")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Lvl_23_Func078A)
call ForForce(udg_AI, function Trig_Lvl_23_Func079A)
call PolledWait(280.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(80.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call CreateNUnitsAtLoc(1, 0x55303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 9, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_12465")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8325")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Lvl_23_Func093A)
call ForForce(udg_AI, function Trig_Lvl_23_Func094A)
call PolledWait(260.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Lvl_23_Func100A)
call ForForce(udg_AI, function Trig_Lvl_23_Func101A)
call PolledWait(240.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call CreateNUnitsAtLoc(1, 0x55303041, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 3)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 14, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call PolledWait(1.00)
call CreateNUnitsAtLoc(1, 0x5530304E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(4, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call PolledWait(1.00)
call CreateNUnitsAtLoc(1, 0x5530304E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(4, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 10, false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_12464")
set udg_WaveFase=5
call ForForce(GetPlayersAll(), function Trig_Lvl_23_Func124A)
call ForForce(udg_AI, function Trig_Lvl_23_Func125A)
call PolledWait(240.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call ConditionalTriggerExecute(gg_trg_CreateHero23)
call PolledWait(60.00)
call CreateNUnitsAtLoc(1, 0x55647265, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 6)], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), 16, false)
call PrepareEnemyHero(GetLastCreatedUnit())
set udg_Boss=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8444")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 1.50 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Lvl_23 takes nothing returns nothing
set gg_trg_Lvl_23=CreateTrigger()
call DisableTrigger(gg_trg_Lvl_23)
call TriggerAddAction(gg_trg_Lvl_23, function Trig_Lvl_23_Actions)
endfunction
function Trig_ClearUnusedLevels_Func001Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func001Func020A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func001C takes nothing returns boolean
if ( not ( udg_Lvl != 1 ) ) then
return false
endif
if ( not ( udg_Lvl != 11 ) ) then
return false
endif
if ( not ( udg_Lvl != 23 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func002Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func002Func025A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func002C takes nothing returns boolean
if ( not ( udg_Lvl != 2 ) ) then
return false
endif
if ( not ( udg_Lvl != 12 ) ) then
return false
endif
if ( not ( udg_Lvl != 21 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func003Func004Func001C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetEnumUnit()) == Player(PLAYER_NEUTRAL_AGGRESSIVE) ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func003Func004A takes nothing returns nothing
if ( Trig_ClearUnusedLevels_Func003Func004Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_ClearUnusedLevels_Func003C takes nothing returns boolean
if ( not ( udg_Lvl != 21 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func004Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func004Func016A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func004C takes nothing returns boolean
if ( not ( udg_Lvl != 3 ) ) then
return false
endif
if ( not ( udg_Lvl != 13 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func005Func002Func001Func001Func001C takes nothing returns boolean
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6E303030 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6E303032 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6E303031 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6E303033 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x68303052 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6E303147 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6F30304C ) ) then
return true
endif
if ( ( GetUnitTypeId(GetEnumUnit()) == 0x6F30304B ) ) then
return true
endif
return false
endfunction
function Trig_ClearUnusedLevels_Func005Func002Func001Func001C takes nothing returns boolean
if ( not Trig_ClearUnusedLevels_Func005Func002Func001Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func005Func002Func001A takes nothing returns nothing
if ( Trig_ClearUnusedLevels_Func005Func002Func001Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_ClearUnusedLevels_Func005Func002Func010A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func005Func002Func017A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func005Func002C takes nothing returns boolean
if ( not ( udg_Lvl == 21 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func005C takes nothing returns boolean
if ( not ( udg_Lvl != 4 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func006Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func006Func014A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func006C takes nothing returns boolean
if ( not ( udg_Lvl != 5 ) ) then
return false
endif
if ( not ( udg_Lvl != 15 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func007Func001Func001C takes nothing returns boolean
if ( ( udg_Lvl == 3 ) ) then
return true
endif
if ( ( udg_Lvl == 13 ) ) then
return true
endif
return false
endfunction
function Trig_ClearUnusedLevels_Func007Func001Func003A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func007Func001Func010A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func007Func001Func014Func001C takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnumUnit(), udg_ug2) != true ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func007Func001Func014A takes nothing returns nothing
if ( Trig_ClearUnusedLevels_Func007Func001Func014Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_ClearUnusedLevels_Func007Func001C takes nothing returns boolean
if ( not Trig_ClearUnusedLevels_Func007Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func007C takes nothing returns boolean
if ( not ( udg_Lvl != 6 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func008Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func008Func009A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func008C takes nothing returns boolean
if ( not ( udg_Lvl != 7 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func009Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func009Func005A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func009Func029A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func009C takes nothing returns boolean
if ( not ( udg_Lvl != 8 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func010Func003Func003A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func010Func003Func015A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func010Func003Func019Func001C takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnumUnit(), udg_ug2) != true ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func010Func003Func019A takes nothing returns nothing
if ( Trig_ClearUnusedLevels_Func010Func003Func019Func001C() ) then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_ClearUnusedLevels_Func010Func003C takes nothing returns boolean
if ( not ( udg_Lvl == 8 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func010C takes nothing returns boolean
if ( not ( udg_Lvl != 9 ) ) then
return false
endif
if ( not ( udg_Lvl != 22 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Func011Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_ClearUnusedLevels_Func011Func008A takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function Trig_ClearUnusedLevels_Func011C takes nothing returns boolean
if ( not ( udg_Lvl != 16 ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedLevels_Actions takes nothing returns nothing
if ( Trig_ClearUnusedLevels_Func001C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone1)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func001Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_1)
call DestroyTrigger(gg_trg_Lvl_11)
call DestroyTrigger(gg_trg_Lvl_23)
call DestroyTrigger(gg_trg_S1)
call DestroyTrigger(gg_trg_SS1)
call DestroyTrigger(gg_trg_SSS1)
call DestroyTrigger(gg_trg_CreateHero1)
call DestroyTrigger(gg_trg_Hard_S1)
call DestroyTrigger(gg_trg_Hard_SS1)
call DestroyTrigger(gg_trg_Hard_SSS1)
call DestroyTrigger(gg_trg_CreateHero1_Hard)
call DestroyTrigger(gg_trg_S23)
call DestroyTrigger(gg_trg_SS23)
call DestroyTrigger(gg_trg_SSS23)
call DestroyTrigger(gg_trg_CreateHero23)
call DestroyTrigger(gg_trg_RuneActivate1)
call EnumDestructablesInRectAll(gg_rct_Zone1, function Trig_ClearUnusedLevels_Func001Func020A)
call RemoveRect(gg_rct_Zone1)
call RemoveRect(gg_rct_DeleteZone23)
call RemoveRect(gg_rct_Event_4)
call RemoveRect(gg_rct_Event_3)
call RemoveRect(gg_rct_Event_2)
call RemoveRect(gg_rct_Event_1)
else
endif
if ( Trig_ClearUnusedLevels_Func002C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone2)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func002Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_2)
call DestroyTrigger(gg_trg_Lvl_12)
call DestroyTrigger(gg_trg_Lvl_21)
call DestroyTrigger(gg_trg_S2)
call DestroyTrigger(gg_trg_SS2)
call DestroyTrigger(gg_trg_SSS2)
call DestroyTrigger(gg_trg_CreateHero2_Up)
call DestroyTrigger(gg_trg_CreateHero2_Down)
call DestroyTrigger(gg_trg_Event2)
call DestroyTrigger(gg_trg_Hard_S2)
call DestroyTrigger(gg_trg_Hard_SS2)
call DestroyTrigger(gg_trg_Hard_SSS2)
call DestroyTrigger(gg_trg_CreateHero2_Hard_Up)
call DestroyTrigger(gg_trg_CreateHero2_Hard_Down)
call DestroyTrigger(gg_trg_Hard_Event2)
call DestroyTrigger(gg_trg_MidWay2)
call DestroyTrigger(gg_trg_S21)
call DestroyTrigger(gg_trg_SS21)
call DestroyTrigger(gg_trg_SSS21)
call DestroyTrigger(gg_trg_CreateHeroDuo21)
call DestroyTrigger(gg_trg_CreateHero21)
call EnumDestructablesInRectAll(gg_rct_Zone2, function Trig_ClearUnusedLevels_Func002Func025A)
call RemoveRect(gg_rct_Zone2)
else
endif
if ( Trig_ClearUnusedLevels_Func003C() ) then
call RemoveRect(gg_rct_Portal1)
call RemoveRect(gg_rct_Portal2)
set udg_ug=GetUnitsInRectAll(gg_rct_Zone4)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func003Func004A)
call DestroyGroup(udg_ug)
else
endif
if ( Trig_ClearUnusedLevels_Func004C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone3)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func004Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_3)
call DestroyTrigger(gg_trg_S3)
call DestroyTrigger(gg_trg_SS3)
call DestroyTrigger(gg_trg_SSS3)
call DestroyTrigger(gg_trg_CreateHero3)
call DestroyTrigger(gg_trg_Event3)
call DestroyTrigger(gg_trg_Lvl_13)
call DestroyTrigger(gg_trg_Hard_S3)
call DestroyTrigger(gg_trg_Hard_SS3)
call DestroyTrigger(gg_trg_Hard_SSS3)
call DestroyTrigger(gg_trg_CreateHero3_Hard)
call DestroyTrigger(gg_trg_Hard_Event3)
call EnumDestructablesInRectAll(gg_rct_Zone3, function Trig_ClearUnusedLevels_Func004Func016A)
call RemoveRect(gg_rct_Zone3)
else
endif
if ( Trig_ClearUnusedLevels_Func005C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone4)
if ( Trig_ClearUnusedLevels_Func005Func002C() ) then
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func005Func002Func001A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_4)
call DestroyTrigger(gg_trg_S4)
call DestroyTrigger(gg_trg_SS4)
call DestroyTrigger(gg_trg_SSS4)
call DestroyTrigger(gg_trg_CreateHero4)
call RemoveDestructable(gg_dest_B000_2588)
call RemoveDestructable(gg_dest_B000_2591)
else
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func005Func002Func010A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_4)
call DestroyTrigger(gg_trg_S4)
call DestroyTrigger(gg_trg_SS4)
call DestroyTrigger(gg_trg_SSS4)
call DestroyTrigger(gg_trg_CreateHero4)
call EnumDestructablesInRectAll(gg_rct_Zone4, function Trig_ClearUnusedLevels_Func005Func002Func017A)
endif
call RemoveRect(gg_rct_Zone4)
else
endif
if ( Trig_ClearUnusedLevels_Func006C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone5)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func006Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_5)
call DestroyTrigger(gg_trg_S5)
call DestroyTrigger(gg_trg_SS5)
call DestroyTrigger(gg_trg_SSS5)
call DestroyTrigger(gg_trg_CreateHero5)
call DestroyTrigger(gg_trg_Lvl_15)
call DestroyTrigger(gg_trg_Hard_S5)
call DestroyTrigger(gg_trg_Hard_SS5)
call DestroyTrigger(gg_trg_Hard_SSS5)
call DestroyTrigger(gg_trg_CreateHero5_Hard)
call EnumDestructablesInRectAll(gg_rct_Zone5, function Trig_ClearUnusedLevels_Func006Func014A)
call RemoveRect(gg_rct_Zone5)
else
endif
if ( Trig_ClearUnusedLevels_Func007C() ) then
if ( Trig_ClearUnusedLevels_Func007Func001C() ) then
set udg_ug2=GetUnitsInRectAll(gg_rct_Zone3)
set udg_ug=GetUnitsInRectAll(gg_rct_Zone6)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func007Func001Func014A)
call DestroyGroup(udg_ug)
call DestroyGroup(udg_ug2)
call DestroyTrigger(gg_trg_Lvl_6)
call DestroyTrigger(gg_trg_S6)
call DestroyTrigger(gg_trg_SS6)
call DestroyTrigger(gg_trg_SSS6)
call DestroyTrigger(gg_trg_CreateHero6)
else
set udg_ug=GetUnitsInRectAll(gg_rct_Zone6)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func007Func001Func003A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_6)
call DestroyTrigger(gg_trg_S6)
call DestroyTrigger(gg_trg_SS6)
call DestroyTrigger(gg_trg_SSS6)
call DestroyTrigger(gg_trg_CreateHero6)
call EnumDestructablesInRectAll(gg_rct_Zone6, function Trig_ClearUnusedLevels_Func007Func001Func010A)
call RemoveRect(gg_rct_Zone6)
endif
else
endif
if ( Trig_ClearUnusedLevels_Func008C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone7)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func008Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_7)
call DestroyTrigger(gg_trg_S7)
call DestroyTrigger(gg_trg_SS7)
call DestroyTrigger(gg_trg_SSS7)
call DestroyTrigger(gg_trg_CreateHero7)
call EnumDestructablesInRectAll(gg_rct_Zone7, function Trig_ClearUnusedLevels_Func008Func009A)
call RemoveRect(gg_rct_Zone7)
else
endif
if ( Trig_ClearUnusedLevels_Func009C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone8)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func009Func002A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsInRectAll(gg_rct_Zone8_dop)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func009Func005A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Lvl_8)
call DestroyTrigger(gg_trg_S8)
call DestroyTrigger(gg_trg_SS8)
call DestroyTrigger(gg_trg_SSS8)
call DestroyTrigger(gg_trg_CreateHero8)
call DestroyTrigger(gg_trg_WavesEnd)
call DestroyTrigger(gg_trg_EndWaveTimer)
call DestroyTrigger(gg_trg_Event8)
call DestroyTrigger(gg_trg_Wave2)
call DestroyTrigger(gg_trg_Wave3)
call DestroyTrigger(gg_trg_Wave4)
call DestroyTrigger(gg_trg_Wave5)
call DestroyTrigger(gg_trg_Wave6)
call DestroyTrigger(gg_trg_Wave7)
call DestroyTrigger(gg_trg_Wave8)
call DestroyTrigger(gg_trg_Wave9)
call DestroyTrigger(gg_trg_Wave10)
call DestroyTrigger(gg_trg_Wave11)
call DestroyTrigger(gg_trg_Wave12)
call DestroyTrigger(gg_trg_Wave13)
call DestroyTrigger(gg_trg_Wave14)
call DestroyTrigger(gg_trg_Wave15)
call EnumDestructablesInRectAll(gg_rct_Zone8, function Trig_ClearUnusedLevels_Func009Func029A)
call RemoveRect(gg_rct_Zone8)
else
endif
if ( Trig_ClearUnusedLevels_Func010C() ) then
if ( Trig_ClearUnusedLevels_Func010Func003C() ) then
set udg_ug2=GetUnitsInRectAll(gg_rct_Zone8_dop)
set udg_ug=GetUnitsInRectAll(gg_rct_Zone9)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func010Func003Func019A)
call DestroyGroup(udg_ug)
call DestroyGroup(udg_ug2)
call DestroyTrigger(gg_trg_S9)
call DestroyTrigger(gg_trg_SS9)
call DestroyTrigger(gg_trg_SSS9)
call DestroyTrigger(gg_trg_CreateHero9)
call EnableTrigger(gg_trg_SkillBoss9)
call EnableTrigger(gg_trg_SkillBoss9_dmg)
call DestroyTrigger(gg_trg_S22)
call DestroyTrigger(gg_trg_SS22)
call DestroyTrigger(gg_trg_SSS22)
call DestroyTrigger(gg_trg_CreateHero22)
else
set udg_ug=GetUnitsInRectAll(gg_rct_Zone9)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func010Func003Func003A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_S9)
call DestroyTrigger(gg_trg_SS9)
call DestroyTrigger(gg_trg_SSS9)
call DestroyTrigger(gg_trg_CreateHero9)
call EnableTrigger(gg_trg_SkillBoss9)
call EnableTrigger(gg_trg_SkillBoss9_dmg)
call DestroyTrigger(gg_trg_S22)
call DestroyTrigger(gg_trg_SS22)
call DestroyTrigger(gg_trg_SSS22)
call DestroyTrigger(gg_trg_CreateHero22)
call EnumDestructablesInRectAll(gg_rct_Zone9, function Trig_ClearUnusedLevels_Func010Func003Func015A)
call RemoveRect(gg_rct_Zone9)
endif
else
endif
if ( Trig_ClearUnusedLevels_Func011C() ) then
set udg_ug=GetUnitsInRectAll(gg_rct_Zone16)
call ForGroupBJ(udg_ug, function Trig_ClearUnusedLevels_Func011Func002A)
call DestroyGroup(udg_ug)
call DestroyTrigger(gg_trg_Hard_S6)
call DestroyTrigger(gg_trg_Hard_SS6)
call DestroyTrigger(gg_trg_Hard_SSS6)
call DestroyTrigger(gg_trg_CreateHero6_Hard)
call EnumDestructablesInRectAll(gg_rct_Zone16, function Trig_ClearUnusedLevels_Func011Func008A)
call RemoveRect(gg_rct_Zone16)
else
endif
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_ClearUnusedLevels takes nothing returns nothing
set gg_trg_ClearUnusedLevels=CreateTrigger()
call DisableTrigger(gg_trg_ClearUnusedLevels)
call TriggerAddAction(gg_trg_ClearUnusedLevels, function Trig_ClearUnusedLevels_Actions)
endfunction
function Trig_Tips_Actions takes nothing returns nothing
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_5318", "TRIGSTR_5319", "ReplaceableTextures\\CommandButtons\\BTNFootman.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_5320", "TRIGSTR_5321", "ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_5316", "TRIGSTR_5317", "ReplaceableTextures\\CommandButtons\\BTNSpinyCrab.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_5322", "TRIGSTR_5323", "ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_9906", "TRIGSTR_9907", "ReplaceableTextures\\CommandButtons\\BTNSpellBookBLS.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_9989", "TRIGSTR_9990", "ReplaceableTextures\\CommandButtons\\BTNManual3.blp")
call PolledWait(2.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call MultiboardSetItemValueBJ(udg_Board, 1, ( GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA())) + 1 ), ( "[Lvl " + ( I2S(GetPlayerTechCountSimple(0x52303049, ConvertedPlayer(GetForLoopIndexA()))) + "]" ) ))
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Tips takes nothing returns nothing
set gg_trg_Tips=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Tips, 0.00)
call TriggerAddAction(gg_trg_Tips, function Trig_Tips_Actions)
endfunction
function Trig_Multiboard_Inic_Actions takes nothing returns nothing
local multiboarditem mbitem=null
local integer a=1
local integer b=1
set udg_Board=CreateMultiboard()
call MultiboardSetRowCount(udg_Board, 9)
call MultiboardSetColumnCount(udg_Board, 6)
call MultiboardSetTitleText(udg_Board, "Загрузка...")
set bj_lastCreatedMultiboard=CreateMultiboard()
set mbitem=MultiboardGetItem(udg_Board, 0, 0)
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNTomeBrown.blp")
call MultiboardSetItemValue(mbitem, "|cFFFFDC00Lvl|r")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.04)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, 0, 1)
call MultiboardSetItemValue(mbitem, "|cFFFFDC00Hero|r")
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNReplay-Play.blp")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.10)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, 0, 2)
call MultiboardSetItemValue(mbitem, "|cFF009E73Kills|r")
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNDeathCoil.blp")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.05)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, 0, 3)
call MultiboardSetItemValue(mbitem, "|cFFFF2E32HeroKills|r")
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNHire.blp")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.06)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, 0, 4)
call MultiboardSetItemValue(mbitem, "|cFFFF7D00Death|r")
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNReincarnation.blp")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.05)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, 0, 5)
call MultiboardSetItemValue(mbitem, "|cFFFFDC00Gold|r")
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNChestOfGold.blp")
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemWidth(mbitem, 0.03)
call MultiboardReleaseItem(mbitem)
set a=1
loop
exitwhen a > 8
set mbitem=MultiboardGetItem(udg_Board, a, 0)
call MultiboardSetItemStyle(mbitem, true, false)
call MultiboardSetItemValue(mbitem, "")
call MultiboardSetItemWidth(mbitem, 0.04)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 1)
call MultiboardSetItemStyle(mbitem, true, true)
call MultiboardSetItemValue(mbitem, PlayerName[a])
call MultiboardSetItemWidth(mbitem, 0.10)
call MultiboardSetItemIcon(mbitem, "ReplaceableTextures\\CommandButtons\\BTNReplay-Loop.blp")
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 2)
call MultiboardSetItemStyle(mbitem, true, false)
call MultiboardSetItemValue(mbitem, "")
call MultiboardSetItemWidth(mbitem, 0.05)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 3)
call MultiboardSetItemStyle(mbitem, true, false)
call MultiboardSetItemValue(mbitem, "")
call MultiboardSetItemWidth(mbitem, 0.06)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 4)
call MultiboardSetItemStyle(mbitem, true, false)
call MultiboardSetItemValue(mbitem, "")
call MultiboardSetItemWidth(mbitem, 0.05)
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 5)
call MultiboardSetItemStyle(mbitem, true, false)
call MultiboardSetItemValue(mbitem, "")
call MultiboardSetItemWidth(mbitem, 0.03)
call MultiboardReleaseItem(mbitem)
set a=a + 1
endloop
set a=1
call MultiboardDisplay(udg_Board, false)
call MultiboardDisplay(udg_Board, true)
call MultiboardMinimize(udg_Board, true)
call MultiboardMinimize(udg_Board, false)
call EnableTrigger(gg_trg_Refresh)
call TimerStart(udg_IncomeTimer, 1.00, true, null)
call TimerStart(udg_Every05sec, 0.50, true, null)
call TimerStart(udg_Every5secTimer, 5.00, true, null)
call TimerStart(udg_Every60sec, 60.00, true, null)
call TimerStart(udg_Every40sec, 40.00, true, null)
call TimerStart(udg_Every20secTimer, 20.00, true, null)
set mbitem=null
endfunction
function InitTrig_Multiboard_Inic takes nothing returns nothing
set gg_trg_Multiboard_Inic=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Multiboard_Inic, 1, false)
call TriggerAddAction(gg_trg_Multiboard_Inic, function Trig_Multiboard_Inic_Actions)
endfunction
function Trig_Refresh_Actions takes nothing returns nothing
local multiboarditem mbitem=null
local integer a=1
set udg_TimeNT[1]=( udg_TimeNT[1] + 1 )
if udg_TimeNT[1] == 60 then
set udg_TimeNT[1]=0
set udg_TimeNT[2]=( udg_TimeNT[2] + 1 )
endif
if udg_TimeNT[2] == 60 then
set udg_TimeNT[2]=0
set udg_TimeNT[3]=( udg_TimeNT[3] + 1 )
endif
call MultiboardSetTitleText(udg_Board, ( ( udg_LvlNameNT + "    [" ) + ( I2S(udg_TimeNT[3]) + ( ":" + ( I2S(udg_TimeNT[2]) + ( ":" + ( I2S(udg_TimeNT[1]) + "]" ) ) ) ) ) ))
loop
exitwhen a > 8
set mbitem=MultiboardGetItem(udg_Board, a, 2)
call MultiboardSetItemValue(mbitem, "|cff957700" + I2S(udg_KillsAmountNT[a]))
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 3)
call MultiboardSetItemValue(mbitem, "|cff957700" + I2S(udg_HerokillsAmountNT[a]))
call MultiboardReleaseItem(mbitem)
set mbitem=MultiboardGetItem(udg_Board, a, 4)
call MultiboardSetItemValue(mbitem, "|cff957700" + I2S(udg_DeathAmountNT[a]))
call MultiboardReleaseItem(mbitem)
set udg_GoldAmount[a]=GetPlayerState(Player(a - 1), PLAYER_STATE_RESOURCE_GOLD)
set mbitem=MultiboardGetItem(udg_Board, a, 5)
call MultiboardSetItemValue(mbitem, "|cff957700" + I2S(udg_GoldAmount[a]))
call MultiboardReleaseItem(mbitem)
set a=a + 1
endloop
set a=1
set mbitem=null
endfunction
function InitTrig_Refresh takes nothing returns nothing
set gg_trg_Refresh=CreateTrigger()
call DisableTrigger(gg_trg_Refresh)
call TriggerRegisterTimerEvent(gg_trg_Refresh, 1.0, true)
call TriggerAddAction(gg_trg_Refresh, function Trig_Refresh_Actions)
endfunction
function Trig_Death_Amount_NT_Func004C takes nothing returns boolean
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(0) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(1) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(2) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(3) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(4) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(5) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(6) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(7) ) ) then
return true
endif
return false
endfunction
function Trig_Death_Amount_NT_Conditions takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not Trig_Death_Amount_NT_Func004C() ) then
return false
endif
return true
endfunction
function Trig_Death_Amount_NT_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))
set udg_DeathAmountNT[udg_n]=( udg_DeathAmountNT[udg_n] + 1 )
endfunction
function InitTrig_Death_Amount_NT takes nothing returns nothing
set gg_trg_Death_Amount_NT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Death_Amount_NT, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Death_Amount_NT, Condition(function Trig_Death_Amount_NT_Conditions))
call TriggerAddAction(gg_trg_Death_Amount_NT, function Trig_Death_Amount_NT_Actions)
endfunction
function Trig_Herokills_Amount_NT_Conditions takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) == true ) ) then
return false
endif
return true
endfunction
function Trig_Herokills_Amount_NT_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set udg_HerokillsAmountNT[udg_n]=( udg_HerokillsAmountNT[udg_n] + 1 )
endfunction
function InitTrig_Herokills_Amount_NT takes nothing returns nothing
set gg_trg_Herokills_Amount_NT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Herokills_Amount_NT, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Herokills_Amount_NT, Condition(function Trig_Herokills_Amount_NT_Conditions))
call TriggerAddAction(gg_trg_Herokills_Amount_NT, function Trig_Herokills_Amount_NT_Actions)
endfunction
function Trig_Kills_Amount_NT_Conditions takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == false ) ) then
return false
endif
if ( not ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) == true ) ) then
return false
endif
if ( not ( GetUnitLevel(GetDyingUnit()) != 0 ) ) then
return false
endif
return true
endfunction
function Trig_Kills_Amount_NT_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set udg_KillsAmountNT[udg_n]=( udg_KillsAmountNT[udg_n] + 1 )
endfunction
function InitTrig_Kills_Amount_NT takes nothing returns nothing
set gg_trg_Kills_Amount_NT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kills_Amount_NT, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kills_Amount_NT, Condition(function Trig_Kills_Amount_NT_Conditions))
call TriggerAddAction(gg_trg_Kills_Amount_NT, function Trig_Kills_Amount_NT_Actions)
endfunction
function ExpIncome takes nothing returns nothing
local unit u=GetEnumUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl)
call AddHeroXP(u, udg_ExpIncome[n + 1], true)
set u=null
set pl=null
endfunction
function Trig_Income_Actions takes nothing returns nothing
local integer L
set L=0
loop
exitwhen L > 7
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD) + udg_Income[L + 1])
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_LUMBER, ExpGo[L])
set L=L + 1
endloop
call ForGroup(udg_AllHeroes, function ExpIncome)
endfunction
function InitTrig_Income takes nothing returns nothing
set gg_trg_Income=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Income, udg_IncomeTimer)
call TriggerAddAction(gg_trg_Income, function Trig_Income_Actions)
endfunction
function Trig_SIncome_Actions takes nothing returns nothing
local integer L
set L=0
loop
exitwhen L > 7
call SetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(L), PLAYER_STATE_RESOURCE_GOLD) + udg_SIncome[L + 1])
set L=L + 1
endloop
endfunction
function InitTrig_SIncome takes nothing returns nothing
set gg_trg_SIncome=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_SIncome, udg_Every60sec)
call TriggerAddAction(gg_trg_SIncome, function Trig_SIncome_Actions)
endfunction
function Trig_IncomeRegister_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer Id=GetUnitTypeId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
if Id == 0x68303039 or Id == 0x68303041 or Id == 0x68303042 or Id == 0x6830314B or Id == 0x68303156 then
set udg_Income[n]=udg_Income[n] + 1
elseif Id == 0x6830334B or Id == 0x6830334C or Id == 0x6830334D then
set udg_SIncome[n]=udg_SIncome[n] + 100
elseif Id == 0x68303136 or Id == 0x68303137 or Id == 0x68303138 then
set udg_Income[n]=udg_Income[n] + 2
elseif Id == 0x68303130 then
set udg_ExpIncome[n]=udg_ExpIncome[n] + 4
elseif Id == 0x6E30344A then
set udg_ExpIncome[n]=udg_ExpIncome[n] + 1
endif
if LoadInteger(udg_hash, GetHandleId(pl), 10) == 1 then
if Id == 0x68303048 or Id == 0x6F303038 or Id == 0x75303036 or Id == 0x68303056 or Id == 0x68303245 or Id == 0x6E30314C or Id == 0x68636173 or Id == 0x6F303244 or Id == 0x6830324E then
set udg_SIncome[n]=udg_SIncome[n] + 40
endif
endif
set u=null
set pl=null
endfunction
function InitTrig_IncomeRegister takes nothing returns nothing
set gg_trg_IncomeRegister=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_IncomeRegister, EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddAction(gg_trg_IncomeRegister, function Trig_IncomeRegister_Actions)
endfunction
function Trig_IncomeDestroy_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local integer Id=GetUnitTypeId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
if Id == 0x68303039 or Id == 0x6830314A then
set udg_Income[n]=udg_Income[n] - 1
elseif Id == 0x68303041 or Id == 0x6830314B or Id == 0x68303136 then
set udg_Income[n]=udg_Income[n] - 2
elseif Id == 0x68303042 or Id == 0x68303156 then
set udg_Income[n]=udg_Income[n] - 3
elseif Id == 0x68303137 then
set udg_Income[n]=udg_Income[n] - 4
elseif Id == 0x68303138 then
set udg_Income[n]=udg_Income[n] - 6
elseif Id == 0x6830334B then
set udg_SIncome[n]=udg_SIncome[n] - 100
elseif Id == 0x6830334C then
set udg_SIncome[n]=udg_SIncome[n] - 200
elseif Id == 0x6830334D then
set udg_SIncome[n]=udg_SIncome[n] - 300
elseif Id == 0x68303130 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 4
elseif Id == 0x6E30344A or Id == 0x6E30344B or Id == 0x6E303639 or Id == 0x6E303641 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 1
endif
if LoadInteger(udg_hash, GetHandleId(pl), 10) == 1 then
if Id == 0x68303048 or Id == 0x6F303038 or Id == 0x75303036 or Id == 0x68303056 or Id == 0x68303245 or Id == 0x6E30314C or Id == 0x68636173 or Id == 0x6F303244 or Id == 0x6830324E then
set udg_SIncome[n]=udg_SIncome[n] - 40
endif
endif
set u=null
set pl=null
endfunction
function InitTrig_IncomeDestroy takes nothing returns nothing
set gg_trg_IncomeDestroy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_IncomeDestroy, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_IncomeDestroy, function Trig_IncomeDestroy_Actions)
endfunction
function Trig_ScrollsCreating_Actions takes nothing returns nothing
local unit Arhi=GetTriggerUnit()
local player pl=GetOwningPlayer(Arhi)
local integer Id=GetHandleId(pl)
local integer L
local real x=GetUnitX(Arhi)
local real y=GetUnitY(Arhi)
local unit Lootbox=GetTrainedUnit()
local integer ItemType
local integer Random=GetRandomInt(1, 100)
if GetUnitTypeId(Arhi) == 0x68303054 then
if GetUnitTypeId(Lootbox) == 0x68303055 then
if Random <= 40 then
set ItemType=0x49303044
elseif Random > 40 and Random <= 70 then
set ItemType=0x49303347
elseif Random > 70 then
set ItemType=0x49303348
endif
endif
if GetUnitTypeId(Lootbox) == 0x68303139 or GetUnitTypeId(Lootbox) == 0x6830334A then
set L=LoadInteger(udg_hash, Id, 1)
if L == 2 then
if Random <= 25 then
set ItemType=0x49303045
call SaveInteger(udg_hash, Id, 1, L + 1)
elseif Random > 25 and Random <= 55 then
set ItemType=0x49303349
call SaveInteger(udg_hash, Id, 1, 0)
elseif Random > 55 and Random <= 85 then
set ItemType=0x49303534
call SaveInteger(udg_hash, Id, 1, 0)
elseif Random > 85 then
set ItemType=0x49303046
call SaveInteger(udg_hash, Id, 1, 0)
endif
elseif L == 3 then
if Random <= 35 then
set ItemType=0x49303349
elseif Random > 35 and Random <= 70 then
set ItemType=0x49303534
elseif Random > 70 then
set ItemType=0x49303046
endif
call SaveInteger(udg_hash, Id, 1, 0)
else
if Random <= 50 then
set ItemType=0x49303045
call SaveInteger(udg_hash, Id, 1, L + 1)
elseif Random > 50 and Random <= 70 then
set ItemType=0x49303349
elseif Random > 70 and Random <= 90 then
set ItemType=0x49303534
elseif Random > 90 then
set ItemType=0x49303046
endif
endif
endif
if GetUnitTypeId(Lootbox) == 0x68303334 then
set L=LoadInteger(udg_hash, Id, 2)
if Random <= 60 then
set ItemType=T1_CreateItem()
call SaveInteger(udg_hash, Id, 2, L + 1)
elseif Random > 60 and Random <= 85 then
set ItemType=T2_CreateItem()
call SaveInteger(udg_hash, Id, 2, L + 1)
elseif Random > 85 and Random <= 95 then
if L > 0 then
set ItemType=T3_CreateItem()
else
set ItemType=T2_CreateItem()
call SaveInteger(udg_hash, Id, 2, L + 1)
endif
elseif Random > 95 then
if L > 2 then
set ItemType=T4_CreateItem()
else
set ItemType=T2_CreateItem()
call SaveInteger(udg_hash, Id, 2, L + 1)
endif
endif
endif
if GetUnitTypeId(Lootbox) == 0x68303335 then
set L=LoadInteger(udg_hash, Id, 3)
if L > 2 then
if Random <= 40 then
set ItemType=T2_CreateItem()
elseif Random > 40 and Random <= 68 then
set ItemType=T3_CreateItem()
elseif Random > 68 and Random <= 90 then
set ItemType=T4_CreateItem()
call SaveInteger(udg_hash, Id, 3, 0)
elseif Random > 90 then
set T6_Drop=T6_Drop + 1
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=0
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
call SaveInteger(udg_hash, Id, 3, 0)
endif
else
if Random <= 50 then
set ItemType=T2_CreateItem()
call SaveInteger(udg_hash, Id, 3, L + 1)
elseif Random > 50 and Random <= 80 then
set ItemType=T3_CreateItem()
call SaveInteger(udg_hash, Id, 3, L + 1)
elseif Random > 80 and Random <= 95 then
set ItemType=T4_CreateItem()
call SaveInteger(udg_hash, Id, 3, 0)
elseif Random > 95 then
set T6_Drop=T6_Drop + 1
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=0
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
call SaveInteger(udg_hash, Id, 3, 0)
endif
endif
endif
if GetUnitTypeId(Lootbox) == 0x68303336 then
set L=LoadInteger(udg_hash, Id, 4)
if Random <= 42 - L then
set ItemType=T3_CreateItem()
call SaveInteger(udg_hash, Id, 4, L + 2)
elseif Random > 42 - L and Random <= 82 - L * 2 then
set ItemType=T4_CreateItem()
call SaveInteger(udg_hash, Id, 4, L + 2)
elseif Random > 82 - L * 2 then
set T6_Drop=T6_Drop + 1
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=0
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
call SaveInteger(udg_hash, Id, 4, 0)
endif
endif
if GetUnitTypeId(Lootbox) == 0x6830334F then
set L=LoadInteger(udg_hash, Id, 5)
if L > 2 then
set T6_Drop=T6_Drop + 1
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=0
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
call SaveInteger(udg_hash, Id, 5, 0)
else
if Random <= 50 then
set ItemType=T4_CreateItem()
call SaveInteger(udg_hash, Id, 5, L + 1)
else
set T6_Drop=T6_Drop + 1
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=0
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
call SaveInteger(udg_hash, Id, 5, 0)
endif
endif
endif
call RemoveUnit(Lootbox)
call UnitAddItemById(Arhi, ItemType)
endif
set Arhi=null
set Lootbox=null
set pl=null
endfunction
function InitTrig_ScrollsCreating takes nothing returns nothing
set gg_trg_ScrollsCreating=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ScrollsCreating, EVENT_PLAYER_UNIT_TRAIN_FINISH)
call TriggerAddAction(gg_trg_ScrollsCreating, function Trig_ScrollsCreating_Actions)
endfunction
function Trig_i_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl) + 1
local unit u
local unit u2
local group ug
local real r
local integer L
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDДоход: |r|cFFDF7AD8" + I2S(udg_Income[n]))
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDДоход каждую минуту: |r|cFFDF7AD8" + I2S(udg_SIncome[n]))
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDСила умений: |r|cFFDF7AD8" + I2S(R2I(udg_ItemBonusDMG[n])))
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if GetOwningPlayer(u2) == pl then
set u=u2
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set r=( 1.00 - LoadReal(udg_hash, GetHandleId(u), 1) ) * 100
if r >= 80 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDСнижение перезарядки пассивных умений предметов: |r|cFFDF7AD880% (макс.)")
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDСнижение перезарядки пассивных умений предметов: |r|cFFDF7AD8" + I2S(R2I(r)) + "%")
endif
set r=LoadReal(udg_hash, GetHandleId(u), 16)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDПробитие: |r|cFFDF7AD8" + I2S(R2I(r)) + " ед.")
if GetUnitTypeId(u) == 0x4830304E or GetUnitTypeId(u) == 0x48303430 then
if GetUnitAbilityLevel(u, 0x4130484D) > 0 then
set r=10 * I2R(GetUnitAbilityLevel(u, 0x41303139)) + ( udg_ItemBonusDMG[n] * 0.08 ) + LoadReal(udg_hash, GetHandleId(u), 20)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDУрон умения \"Картечь\": |r|cFFDF7AD8" + I2S(R2I(r)))
elseif GetUnitAbilityLevel(u, 0x41304852) > 0 then
set r=30 * I2R(GetUnitAbilityLevel(u, 0x41303141)) + ( udg_ItemBonusDMG[n] * 0.10 ) + LoadReal(udg_hash, GetHandleId(u), 20)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDУрон умения \"Зададим им перцу!\": |r|cFFDF7AD8" + I2S(R2I(r)))
endif
elseif GetUnitTypeId(u) == 0x4E303130 then
if GetUnitAbilityLevel(u, 0x41304936) > 0 then
set r=50 + ( 150 * I2R(GetUnitAbilityLevel(u, 0x41303341)) ) + ( udg_ItemBonusDMG[n] * 1.25 )
set r=r + LoadReal(udg_hash, GetHandleId(u), 21)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDОбщий урон умения \"Потрошение\": |r|cFFDF7AD8" + I2S(R2I(r)))
endif
elseif GetUnitTypeId(u) == 0x4E303156 then
if GetUnitAbilityLevel(u, 0x41304D4D) == 1 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDПолученная сила от умения \"Богатырь\": |r|cFFDF7AD8" + I2S(LoadInteger(udg_hash, GetHandleId(u), 20)))
endif
elseif GetUnitTypeId(u) == 0x4F30314F or GetUnitTypeId(u) == 0x45303133 then
if GetUnitAbilityLevel(u, 0x4130444E) == 1 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDБонус к множителю урона умения \"Концентрация\": |r|cFFDF7AD8" + R2S(LoadReal(udg_hash, GetHandleId(u), 7)))
endif
elseif GetUnitTypeId(u) == 0x4F303232 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDУрон умения \"Пламя скверны\": |r|cFFDF7AD8" + ( I2S(R2I(( udg_KilroggW * 100.00 ))) + "%" ))
elseif ( GetUnitTypeId(u) == 0x48303147 or GetUnitTypeId(u) == 0x48767764 ) and GetUnitAbilityLevel(u, 0x41305250) == 1 then
set r=LoadReal(udg_hash, GetHandleId(u), 20)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDУмение \"Зазубренные стрелы\": |r|cFFDF7AD8" + ( I2S(R2I(r * 100.00)) + "%" ))
elseif GetUnitTypeId(u) == 0x45303053 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDКрит. урон умения \"Буква закона\": |r|cFFDF7AD8" + ( I2S(( 140 + ( 30 * GetUnitAbilityLevel(udg_Silver, 0x41304F44) ) )) + "%" ))
elseif GetUnitTypeId(u) == 0x55303144 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFA085EDПрогресс задания \"Вечный голод\": |r|cFFDF7AD8" + ( I2S(udg_DreadlordQuest[1]) + " из 100." ))
endif
if UnitHasItemOfTypeBJ(u, 0x49303049) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Бездонная фляга|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir[n]) + " из 25.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303053) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Фляга святой воды|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir2[n]) + " из 40.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303333) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Фляга огненной воды|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir3[n]) + " из 40.")
endif
if UnitHasItemOfTypeBJ(u, 0x4930305A) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Боевой молот|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer[n]) + " из 3.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303131) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Молот праведника|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer2[n]) + " из 4.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303331) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Молот убийцы|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer3[n]) + " из 4.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303236) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Проклятый щит|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_ShieldOfDeath[n]) + " из 900.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303238) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Очищенный щит|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_ShieldOfDeath2[n]) + " из 1350.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303250) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Порочный щит|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_ShieldOfDeath3[n]) + " из 1350.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303339) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Копье стража|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear[n]) + " из 25.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303341) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Копье праведника|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear2[n]) + " из 40.")
endif
if UnitHasItemOfTypeBJ(u, 0x49303342) == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF07B4C2Предмет|r |cFFFFDC00Копье убийцы|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear3[n]) + " из 40.")
endif
set pl=null
set ug=null
set u=null
set u2=null
endfunction
function InitTrig_i takes nothing returns nothing
local trigger t=CreateTrigger()
local integer L=0
loop
exitwhen L == 8
call TriggerRegisterPlayerChatEvent(t, Player(L), "-i", true)
call TriggerRegisterPlayerChatEvent(t, Player(L), "-ш", true)
set L=L + 1
endloop
call TriggerAddAction(t, function Trig_i_Actions)
set t=null
endfunction
function Trig_mods_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local real r
local integer L
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "Активированные модификаторы:")
if udg_Modifiers[1] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Больше миньонов'' (+25%)|r")
endif
if udg_Modifiers[2] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Усиление героев и боссов'' (+60%)|r")
endif
if udg_Modifiers[3] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Кристалломания'' (+0%)|r")
endif
if udg_Modifiers[4] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Вражеские постройки'' (+25%)|r")
endif
if udg_Modifiers[5] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Взрывной демонтаж'' (+30%)|r")
endif
if udg_Modifiers[6] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Паразиты'' (+30%)|r")
endif
if udg_Modifiers[7] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Вторжение'' (+50%)|r")
endif
if udg_Modifiers[8] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Бесконечная игра'' (+0%)|r")
endif
if udg_Modifiers[9] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Усиленная элита'' (+75%)|r")
endif
if udg_Modifiers[10] == true then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Модификатор ''Ослабление врагов'' (-50%)|r")
endif
set L=0
loop
exitwhen L > 7
set r=LoadReal(udg_hash, GetHandleId(Player(L)), 1)
if r > 0.00 then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Бонус от игрока: " + GetPlayerName(Player(L)) + " (+" + I2S(R2I(r * 100)) + "%)")
endif
set L=L + 1
endloop
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFF00C850Суммированный бонус: " + I2S(R2I(udg_ModReward * 100) - 100) + "%")
set pl=null
endfunction
function InitTrig_mods takes nothing returns nothing
set gg_trg_mods=CreateTrigger()
call TriggerAddAction(gg_trg_mods, function Trig_mods_Actions)
endfunction
function Trig_Change_Gift_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local group ug
local unit u
local unit u2
local real x
local real y
local item Item
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if GetOwningPlayer(u2) == pl then
set u=u2
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set x=GetUnitX(u)
set y=GetUnitY(u)
if UnitHasItemOfTypeBJ(u, 0x4930384D) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x4930384D))
set Item=CreateItem(0x49303958, x, y)
call UnitAddItem(u, Item)
elseif UnitHasItemOfTypeBJ(u, 0x49303958) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303958))
set Item=CreateItem(0x49303034, x, y)
call UnitAddItem(u, Item)
elseif UnitHasItemOfTypeBJ(u, 0x49303034) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303034))
set Item=CreateItem(0x4930384D, x, y)
call UnitAddItem(u, Item)
elseif UnitHasItemOfTypeBJ(u, 0x49303955) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303955))
set Item=CreateItem(0x49303959, x, y)
call UnitAddItem(u, Item)
elseif UnitHasItemOfTypeBJ(u, 0x49303959) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303959))
set Item=CreateItem(0x49303036, x, y)
call UnitAddItem(u, Item)
elseif UnitHasItemOfTypeBJ(u, 0x49303036) == true then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303036))
set Item=CreateItem(0x49303955, x, y)
call UnitAddItem(u, Item)
endif
set pl=null
set ug=null
set u=null
set u2=null
set Item=null
endfunction
function InitTrig_Change_Gift takes nothing returns nothing
set gg_trg_Change_Gift=CreateTrigger()
call TriggerAddAction(gg_trg_Change_Gift, function Trig_Change_Gift_Actions)
endfunction
function Trig_Complect_Valor_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFDC00Бонусы комплекта ''Доблесть'':")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D82 предмета - +6 силы")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D83 предмета - эффект ответного урона усилен на 20%")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D84 предмета - +10 силы, +5 разума")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D85 предметов - регенерация 15 HP и 3 MP в сек. при уровне здоровья ниже 60%")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D86 предметов - враги 4 уровня и ниже наносят герою на 30% меньше урона")
set pl=null
endfunction
function InitTrig_Complect_Valor takes nothing returns nothing
set gg_trg_Complect_Valor=CreateTrigger()
call TriggerAddAction(gg_trg_Complect_Valor, function Trig_Complect_Valor_Actions)
endfunction
function Trig_Complect_Storm_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFDC00Бонусы комплекта ''Шторм'':")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D82 предмета - +6 разума")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D83 предмета - +50 сила умений, применение умений возвращает 25 ед. маны")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D84 предмета - +10 разума, +5 ловкости")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D85 предметов - +150 сила умений, получение урона восстанавливает 1 MP")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D86 предметов - применение способности наносит 250 ед. урона 3 случайным врагам в радиусе 1500 ед.")
set pl=null
endfunction
function InitTrig_Complect_Storm takes nothing returns nothing
set gg_trg_Complect_Storm=CreateTrigger()
call TriggerAddAction(gg_trg_Complect_Storm, function Trig_Complect_Storm_Actions)
endfunction
function Trig_Complect_Abyss_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFDC00Бонусы комплекта ''Бездна'':")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D82 предмета - +6 ловкости")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D83 предмета - атака по врагу наносит дополнительно 75 ед. маг. урона (перезарядка 4 сек.)")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D84 предмета - +10 ловкости, +5 силы")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D85 предметов - +15% наносимый урон")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D86 предметов - удаление 1 ед. случайной характеристики при атаке на врага-героя (перезарядка 1 сек.)")
set pl=null
endfunction
function InitTrig_Complect_Abyss takes nothing returns nothing
set gg_trg_Complect_Abyss=CreateTrigger()
call TriggerAddAction(gg_trg_Complect_Abyss, function Trig_Complect_Abyss_Actions)
endfunction
function Trig_Complect_Hell_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFDC00Бонусы комплекта ''Адский'':")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D82 предмета - +5 ко всем характеристикам")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D83 предмета - герой распространяет ауру (область 400) -15% скорость бега и -15% скорость атаки врагов")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D84 предмета - +8 ко всем характеристикам, +8 пробитие")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D85 предметов - +200 сила умений, применение способностей восстанавливает 100 ед. здоровья")
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFF9ED1D86 предметов - +10% наносимый урон, +10% защита от урона")
set pl=null
endfunction
function InitTrig_Complect_Hell takes nothing returns nothing
set gg_trg_Complect_Hell=CreateTrigger()
call TriggerAddAction(gg_trg_Complect_Hell, function Trig_Complect_Hell_Actions)
endfunction
function T49 takes nothing returns nothing
if ( GetLocalPlayer() == GetTriggerPlayer() ) then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, S2R(SubString(GetEventPlayerChatString(), 5, 9)), 1.00)
endif
endfunction
function T11 takes nothing returns nothing
if ( GetLocalPlayer() == GetTriggerPlayer() ) then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, S2R(SubString(GetEventPlayerChatString(), 6, 10)), 1.00)
endif
endfunction
function T34 takes nothing returns nothing
if ( GetLocalPlayer() == GetTriggerPlayer() ) then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, S2R(SubString(GetEventPlayerChatString(), 3, 10)), 1.00)
endif
endfunction
function T84 takes nothing returns nothing
if ( GetLocalPlayer() == GetTriggerPlayer() ) then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, S2R(SubString(GetEventPlayerChatString(), 4, 10)), 1.00)
endif
endfunction
function InitTrig_Camera_command takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger z=CreateTrigger()
local trigger v=CreateTrigger()
local trigger b=CreateTrigger()
local integer i=7
loop
call TriggerRegisterPlayerChatEvent(t, Player(i), "-cam ", false)
call TriggerRegisterPlayerChatEvent(z, Player(i), "-zoom ", false)
call TriggerRegisterPlayerChatEvent(v, Player(i), "-z ", false)
call TriggerRegisterPlayerChatEvent(b, Player(i), "-з ", false)
exitwhen i == 0
set i=i - 1
endloop
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, 2200.00, 0.00)
call TriggerAddAction(t, function T49)
call TriggerAddAction(z, function T11)
call TriggerAddAction(v, function T34)
call TriggerAddAction(b, function T84)
set z=null
set t=null
set v=null
set b=null
endfunction
function Trig_clear_Actions takes nothing returns nothing
local force f=CreateForce()
if ( IsPlayerInForce(GetTriggerPlayer(), f) ) then
call ClearTextMessages()
endif
call DestroyForce(f)
set f=null
endfunction
function InitTrig_clear takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=7
loop
call TriggerRegisterPlayerChatEvent(t, Player(i), "-clear", false)
exitwhen i == 0
set i=i - 1
endloop
call TriggerAddAction(t, function Trig_clear_Actions)
set t=null
endfunction
function Trig_Pages_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if GetSpellAbilityId() == 0x41304743 then
call RemoveUnit(u)
set u=CreateUnit(pl, 0x6E303350, x, y, 270.00)
call SelectUnitForPlayerSingle(u, pl)
endif
if GetSpellAbilityId() == 0x41304744 then
call RemoveUnit(u)
set u=CreateUnit(pl, 0x6E303032, x, y, 270.00)
call SelectUnitForPlayerSingle(u, pl)
endif
set u=null
set pl=null
endfunction
function InitTrig_Pages takes nothing returns nothing
set gg_trg_Pages=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Pages, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_Pages, function Trig_Pages_Actions)
endfunction
function Trig_TakePoints_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local integer L=GetUnitLevel(u)
local unit u2=GetKillingUnit()
local unit u3
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u2)
local group g
local real dmg
if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true and GetUnitTypeId(u) != 0x6F303238 then
if udg_Modifiers[5] == true then
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x, y))
set dmg=GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.5
set g=CreateGroup()
call GroupEnumUnitsInRange(g, x, y, 300, null)
loop
set u3=FirstOfGroup(g)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g, u3)
endloop
endif
if IsPlayerInForce(pl, udg_AI) == true and udg_Modifiers[4] == true then
if L == 1 then
set L=GetRandomInt(1, 3)
if L == 1 then
set u=CreateUnit(pl, 0x75676F6C, x, y, 270.00)
elseif L == 2 then
set u=CreateUnit(pl, 0x757A6731, x, y, 270.00)
call SaveReal(udg_hash, GetHandleId(u), 3, 0.75)
else
set u=CreateUnit(pl, 0x65303131, x, y, 270.00)
endif
elseif L == 2 then
set L=GetRandomInt(1, 2)
if L == 1 then
set u=CreateUnit(pl, 0x75736C68, x, y, 270.00)
else
set u=CreateUnit(pl, 0x7530314C, x, y, 270.00)
endif
elseif L == 3 then
set L=GetRandomInt(1, 2)
if L == 1 then
set u=CreateUnit(pl, 0x75303135, x, y, 270.00)
else
set u=CreateUnit(pl, 0x6E636177, x, y, 270.00)
endif
elseif L == 4 then
set L=GetRandomInt(1, 2)
if L == 1 then
set u=CreateUnit(pl, 0x75303136, x, y, 270.00)
else
set u=CreateUnit(pl, 0x6E63746C, x, y, 270.00)
endif
elseif L == 5 then
set u=CreateUnit(pl, 0x6E303344, x, y, 270.00)
elseif L == 6 then
set u=CreateUnit(pl, 0x68303158, x, y, 270.00)
elseif L == 7 then
set u=CreateUnit(pl, 0x6E636D77, x, y, 270.00)
endif
else
if L == 1 then
set u=CreateUnit(pl, 0x6E303030, x, y, 270.00)
elseif L == 2 then
set u=CreateUnit(pl, 0x6E303032, x, y, 270.00)
elseif L == 3 then
set u=CreateUnit(pl, 0x6E303031, x, y, 270.00)
elseif L == 4 then
set u=CreateUnit(pl, 0x6E303033, x, y, 270.00)
elseif L == 5 then
set u=CreateUnit(pl, 0x6E303155, x, y, 270.00)
elseif L == 6 then
set u=CreateUnit(pl, 0x68303158, x, y, 270.00)
elseif L == 7 then
set u=CreateUnit(pl, 0x6E303638, x, y, 270.00)
endif
endif
if L > 0 then
call SetUnitX(u, x)
call SetUnitY(u, y)
endif
endif
set u=null
set u2=null
set u3=null
set pl=null
call DestroyGroup(g)
set g=null
endfunction
function InitTrig_TakePoints takes nothing returns nothing
set gg_trg_TakePoints=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TakePoints, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_TakePoints, function Trig_TakePoints_Actions)
endfunction
function Trig_ChangePoints_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer L
if GetSpellAbilityId() == 0x41303356 then
set udg_CTPoint[n]=GetSpellTargetUnit()
call DialogClear(udg_CTWindow[n])
call DialogSetMessage(udg_CTWindow[n], "Передать/удалить")
set L=1
loop
exitwhen L > 8
if Player(L - 1) != pl and GetPlayerController(Player(L - 1)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(L - 1)) == PLAYER_SLOT_STATE_PLAYING then
set udg_CTButton[L + ( n - 1 ) * 9]=DialogAddButton(udg_CTWindow[n], PlayerName[L], 0)
endif
set L=L + 1
endloop
set udg_CTButton[9]=DialogAddButton(udg_CTWindow[n], "|cFFFFDC00Удалить строение|r", 0)
set udg_CTButton[72]=DialogAddButton(udg_CTWindow[n], "|cFFFFDC00Отмена|r", 0)
call DialogDisplay(pl, udg_CTWindow[n], true)
endif
set u=null
set pl=null
endfunction
function InitTrig_ChangePoints takes nothing returns nothing
set gg_trg_ChangePoints=CreateTrigger()
call TriggerAddAction(gg_trg_ChangePoints, function Trig_ChangePoints_Actions)
endfunction
function Trig_ButtonChangePoints_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl) + 1
local integer n2
local integer n3
local integer check
local integer UT
local button b=GetClickedButton()
local integer L
local integer L2
local real x
local real y
if GetUnitState(udg_CTPoint[n], UNIT_STATE_LIFE) <= 0 or b == udg_CTButton[72] then
set pl=null
set b=null
return
endif
if b == udg_CTButton[9] then
set n2=0
set n3=GetUnitLevel(udg_CTPoint[n])
set x=GetUnitX(udg_CTPoint[n])
set y=GetUnitY(udg_CTPoint[n])
set UT=GetUnitTypeId(udg_CTPoint[n])
if UT == 0x68303039 or UT == 0x6830314A then
set udg_Income[n]=udg_Income[n] - 1
elseif UT == 0x68303041 or UT == 0x6830314B or UT == 0x68303136 then
set udg_Income[n]=udg_Income[n] - 2
elseif UT == 0x68303042 or UT == 0x68303156 then
set udg_Income[n]=udg_Income[n] - 3
elseif UT == 0x68303137 then
set udg_Income[n]=udg_Income[n] - 4
elseif UT == 0x68303138 then
set udg_Income[n]=udg_Income[n] - 6
elseif UT == 0x6830334B then
set udg_SIncome[n]=udg_SIncome[n] - 100
elseif UT == 0x6830334C then
set udg_SIncome[n]=udg_SIncome[n] - 200
elseif UT == 0x6830334D then
set udg_SIncome[n]=udg_SIncome[n] - 300
elseif UT == 0x68303130 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 4
elseif UT == 0x6E30344A or UT == 0x6E30344B or UT == 0x6E303639 or UT == 0x6E303641 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 1
endif
if LoadInteger(udg_hash, GetHandleId(pl), 10) == 1 then
if UT == 0x68303048 or UT == 0x6F303038 or UT == 0x75303036 or UT == 0x68303056 or UT == 0x68303245 or UT == 0x6E30314C or UT == 0x68636173 or UT == 0x6F303244 or UT == 0x6830324E then
set udg_SIncome[n]=udg_SIncome[n] - 40
endif
endif
call RemoveUnit(udg_CTPoint[n])
if n3 == 1 then
call CreateUnit(pl, 0x6E303030, x, y, 270.00)
elseif n3 == 2 then
call CreateUnit(pl, 0x6E303032, x, y, 270.00)
elseif n3 == 3 then
call CreateUnit(pl, 0x6E303031, x, y, 270.00)
elseif n3 == 4 then
call CreateUnit(pl, 0x6E303033, x, y, 270.00)
elseif n3 == 5 then
call CreateUnit(pl, 0x6E303155, x, y, 270.00)
elseif n3 == 6 then
call CreateUnit(pl, 0x68303158, x, y, 270.00)
elseif n3 == 7 then
call CreateUnit(pl, 0x6E303638, x, y, 270.00)
endif
set pl=null
set b=null
return
endif
set L2=1
loop
exitwhen L2 > 8
set L=0
loop
exitwhen L > 7
set check=( L * 9 ) + L2
if b == udg_CTButton[check] then
set n2=L2
endif
set L=L + 1
endloop
set L2=L2 + 1
endloop
set UT=GetUnitTypeId(udg_CTPoint[n])
set L=GetPlayerState(Player(n2 - 1), PLAYER_STATE_RESOURCE_FOOD_CAP) - GetPlayerState(Player(n2 - 1), PLAYER_STATE_RESOURCE_FOOD_USED)
if ( UT == 0x68303136 or UT == 0x68303137 or UT == 0x68303138 ) and ( L < 10 ) then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF0000Игроку не хватает пищи для строения!|r")
set pl=null
set b=null
return
elseif ( UT == 0x6830334B or UT == 0x6830334C or UT == 0x6830334D ) and ( L < 5 ) then
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF0000Игроку не хватает пищи для строения!|r")
set pl=null
set b=null
return
endif
set UT=GetUnitTypeId(udg_CTPoint[n])
if UT == 0x68303039 or UT == 0x6830314A then
set udg_Income[n]=udg_Income[n] - 1
set udg_Income[n2]=udg_Income[n2] + 1
elseif UT == 0x68303041 or UT == 0x6830314B or UT == 0x68303136 then
set udg_Income[n]=udg_Income[n] - 2
set udg_Income[n2]=udg_Income[n2] + 2
elseif UT == 0x68303042 or UT == 0x68303156 then
set udg_Income[n]=udg_Income[n] - 3
set udg_Income[n2]=udg_Income[n2] + 3
elseif UT == 0x68303137 then
set udg_Income[n]=udg_Income[n] - 4
set udg_Income[n2]=udg_Income[n2] + 4
elseif UT == 0x68303138 then
set udg_Income[n]=udg_Income[n] - 6
set udg_Income[n2]=udg_Income[n2] + 6
elseif UT == 0x6830334B then
set udg_SIncome[n]=udg_SIncome[n] - 100
set udg_SIncome[n2]=udg_SIncome[n2] + 100
elseif UT == 0x6830334C then
set udg_SIncome[n]=udg_SIncome[n] - 200
set udg_SIncome[n2]=udg_SIncome[n2] + 200
elseif UT == 0x6830334D then
set udg_SIncome[n]=udg_SIncome[n] - 300
set udg_SIncome[n2]=udg_SIncome[n2] + 300
elseif UT == 0x68303130 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 4
set udg_ExpIncome[n2]=udg_ExpIncome[n2] + 4
elseif UT == 0x6E30344A or UT == 0x6E30344B or UT == 0x6E303639 or UT == 0x6E303641 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 1
set udg_ExpIncome[n2]=udg_ExpIncome[n2] + 1
endif
if LoadInteger(udg_hash, GetHandleId(pl), 10) == 1 then
if UT == 0x68303048 or UT == 0x6F303038 or UT == 0x75303036 or UT == 0x68303056 or UT == 0x68303245 or UT == 0x6E30314C or UT == 0x68636173 or UT == 0x6F303244 or UT == 0x6830324E then
set udg_SIncome[n]=udg_SIncome[n] - 40
endif
endif
if LoadInteger(udg_hash, GetHandleId(Player(n2)), 10) == 1 then
if UT == 0x68303048 or UT == 0x6F303038 or UT == 0x75303036 or UT == 0x68303056 or UT == 0x68303245 or UT == 0x6E30314C or UT == 0x68636173 or UT == 0x6F303244 or UT == 0x6830324E then
set udg_SIncome[n2]=udg_SIncome[n2] + 40
endif
endif
call SetUnitOwner(udg_CTPoint[n], Player(n2 - 1), true)
set pl=null
set b=null
endfunction
function InitTrig_ButtonChangePoints takes nothing returns nothing
set gg_trg_ButtonChangePoints=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[1])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[2])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[3])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[4])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[5])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[6])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[7])
call TriggerRegisterDialogEvent(gg_trg_ButtonChangePoints, udg_CTWindow[8])
call TriggerAddAction(gg_trg_ButtonChangePoints, function Trig_ButtonChangePoints_Actions)
endfunction
function Trig_DeadCrystal_Restore takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SetUnitInvulnerable(u, false)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function GoldDrop1 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72686532, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x726D616E, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
elseif random > 75 then
call CreateItem(0x6D616E68, x, y)
endif
endfunction
function StrDrop1 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x74737472, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74737432, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
elseif random > 75 then
call CreateItem(0x6D616E68, x, y)
endif
endfunction
function AgiDrop1 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x74646578, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74647832, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
elseif random > 75 then
call CreateItem(0x6D616E68, x, y)
endif
endfunction
function IntDrop1 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x74696E74, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74696E32, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
elseif random > 75 then
call CreateItem(0x6D616E68, x, y)
endif
endfunction
function SpdDrop1 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72726531, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x72686531, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
elseif random > 75 then
call CreateItem(0x6D616E68, x, y)
endif
endfunction
function GoldDrop2 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72726562, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x726D616E, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x72686532, x, y)
endif
elseif random > 75 and random <= 90 then
call CreateItem(0x6D616E68, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x72686532, x, y)
endif
elseif random > 90 then
call CreateItem(0x67757669, x, y)
endif
endfunction
function StrDrop2 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72776174, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74737432, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74737472, x, y)
endif
elseif random > 75 and random <= 90 then
call CreateItem(0x6D616E68, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74737472, x, y)
endif
elseif random > 90 then
call CreateItem(0x6C6D6272, x, y)
endif
endfunction
function AgiDrop2 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72737064, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74647832, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74646578, x, y)
endif
elseif random > 75 and random <= 90 then
call CreateItem(0x6D616E68, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74646578, x, y)
endif
elseif random > 90 then
call CreateItem(0x676F6D6E, x, y)
endif
endfunction
function IntDrop2 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x7273706C, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x74696E32, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74696E74, x, y)
endif
elseif random > 75 and random <= 90 then
call CreateItem(0x6D616E68, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x74696E74, x, y)
endif
elseif random > 90 then
call CreateItem(0x67666F72, x, y)
endif
endfunction
function SpdDrop2 takes real x,real y returns nothing
local integer random=GetRandomInt(1, 100)
if random <= 25 then
call CreateItem(0x72646973, x, y)
elseif random > 25 and random <= 50 then
call CreateItem(0x72686531, x, y)
elseif random > 50 and random <= 75 then
call CreateItem(0x74657870, x, y)
set random=GetRandomInt(1, 2)
if random == 2 then
call CreateItem(0x72726531, x, y)
endif
elseif random > 75 and random <= 90 then
call CreateItem(0x6D616E68, x, y)
if random == 2 then
call CreateItem(0x72726531, x, y)
endif
elseif random > 90 then
call CreateItem(0x74706F77, x, y)
endif
endfunction
function Trig_DeadCrystal_Actions takes nothing returns nothing
local timer t
local unit u=GetDyingUnit()
local integer Id=GetUnitTypeId(u)
local player pl=Player(15)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer random=GetRandomInt(1, 100)
if Id == 0x6E303330 or Id == 0x6E303331 or Id == 0x6E303332 or Id == 0x6E303333 or Id == 0x6E303354 or Id == 0x6E303556 or Id == 0x6E303558 or Id == 0x6E303557 or Id == 0x6E303559 or Id == 0x6E30355A then
set u=CreateUnit(pl, Id, x, y, 0)
call SetUnitInvulnerable(u, true)
call SetUnitAnimation(u, "birth")
if Id == 0x6E303330 then
call CreateItem(0x72737073, x, y)
call GoldDrop1(x , y)
if random > 97 then
call CreateItem(0x67757669, x, y)
endif
elseif Id == 0x6E303331 then
call CreateItem(0x72726573, x, y)
call StrDrop1(x , y)
if random > 97 then
call CreateItem(0x6C6D6272, x, y)
endif
elseif Id == 0x6E303332 then
call CreateItem(0x72726573, x, y)
call AgiDrop1(x , y)
if random > 97 then
call CreateItem(0x676F6D6E, x, y)
endif
elseif Id == 0x6E303333 then
call CreateItem(0x72726573, x, y)
call IntDrop1(x , y)
if random > 97 then
call CreateItem(0x67666F72, x, y)
endif
elseif Id == 0x6E303354 then
call CreateItem(0x72726573, x, y)
call SpdDrop1(x , y)
if random > 97 then
call CreateItem(0x74706F77, x, y)
endif
elseif Id == 0x6E303556 then
call CreateItem(0x72686532, x, y)
call GoldDrop1(x , y)
call GoldDrop1(x , y)
call GoldDrop2(x , y)
elseif Id == 0x6E303558 then
call CreateItem(0x72726573, x, y)
call CreateItem(0x74737472, x, y)
call StrDrop1(x , y)
call StrDrop1(x , y)
call StrDrop2(x , y)
elseif Id == 0x6E303557 then
call CreateItem(0x72726573, x, y)
call CreateItem(0x74646578, x, y)
call AgiDrop1(x , y)
call AgiDrop1(x , y)
call AgiDrop2(x , y)
elseif Id == 0x6E303559 then
call CreateItem(0x72726573, x, y)
call CreateItem(0x74696E74, x, y)
call IntDrop1(x , y)
call IntDrop1(x , y)
call IntDrop2(x , y)
elseif Id == 0x6E30355A then
call CreateItem(0x72726573, x, y)
call CreateItem(0x72726531, x, y)
call SpdDrop1(x , y)
call SpdDrop1(x , y)
call SpdDrop2(x , y)
endif
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 60, true, function Trig_DeadCrystal_Restore)
endif
set t=null
set u=null
set pl=null
endfunction
function InitTrig_DeadCrystal takes nothing returns nothing
set gg_trg_DeadCrystal=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_DeadCrystal, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_DeadCrystal, function Trig_DeadCrystal_Actions)
endfunction
function Trig_IMET_Actions takes nothing returns nothing
local integer L
call PreloadGenClear()
set Pname[1]=GetPlayerName(Player(0))
set Pname[2]=GetPlayerName(Player(1))
set Pname[3]=GetPlayerName(Player(2))
set Pname[4]=GetPlayerName(Player(3))
set Pname[5]=GetPlayerName(Player(4))
set Pname[6]=GetPlayerName(Player(5))
set Pname[7]=GetPlayerName(Player(6))
set Pname[8]=GetPlayerName(Player(7))
set L=1
loop
exitwhen L > 8
if Pname[L] == "Лорит" then
set Pname[L]="Lorit"
endif
set L=L + 1
endloop
endfunction
function InitTrig_IMET takes nothing returns nothing
set gg_trg_IMET=CreateTrigger()
call TriggerAddAction(gg_trg_IMET, function Trig_IMET_Actions)
endfunction
function Trig_ISOV_Actions takes nothing returns nothing
local integer array ran
local integer a
local integer a2
local string ss
local player pl=GetTriggerPlayer()
local integer i=GetPlayerId(pl)
local string array q
local string t2g
local string array w
local string fc
local string array e
if ExpGo[i] > 9999999 then
set ExpGo[i]=9999999
endif
if ExpGo[i] < 10 then
set t2g="000000" + I2S(ExpGo[i])
endif
if ExpGo[i] < 100 and ExpGo[i] >= 10 then
set t2g="00000" + I2S(ExpGo[i])
endif
if ExpGo[i] < 1000 and ExpGo[i] >= 100 then
set t2g="0000" + I2S(ExpGo[i])
endif
if ExpGo[i] < 10000 and ExpGo[i] >= 1000 then
set t2g="000" + I2S(ExpGo[i])
endif
if ExpGo[i] < 100000 and ExpGo[i] >= 10000 then
set t2g="00" + I2S(ExpGo[i])
endif
if ExpGo[i] < 1000000 and ExpGo[i] >= 100000 then
set t2g="0" + I2S(ExpGo[i])
endif
if ExpGo[i] >= 1000000 then
set t2g=I2S(ExpGo[i])
endif
if ExpGo[i] == 0 then
set t2g="0000000"
endif
set ss=SubString(t2g, 0, 1)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[1]=SubString(alpbS, ran[1] - 1, ran[1])
set ran[1]=GetRandomInt(14, 16)
set e[1]=SubString(alpbB, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[1]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
set ran[1]=GetRandomInt(4, 6)
set e[1]=SubString(alpbB, ran[1] - 1, ran[1])
endif
set ss=SubString(t2g, 1, 2)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[2]=SubString(alpbS, ran[1] - 1, ran[1])
set ran[1]=GetRandomInt(3, 6)
set e[2]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[2]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
set ran[1]=GetRandomInt(13, 16)
set e[2]=SubString(alpbS, ran[1] - 1, ran[1])
endif
set ss=SubString(t2g, 2, 3)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[3]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[3]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
endif
set ss=SubString(t2g, 3, 4)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[4]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[4]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
endif
set ss=SubString(t2g, 4, 5)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[5]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[5]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
endif
set ss=SubString(t2g, 5, 6)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[6]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[6]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
endif
set ss=SubString(t2g, 6, 7)
if ss == "0" then
set ran[1]=GetRandomInt(1, 27)
set w[7]=SubString(alpbS, ran[1] - 1, ran[1])
else
set a=27
loop
exitwhen a > 35
if ss == SubString(alpbB, a - 1, a) then
set w[7]=SubString(alpbB, a - 14, a - 13)
set a=100
endif
set a=a + 1
endloop
endif
call TriggerSleepAction(0.01)
set ss=SubString(Pname[i + 1], 0, 1)
set a=1
loop
exitwhen a > 37
if ss == SubString(alpbB, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[1]=SubString(alpbB, a2 - 11, a2 - 10)
else
set q[1]=SubString(alpbB, a - 11, a - 10)
endif
set a=100
elseif ss == SubString(alpbS, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[1]=SubString(alpbS, a2 - 11, a2 - 10)
else
set q[1]=SubString(alpbS, a - 11, a - 10)
endif
set a=100
endif
set a=a + 1
endloop
set ss=SubString(Pname[i + 1], 1, 2)
set a=1
loop
exitwhen a > 37
if ss == SubString(alpbB, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[2]=SubString(alpbB, a2 - 11, a2 - 10)
else
set q[2]=SubString(alpbB, a - 11, a - 10)
endif
set a=100
elseif ss == SubString(alpbS, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[2]=SubString(alpbS, a2 - 11, a2 - 10)
else
set q[2]=SubString(alpbS, a - 11, a - 10)
endif
set a=100
endif
set a=a + 1
endloop
set ss=SubString(Pname[i + 1], 2, 3)
set a=1
loop
exitwhen a > 37
if ss == SubString(alpbB, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[3]=SubString(alpbB, a2 - 11, a2 - 10)
else
set q[3]=SubString(alpbB, a - 11, a - 10)
endif
set a=100
elseif ss == SubString(alpbS, a - 1, a) then
if a < 11 then
set a2=a + 15
set q[3]=SubString(alpbS, a2 - 11, a2 - 10)
else
set q[3]=SubString(alpbS, a - 11, a - 10)
endif
set a=100
endif
set a=a + 1
endloop
set ran[2]=GetRandomInt(1, 36)
set ran[3]=GetRandomInt(1, 36)
set ran[4]=GetRandomInt(1, 36)
set ran[5]=GetRandomInt(1, 36)
set ran[6]=GetRandomInt(1, 36)
set ran[7]=GetRandomInt(1, 36)
set ran[8]=GetRandomInt(1, 36)
set ran[9]=GetRandomInt(1, 36)
set ran[10]=GetRandomInt(1, 2)
if ran[10] == 1 then
set fc=SubString(alpbS, ran[2] - 1, ran[2]) + w[5] + e[1] + q[2] + w[1] + e[2] + SubString(alpbB, ran[4] - 1, ran[4]) + w[2] + SubString(alpbB, ran[5] - 1, ran[5]) + w[4] + q[1] + SubString(alpbS, ran[5] - 1, ran[5]) + q[3] + SubString(alpbS, ran[2] - 1, ran[2]) + SubString(alpbB, ran[7] - 1, ran[7]) + w[3] + SubString(alpbB, ran[6] - 1, ran[6]) + w[6] + SubString(alpbS, ran[3] - 1, ran[3]) + w[7] + SubString(alpbS, ran[9] - 1, ran[9])
else
set fc=SubString(alpbS, ran[2] - 1, ran[2]) + w[5] + e[1] + q[2] + w[1] + e[2] + SubString(alpbS, ran[4] - 1, ran[4]) + w[2] + SubString(alpbB, ran[5] - 1, ran[5]) + w[4] + q[1] + SubString(alpbB, ran[5] - 1, ran[5]) + q[3] + SubString(alpbB, ran[2] - 1, ran[2]) + SubString(alpbS, ran[7] - 1, ran[7]) + w[3] + SubString(alpbB, ran[8] - 1, ran[8]) + w[6] + SubString(alpbS, ran[3] - 1, ran[3]) + w[7] + SubString(alpbS, ran[9] - 1, ran[9])
endif
if GetLocalPlayer() == pl then
call ClearTextMessages()
endif
call DisplayTimedTextToPlayer(pl, 0., 0., 30., "|cFF07EDE6Вы набрали очков:|cFFFFDC00 " + I2S(ExpGo[i]))
call DisplayTimedTextToPlayer(pl, 0., 0., 30., "|cFF07EDE6Ваш код:|cFFFFDC00 -load " + fc)
call DisplayTimedTextToPlayer(pl, 0., 0., 30., "|cFF07EDE6Код загрузки сохранен в папку |cFFFFDC00''UD saves''|r, |cFF07EDE6эту папку вы найдёте в директории игры.")
if GetLocalPlayer() == pl then
call Preload(fc)
call PreloadGenEnd("UD Saves\\" + Pname[i + 1] + "\\Exp{" + I2S(ExpGo[i]) + "}\\-load " + fc + ".txt")
call PreloadGenClear()
endif
set pl=null
endfunction
function InitTrig_ISOV takes nothing returns nothing
set gg_trg_ISOV=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(0), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(1), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(2), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(3), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(4), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(5), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(6), "-save", true)
call TriggerRegisterPlayerChatEvent(gg_trg_ISOV, Player(7), "-save", true)
call TriggerAddAction(gg_trg_ISOV, function Trig_ISOV_Actions)
endfunction
function Trig_ILOD_Actions takes nothing returns nothing
local string array dc
local string array lc
local string array l2
local string array l3
local string fc
local player pl=GetTriggerPlayer()
local integer i=GetPlayerId(pl)
local integer a
local integer r=0
local string s=GetEventPlayerChatString()
set dc[1]=SubString(s, 10, 11)
set dc[2]=SubString(s, 13, 14)
set dc[3]=SubString(s, 21, 22)
set dc[4]=SubString(s, 15, 16)
set dc[5]=SubString(s, 7, 8)
set dc[6]=SubString(s, 23, 24)
set dc[7]=SubString(s, 25, 26)
set dc[8]=SubString(s, 16, 17)
set dc[9]=SubString(s, 9, 10)
set dc[10]=SubString(s, 18, 19)
if SubString(s, 26, 27) == null or SubString(s, 25, 26) == null or SubString(s, 24, 25) == null then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
if IsPlayerInForce(pl, NaB) then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Вы уже загружали код...|r")
set pl=null
return
endif
set a=1
loop
exitwhen a > 37
if dc[8] == SubString(alpbB, a - 1, a) then
set l2[1]=SubString(alpbB, a + 9, a + 10)
endif
if dc[8] == SubString(alpbS, a - 1, a) then
set l2[1]=SubString(alpbS, a + 9, a + 10)
endif
if dc[8] == SubString(alpbB, a - 1, a) then
set l3[1]=SubString(alpbB, a - 6, a - 5)
endif
if dc[8] == SubString(alpbS, a - 1, a) then
set l3[1]=SubString(alpbS, a - 6, a - 5)
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[9] == SubString(alpbB, a - 1, a) then
set l2[2]=SubString(alpbB, a + 9, a + 10)
endif
if dc[9] == SubString(alpbS, a - 1, a) then
set l2[2]=SubString(alpbS, a + 9, a + 10)
endif
if dc[9] == SubString(alpbB, a - 1, a) then
set l3[2]=SubString(alpbB, a - 6, a - 5)
endif
if dc[9] == SubString(alpbS, a - 1, a) then
set l3[2]=SubString(alpbS, a - 6, a - 5)
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[10] == SubString(alpbB, a - 1, a) then
set l2[3]=SubString(alpbB, a + 9, a + 10)
endif
if dc[10] == SubString(alpbS, a - 1, a) then
set l2[3]=SubString(alpbS, a + 9, a + 10)
endif
if dc[10] == SubString(alpbB, a - 1, a) then
set l3[3]=SubString(alpbB, a - 6, a - 5)
endif
if dc[10] == SubString(alpbS, a - 1, a) then
set l3[3]=SubString(alpbS, a - 6, a - 5)
endif
set a=a + 1
endloop
call TriggerSleepAction(0.01)
if l2[1] == SubString(Pname[i + 1], 0, 1) or l3[1] == SubString(Pname[i + 1], 0, 1) then
set r=r + 1
else
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
if l2[2] == SubString(Pname[i + 1], 1, 2) or l3[2] == SubString(Pname[i + 1], 1, 2) then
set r=r + 1
else
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
if l2[3] == SubString(Pname[i + 1], 2, 3) or l3[3] == SubString(Pname[i + 1], 2, 3) then
set r=r + 1
else
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
set a=1
loop
exitwhen a > 37
if dc[1] == SubString(alpbB, a + 12, a + 13) then
set lc[1]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[2] == SubString(alpbB, a + 12, a + 13) then
set lc[2]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[3] == SubString(alpbB, a + 12, a + 13) then
set lc[3]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[4] == SubString(alpbB, a + 12, a + 13) then
set lc[4]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[5] == SubString(alpbB, a + 12, a + 13) then
set lc[5]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[6] == SubString(alpbB, a + 12, a + 13) then
set lc[6]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[7] == SubString(alpbB, a + 12, a + 13) then
set lc[7]=I2S(a)
set a=100
endif
set a=a + 1
endloop
set a=1
loop
exitwhen a > 37
if dc[1] == SubString(alpbS, a - 1, a) then
set lc[1]="0"
endif
if dc[2] == SubString(alpbS, a - 1, a) then
set lc[2]="0"
endif
if dc[3] == SubString(alpbS, a - 1, a) then
set lc[3]="0"
endif
if dc[4] == SubString(alpbS, a - 1, a) then
set lc[4]="0"
endif
if dc[5] == SubString(alpbS, a - 1, a) then
set lc[5]="0"
endif
if dc[6] == SubString(alpbS, a - 1, a) then
set lc[6]="0"
endif
if dc[7] == SubString(alpbS, a - 1, a) then
set lc[7]="0"
endif
set a=a + 1
endloop
if lc[1] == "0" then
if SubString(s, 8, 9) != SubString(alpbB, 13, 14) and SubString(s, 8, 9) != SubString(alpbB, 14, 15) and SubString(s, 8, 9) != SubString(alpbB, 15, 16) then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
endif
if lc[1] != "0" then
if SubString(s, 8, 9) != SubString(alpbB, 3, 4) and SubString(s, 8, 9) != SubString(alpbB, 4, 5) and SubString(s, 8, 9) != SubString(alpbB, 5, 6) then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
endif
if lc[2] == "0" then
if SubString(s, 11, 12) != SubString(alpbS, 2, 3) and SubString(s, 11, 12) != SubString(alpbS, 3, 4) and SubString(s, 11, 12) != SubString(alpbS, 4, 5) and SubString(s, 11, 12) != SubString(alpbS, 5, 6) then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
endif
if lc[2] != "0" then
if SubString(s, 11, 12) != SubString(alpbS, 12, 13) and SubString(s, 11, 12) != SubString(alpbS, 13, 14) and SubString(s, 11, 12) != SubString(alpbS, 14, 15) and SubString(s, 11, 12) != SubString(alpbS, 15, 16) then
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
endif
if r == 3 then
set fc=lc[1] + lc[2] + lc[3] + lc[4] + lc[5] + lc[6] + lc[7]
set ExpGo[i]=S2I(fc)
call DisplayTextToPlayer(pl, 0, 0, "Ваши очки загружены, текущее количество: |cffffcc00" + I2S(ExpGo[i]))
set udg_pl=pl
set udg_Points[i + 1]=ExpGo[i]
call TriggerExecute(gg_trg_CheckLvl)
call ForceAddPlayer(NaB, pl)
else
call DisplayTextToPlayer(pl, 0., 0., "|c00FF0000Упс... Вышла какая-то ошибка...|r")
set pl=null
return
endif
set pl=null
endfunction
function InitTrig_ILOD takes nothing returns nothing
set gg_trg_ILOD=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(0), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(1), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(2), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(3), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(4), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(5), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(6), "-load", false)
call TriggerRegisterPlayerChatEvent(gg_trg_ILOD, Player(7), "-load", false)
call TriggerAddAction(gg_trg_ILOD, function Trig_ILOD_Actions)
endfunction
function Trig_CheckLvl_Actions takes nothing returns nothing
local player pl=udg_pl
local integer n=GetPlayerId(pl) + 1
local integer gold=GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD)
if IsPlayerInForce(pl, udg_CheckSaveGroup) == true then
set pl=null
return
else
call ForceAddPlayer(udg_CheckSaveGroup, pl)
endif
if ExpGo[n - 1] >= 4000000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90070 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +400 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+13% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 70]")
call SetPlayerTechResearched(pl, 0x52303049, 70)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 400)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.13
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.13)
elseif ExpGo[n - 1] >= 3750000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90069 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +390 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+12% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 69]")
call SetPlayerTechResearched(pl, 0x52303049, 69)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 390)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.12
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.12)
elseif ExpGo[n - 1] >= 3500000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90068 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +380 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+12% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 68]")
call SetPlayerTechResearched(pl, 0x52303049, 68)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 380)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.12
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.12)
elseif ExpGo[n - 1] >= 3250000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90067 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +370 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+12% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 67]")
call SetPlayerTechResearched(pl, 0x52303049, 67)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 370)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.12
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.12)
elseif ExpGo[n - 1] >= 3000000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90066 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +360 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+12% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 66]")
call SetPlayerTechResearched(pl, 0x52303049, 66)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 360)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.12
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.12)
elseif ExpGo[n - 1] >= 2800000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90065 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +350 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+12% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 65]")
call SetPlayerTechResearched(pl, 0x52303049, 65)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 350)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.12
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.12)
elseif ExpGo[n - 1] >= 2600000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90064 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +340 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+11% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 64]")
call SetPlayerTechResearched(pl, 0x52303049, 64)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 340)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.11
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.11)
elseif ExpGo[n - 1] >= 2400000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90063 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +330 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+11% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 63]")
call SetPlayerTechResearched(pl, 0x52303049, 63)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 330)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.11
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.11)
elseif ExpGo[n - 1] >= 2200000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90062 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +320 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+11% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 62]")
call SetPlayerTechResearched(pl, 0x52303049, 62)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 320)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.11
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.11)
elseif ExpGo[n - 1] >= 2000000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90061 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +310 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+11% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 61]")
call SetPlayerTechResearched(pl, 0x52303049, 61)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 310)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.11
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.11)
elseif ExpGo[n - 1] >= 1900000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90060 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +300 gold, +8 food, +1 item \"Особый (2 ур.)\"\n+100 (+50) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+11% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 60]")
call SetPlayerTechResearched(pl, 0x52303049, 60)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 18)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.11
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.11)
elseif ExpGo[n - 1] >= 1800000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90059 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +24% HP, +3 HP regen, +3 MP regen, +12% atk speed\nBuildings: +36% HP, +12% atk speed\nOther: +300 gold, +6 food, +1 item \"Особый (2 ур.)\"\n+50 (+25) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 59]")
call SetPlayerTechResearched(pl, 0x52303049, 59)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 12)
call SetPlayerTechResearched(pl, 0x5230305A, 12)
call SetPlayerTechResearched(pl, 0x52303130, 12)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.10
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.10)
elseif ExpGo[n - 1] >= 1700000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90058 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +240 HP, +140 MP, +200 spell power, +14 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +22% HP, +2.75 HP regen, +2.75 MP regen, +12% atk speed\nBuildings: +33% HP, +12% atk speed\nOther: +300 gold, +6 food, +1 item \"Особый (2 ур.)\"\n+50 (+25) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 58]")
call SetPlayerTechResearched(pl, 0x52303049, 58)
call SetPlayerTechResearched(pl, 0x5230304F, 11)
call SetPlayerTechResearched(pl, 0x52303050, 11)
call SetPlayerTechResearched(pl, 0x5230305A, 11)
call SetPlayerTechResearched(pl, 0x52303130, 11)
call SetPlayerTechResearched(pl, 0x52303134, 6)
call SetPlayerTechResearched(pl, 0x52303135, 6)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.10
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.10)
elseif ExpGo[n - 1] >= 1600000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90057 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +200 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +22% HP, +2.75 HP regen, +2.75 MP regen, +12% atk speed\nBuildings: +33% HP, +12% atk speed\nOther: +300 gold, +6 food, +1 item \"Особый (2 ур.)\"\n+50 (+25) gold for random pick, +30 1-min income\n+50 gold for killing enemy hero, -5% res time\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 57]")
call SetPlayerTechResearched(pl, 0x52303049, 57)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 11)
call SetPlayerTechResearched(pl, 0x5230305A, 11)
call SetPlayerTechResearched(pl, 0x52303130, 11)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.10
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.10)
elseif ExpGo[n - 1] >= 1500000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90056 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +200 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +22% HP, +2.75 HP regen, +2.75 MP regen, +12% atk speed\nBuildings: +33% HP, +12% atk speed\nOther: +300 gold, +6 food, +1 item \"Особый (2 ур.)\"\n+50 (+25) gold for random pick, +30 1-min income\n+25 gold for killing enemy hero\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 56]")
call SetPlayerTechResearched(pl, 0x52303049, 56)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 11)
call SetPlayerTechResearched(pl, 0x5230305A, 11)
call SetPlayerTechResearched(pl, 0x52303130, 11)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 30
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.10
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.10)
elseif ExpGo[n - 1] >= 1400000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90055 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +190 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +22% HP, +2.75 HP regen, +2.75 MP regen, +12% atk speed\nBuildings: +33% HP, +12% atk speed\nOther: +280 gold, +6 food, +1 item \"Особый (2 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 55]")
call SetPlayerTechResearched(pl, 0x52303049, 55)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 11)
call SetPlayerTechResearched(pl, 0x5230305A, 11)
call SetPlayerTechResearched(pl, 0x52303130, 11)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 280)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 190
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.10
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.10)
elseif ExpGo[n - 1] >= 1300000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90054 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +190 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +22% HP, +2.75 HP regen, +2.75 MP regen, +12% atk speed\nBuildings: +33% HP, +12% atk speed\nOther: +280 gold, +6 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+10% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 54]")
call SetPlayerTechResearched(pl, 0x52303049, 54)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 11)
call SetPlayerTechResearched(pl, 0x5230305A, 11)
call SetPlayerTechResearched(pl, 0x52303130, 11)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 280)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 190
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.09
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.09)
elseif ExpGo[n - 1] >= 1200000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90053 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +190 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +12% atk speed\nBuildings: +30% HP, +12% atk speed\nOther: +280 gold, +6 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+9% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 53]")
call SetPlayerTechResearched(pl, 0x52303049, 53)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 280)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 190
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 16)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.09
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.09)
elseif ExpGo[n - 1] >= 1100000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90052 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +220 HP, +120 MP, +180 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +12% atk speed\nBuildings: +30% HP, +12% atk speed\nOther: +260 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+9% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 52]")
call SetPlayerTechResearched(pl, 0x52303049, 52)
call SetPlayerTechResearched(pl, 0x5230304F, 10)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 2)
call SetPlayerTechResearched(pl, 0x52303253, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 260)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 180
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.09
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.09)
elseif ExpGo[n - 1] >= 1000000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90051 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +120 MP, +180 spell power, +12 atk, +3 all stats, +30 ms, +10% hero exp\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +8% atk speed\nBuildings: +30% HP, +8% atk speed\nOther: +260 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+9% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 51]")
call SetPlayerTechResearched(pl, 0x52303049, 51)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 260)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 180
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.09
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.09)
elseif ExpGo[n - 1] >= 900000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90050 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +120 MP, +170 spell power, +12 atk, +2 all stats, +30 ms, +10% hero exp\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +8% atk speed\nBuildings: +30% HP, +8% atk speed\nOther: +240 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+9% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 50]")
call SetPlayerTechResearched(pl, 0x52303049, 50)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 240)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 170
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_PlayerExpHandicap[n]=udg_PlayerExpHandicap[n] + 0.10
call SetPlayerHandicapXP(pl, udg_PlayerExpHandicap[n])
set udg_ModReward=udg_ModReward + 0.09
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.09)
elseif ExpGo[n - 1] >= 850000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90049 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +120 MP, +170 spell power, +12 atk, +2 all stats, +30 ms\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +8% atk speed\nBuildings: +30% HP, +8% atk speed\nOther: +240 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+8% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 49]")
call SetPlayerTechResearched(pl, 0x52303049, 49)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 5)
call SetPlayerTechResearched(pl, 0x52303135, 5)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 240)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 170
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_ModReward=udg_ModReward + 0.08
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.08)
elseif ExpGo[n - 1] >= 800000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90048 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +170 spell power, +10 atk, +2 all stats, +30 ms\nUnits: +20% HP, +2.5 HP regen, +2.5 MP regen, +8% atk speed\nBuildings: +30% HP, +8% atk speed\nOther: +220 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+8% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 48]")
call SetPlayerTechResearched(pl, 0x52303049, 48)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 10)
call SetPlayerTechResearched(pl, 0x5230305A, 10)
call SetPlayerTechResearched(pl, 0x52303130, 10)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 220)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 170
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_ModReward=udg_ModReward + 0.08
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.08)
elseif ExpGo[n - 1] >= 750000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90047 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +170 spell power, +10 atk, +2 all stats, +30 ms\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen, +8% atk speed\nBuildings: +27% HP, +8% atk speed\nOther: +220 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick, +20 1-min income\n+25 gold for killing enemy hero\n+8% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 47]")
call SetPlayerTechResearched(pl, 0x52303049, 47)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 220)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 170
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_SIncome[n]=udg_SIncome[n] + 20
set udg_ModReward=udg_ModReward + 0.08
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.08)
elseif ExpGo[n - 1] >= 700000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90046 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +160 spell power, +10 atk, +2 all stats, +30 ms\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen, +8% atk speed\nBuildings: +27% HP, +8% atk speed\nOther: +220 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+25 gold for killing enemy hero\n+8% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 46]")
call SetPlayerTechResearched(pl, 0x52303049, 46)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 2)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 220)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 160
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.08
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.08)
elseif ExpGo[n - 1] >= 650000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90045 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +150 spell power, +10 atk, +2 all stats, +20 ms\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen, +8% atk speed\nBuildings: +27% HP, +8% atk speed\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+25 gold for killing enemy hero\n+8% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 45]")
call SetPlayerTechResearched(pl, 0x52303049, 45)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 1)
call SetPlayerTechResearched(pl, 0x52303254, 1)
call SetPlayerTechResearched(pl, 0x52303253, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.08
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.08)
elseif ExpGo[n - 1] >= 600000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90044 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +150 spell power, +10 atk, +2 all stats, +20 ms\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen\nBuildings: +27% HP\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+25 gold for killing enemy hero\n+7% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 44]")
call SetPlayerTechResearched(pl, 0x52303049, 44)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.07
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.07)
elseif ExpGo[n - 1] >= 550000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90043 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +150 spell power, +10 atk, +1 all stats, +20 ms\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen\nBuildings: +27% HP\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+7% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 43]")
call SetPlayerTechResearched(pl, 0x52303049, 43)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerTechResearched(pl, 0x52303255, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.07
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.07)
elseif ExpGo[n - 1] >= 500000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90042 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +140 spell power, +10 atk, +1 all stats\nUnits: +18% HP, +2.25 HP regen, +2.25 MP regen\nBuildings: +27% HP\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+7% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 42]")
call SetPlayerTechResearched(pl, 0x52303049, 42)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 9)
call SetPlayerTechResearched(pl, 0x5230305A, 9)
call SetPlayerTechResearched(pl, 0x52303130, 9)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 140
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.07
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.07)
elseif ExpGo[n - 1] >= 450000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90041 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +100 MP, +140 spell power, +10 atk, +1 all stats\nUnits: +16% HP, +2 HP regen, +2 MP regen\nBuildings: +24% HP\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+7% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 41]")
call SetPlayerTechResearched(pl, 0x52303049, 41)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 8)
call SetPlayerTechResearched(pl, 0x5230305A, 8)
call SetPlayerTechResearched(pl, 0x52303130, 8)
call SetPlayerTechResearched(pl, 0x52303134, 4)
call SetPlayerTechResearched(pl, 0x52303135, 4)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 140
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.07
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.07)
elseif ExpGo[n - 1] >= 400000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90040 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +80 MP, +130 spell power, +8 atk, +1 all stats\nUnits: +16% HP, +2 HP regen, +2 MP regen\nBuildings: +24% HP\nOther: +200 gold, +5 food, +1 item \"Особый (1 ур.)\"\n+50 (+25) gold for random pick\n+7% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 40]")
call SetPlayerTechResearched(pl, 0x52303049, 40)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 8)
call SetPlayerTechResearched(pl, 0x5230305A, 8)
call SetPlayerTechResearched(pl, 0x52303130, 8)
call SetPlayerTechResearched(pl, 0x52303134, 3)
call SetPlayerTechResearched(pl, 0x52303135, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 130
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.07
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.07)
elseif ExpGo[n - 1] >= 350000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90039 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +80 MP, +130 spell power, +8 atk, +1 all stats\nUnits: +16% HP, +2 HP regen, +2 MP regen\nBuildings: +24% HP\nOther: +200 gold, +5 food\n+50 (+25) gold for random pick\n+6% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 39]")
call SetPlayerTechResearched(pl, 0x52303049, 39)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 8)
call SetPlayerTechResearched(pl, 0x5230305A, 8)
call SetPlayerTechResearched(pl, 0x52303130, 8)
call SetPlayerTechResearched(pl, 0x52303134, 3)
call SetPlayerTechResearched(pl, 0x52303135, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 130
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.06
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.06)
elseif ExpGo[n - 1] >= 300000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90038 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +80 MP, +120 spell power, +8 atk, +1 all stats\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +24% HP\nOther: +200 gold, +5 food\n+50 (+25) gold for random pick\n+6% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 38]")
call SetPlayerTechResearched(pl, 0x52303049, 38)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 8)
call SetPlayerTechResearched(pl, 0x52303134, 3)
call SetPlayerTechResearched(pl, 0x52303135, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.06
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.06)
elseif ExpGo[n - 1] >= 275000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90037 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +60 MP, +120 spell power, +6 atk, +1 all stats\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +24% HP\nOther: +200 gold, +5 food\n+50 (+25) gold for random pick\n+6% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 37]")
call SetPlayerTechResearched(pl, 0x52303049, 37)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 8)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.06
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.06)
elseif ExpGo[n - 1] >= 250000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90036 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +60 MP, +120 spell power, +6 atk\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +21% HP\nOther: +200 gold, +5 food\n+50 (+25) gold for random pick\n+6% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 36]")
call SetPlayerTechResearched(pl, 0x52303049, 36)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.06
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.06)
elseif ExpGo[n - 1] >= 225000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90035 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +60 MP, +120 spell power, +6 atk\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +21% HP\nOther: +200 gold, +5 food\n+6% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 35]")
call SetPlayerTechResearched(pl, 0x52303049, 35)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP, 15)
set udg_ModReward=udg_ModReward + 0.06
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.06)
elseif ExpGo[n - 1] >= 200000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90034 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +200 HP, +60 MP, +120 spell power, +6 atk\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +21% HP\nOther: +200 gold\n+5% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 34]")
call SetPlayerTechResearched(pl, 0x52303049, 34)
call SetPlayerTechResearched(pl, 0x5230304F, 9)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
set udg_ModReward=udg_ModReward + 0.05
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.05)
elseif ExpGo[n - 1] >= 175000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90033 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +180 HP, +60 MP, +120 spell power, +6 atk\nUnits: +14% HP, +1.75 HP regen, +1.75 MP regen\nBuildings: +21% HP\nOther: +180 gold\n+5% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 33]")
call SetPlayerTechResearched(pl, 0x52303049, 33)
call SetPlayerTechResearched(pl, 0x5230304F, 8)
call SetPlayerTechResearched(pl, 0x52303050, 7)
call SetPlayerTechResearched(pl, 0x5230305A, 7)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 180)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
set udg_ModReward=udg_ModReward + 0.05
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.05)
elseif ExpGo[n - 1] >= 150000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90032 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +180 HP, +60 MP, +120 spell power, +6 atk\nUnits: +12% HP, +1.5 HP regen, +1.5 MP regen\nBuildings: +21% HP\nOther: +180 gold\n+5% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 32]")
call SetPlayerTechResearched(pl, 0x52303049, 32)
call SetPlayerTechResearched(pl, 0x5230304F, 8)
call SetPlayerTechResearched(pl, 0x52303050, 6)
call SetPlayerTechResearched(pl, 0x5230305A, 6)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 2)
call SetPlayerTechResearched(pl, 0x52303135, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 180)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
set udg_ModReward=udg_ModReward + 0.05
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.05)
elseif ExpGo[n - 1] >= 125000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90031 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +180 HP, +40 MP, +120 spell power, +4 atk\nUnits: +12% HP, +1.5 HP regen, +1.5 MP regen\nBuildings: +21% HP\nOther: +180 gold\n+5% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 31]")
call SetPlayerTechResearched(pl, 0x52303049, 31)
call SetPlayerTechResearched(pl, 0x5230304F, 8)
call SetPlayerTechResearched(pl, 0x52303050, 6)
call SetPlayerTechResearched(pl, 0x5230305A, 6)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 1)
call SetPlayerTechResearched(pl, 0x52303135, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 180)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 120
set udg_ModReward=udg_ModReward + 0.05
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.05)
elseif ExpGo[n - 1] >= 105000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90030 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +40 MP, +110 spell power, +4 atk\nUnits: +12% HP, +1.5 HP regen, +1.5 MP regen\nBuildings: +21% HP\nOther: +180 gold\n+5% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 30]")
call SetPlayerTechResearched(pl, 0x52303049, 30)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 6)
call SetPlayerTechResearched(pl, 0x5230305A, 6)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 1)
call SetPlayerTechResearched(pl, 0x52303135, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 180)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 110
set udg_ModReward=udg_ModReward + 0.05
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.05)
elseif ExpGo[n - 1] >= 90000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90029 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +40 MP, +100 spell power, +4 atk\nUnits: +12% HP, +1.5 HP regen, +1.5 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+4% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 29]")
call SetPlayerTechResearched(pl, 0x52303049, 29)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 6)
call SetPlayerTechResearched(pl, 0x5230305A, 6)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 1)
call SetPlayerTechResearched(pl, 0x52303135, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
set udg_ModReward=udg_ModReward + 0.04
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.04)
elseif ExpGo[n - 1] >= 75000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90028 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +100 spell power, +4 atk\nUnits: +12% HP, +1.5 HP regen, +1.5 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+4% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 28]")
call SetPlayerTechResearched(pl, 0x52303049, 28)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 6)
call SetPlayerTechResearched(pl, 0x5230305A, 6)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
set udg_ModReward=udg_ModReward + 0.04
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.04)
elseif ExpGo[n - 1] >= 70000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90027 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +100 spell power, +4 atk\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+4% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 27]")
call SetPlayerTechResearched(pl, 0x52303049, 27)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerTechResearched(pl, 0x52303134, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
set udg_ModReward=udg_ModReward + 0.04
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.04)
elseif ExpGo[n - 1] >= 65000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90026 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +100 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+4% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 26]")
call SetPlayerTechResearched(pl, 0x52303049, 26)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
set udg_ModReward=udg_ModReward + 0.04
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.04)
elseif ExpGo[n - 1] >= 60000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90025 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +80 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+4% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 25]")
call SetPlayerTechResearched(pl, 0x52303049, 25)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 80
set udg_ModReward=udg_ModReward + 0.04
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.04)
elseif ExpGo[n - 1] >= 55000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90024 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +160 HP, +60 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +21% HP\nOther: +160 gold\n+3% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 24]")
call SetPlayerTechResearched(pl, 0x52303049, 24)
call SetPlayerTechResearched(pl, 0x5230304F, 7)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 160)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.03
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.03)
elseif ExpGo[n - 1] >= 50000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90023 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +140 HP, +60 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +21% HP\nOther: +140 gold\n+3% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 23]")
call SetPlayerTechResearched(pl, 0x52303049, 23)
call SetPlayerTechResearched(pl, 0x5230304F, 6)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 7)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 140)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.03
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.03)
elseif ExpGo[n - 1] >= 45000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90022 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +140 HP, +60 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +15% HP\nOther: +140 gold\n+3% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 22]")
call SetPlayerTechResearched(pl, 0x52303049, 22)
call SetPlayerTechResearched(pl, 0x5230304F, 6)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 5)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 140)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.03
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.03)
elseif ExpGo[n - 1] >= 40000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90021 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +120 HP, +60 spell power\nUnits: +10% HP, +1.25 HP regen, +1.25 MP regen\nBuildings: +15% HP\nOther: +120 gold\n+3% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 21]")
call SetPlayerTechResearched(pl, 0x52303049, 21)
call SetPlayerTechResearched(pl, 0x5230304F, 5)
call SetPlayerTechResearched(pl, 0x52303050, 5)
call SetPlayerTechResearched(pl, 0x5230305A, 5)
call SetPlayerTechResearched(pl, 0x52303130, 5)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 120)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.03
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.03)
elseif ExpGo[n - 1] >= 35000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90020 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +120 HP, +60 spell power\nUnits: +8% HP, +1 HP regen, +1 MP regen\nBuildings: +15% HP\nOther: +120 gold\n+3% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 20]")
call SetPlayerTechResearched(pl, 0x52303049, 20)
call SetPlayerTechResearched(pl, 0x5230304F, 5)
call SetPlayerTechResearched(pl, 0x52303050, 4)
call SetPlayerTechResearched(pl, 0x5230305A, 4)
call SetPlayerTechResearched(pl, 0x52303130, 5)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 120)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.03
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.03)
elseif ExpGo[n - 1] >= 30000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90019 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +120 HP, +60 spell power\nUnits: +8% HP, +1 HP regen, +1 MP regen\nBuildings: +9% HP\nOther: +120 gold\n+2% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 19]")
call SetPlayerTechResearched(pl, 0x52303049, 19)
call SetPlayerTechResearched(pl, 0x5230304F, 5)
call SetPlayerTechResearched(pl, 0x52303050, 4)
call SetPlayerTechResearched(pl, 0x5230305A, 4)
call SetPlayerTechResearched(pl, 0x52303130, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 120)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.02
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.02)
elseif ExpGo[n - 1] >= 25000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90018 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +100 HP, +60 spell power\nUnits: +8% HP, +1 HP regen, +1 MP regen\nBuildings: +9% HP\nOther: +100 gold\n+2% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 18]")
call SetPlayerTechResearched(pl, 0x52303049, 18)
call SetPlayerTechResearched(pl, 0x5230304F, 4)
call SetPlayerTechResearched(pl, 0x52303050, 4)
call SetPlayerTechResearched(pl, 0x5230305A, 4)
call SetPlayerTechResearched(pl, 0x52303130, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
set udg_ModReward=udg_ModReward + 0.02
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.02)
elseif ExpGo[n - 1] >= 20000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90017 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +100 HP, +50 spell power\nUnits: +8% HP, +1 HP regen, +1 MP regen\nBuildings: +6% HP\nOther: +100 gold\n+2% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 17]")
call SetPlayerTechResearched(pl, 0x52303049, 17)
call SetPlayerTechResearched(pl, 0x5230304F, 4)
call SetPlayerTechResearched(pl, 0x52303050, 4)
call SetPlayerTechResearched(pl, 0x5230305A, 4)
call SetPlayerTechResearched(pl, 0x52303130, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
set udg_ModReward=udg_ModReward + 0.02
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.02)
elseif ExpGo[n - 1] >= 17500 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90016 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +100 HP, +50 spell power\nUnits: +6% HP, +0.75 HP regen, +0.75 MP regen\nBuildings: +6% HP\nOther: +100 gold\n+2% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 16]")
call SetPlayerTechResearched(pl, 0x52303049, 16)
call SetPlayerTechResearched(pl, 0x5230304F, 4)
call SetPlayerTechResearched(pl, 0x52303050, 3)
call SetPlayerTechResearched(pl, 0x5230305A, 3)
call SetPlayerTechResearched(pl, 0x52303130, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
set udg_ModReward=udg_ModReward + 0.02
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.02)
elseif ExpGo[n - 1] >= 15000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90015 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +100 HP, +40 spell power\nUnits: +6% HP, +0.75 HP regen, +0.75 MP regen\nBuildings: +3% HP\nOther: +100 gold\n+2% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 15]")
call SetPlayerTechResearched(pl, 0x52303049, 15)
call SetPlayerTechResearched(pl, 0x5230304F, 4)
call SetPlayerTechResearched(pl, 0x52303050, 3)
call SetPlayerTechResearched(pl, 0x5230305A, 3)
call SetPlayerTechResearched(pl, 0x52303130, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 40
set udg_ModReward=udg_ModReward + 0.02
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.02)
elseif ExpGo[n - 1] >= 12500 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90014 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +40 spell power\nUnits: +6% HP, +0.75 HP regen, +0.75 MP regen\nBuildings: +3% HP\nOther: +80 gold\n+1% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 14]")
call SetPlayerTechResearched(pl, 0x52303049, 14)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 3)
call SetPlayerTechResearched(pl, 0x5230305A, 3)
call SetPlayerTechResearched(pl, 0x52303130, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 40
set udg_ModReward=udg_ModReward + 0.01
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.01)
elseif ExpGo[n - 1] >= 10000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90013 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +40 spell power\nUnits: +6% HP, +0.75 HP regen, +0.75 MP regen\nOther: +80 gold\n+1% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 13]")
call SetPlayerTechResearched(pl, 0x52303049, 13)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 3)
call SetPlayerTechResearched(pl, 0x5230305A, 3)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 40
set udg_ModReward=udg_ModReward + 0.01
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.01)
elseif ExpGo[n - 1] >= 8000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90012 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +40 spell power\nUnits: +4% HP, +0.5 HP regen, +0.5 MP regen\nOther: +80 gold\n+1% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 12]")
call SetPlayerTechResearched(pl, 0x52303049, 12)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 2)
call SetPlayerTechResearched(pl, 0x5230305A, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 40
set udg_ModReward=udg_ModReward + 0.01
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.01)
elseif ExpGo[n - 1] >= 6500 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90011 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +30 spell power\nUnits: +4% HP, +0.5 HP regen, +0.25 MP regen\nOther: +80 gold\n+1% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 11]")
call SetPlayerTechResearched(pl, 0x52303049, 11)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 2)
call SetPlayerTechResearched(pl, 0x5230305A, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
set udg_ModReward=udg_ModReward + 0.01
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.01)
elseif ExpGo[n - 1] >= 5000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA90010 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +30 spell power\nUnits: +2% HP, +0.25 HP regen\nOther: +80 gold\n+1% player exp reward")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 10]")
call SetPlayerTechResearched(pl, 0x52303049, 10)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
set udg_ModReward=udg_ModReward + 0.01
call SaveReal(udg_hash, GetHandleId(pl), 1, 0.01)
elseif ExpGo[n - 1] >= 4000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9009 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +20 spell power\nUnits: +2% HP, +0.25 HP regen\nOther: +80 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 9]")
call SetPlayerTechResearched(pl, 0x52303049, 9)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 80)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 20
elseif ExpGo[n - 1] >= 3000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9008 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +80 HP, +20 spell power\nUnits: +2% HP, +0.25 HP regen\nOther: +60 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 8]")
call SetPlayerTechResearched(pl, 0x52303049, 8)
call SetPlayerTechResearched(pl, 0x5230304F, 3)
call SetPlayerTechResearched(pl, 0x52303050, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 60)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 20
elseif ExpGo[n - 1] >= 2500 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9007 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +60 HP, +20 spell power\nUnits: +2% HP, +0.25 HP regen\nOther: +60 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 7]")
call SetPlayerTechResearched(pl, 0x52303049, 7)
call SetPlayerTechResearched(pl, 0x5230304F, 2)
call SetPlayerTechResearched(pl, 0x52303050, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 60)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 20
elseif ExpGo[n - 1] >= 2000 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9006 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +60 HP, +20 spell power\nOther: +60 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 6]")
call SetPlayerTechResearched(pl, 0x52303049, 6)
call SetPlayerTechResearched(pl, 0x5230304F, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 60)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 20
elseif ExpGo[n - 1] >= 1600 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9005 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +60 HP, +10 spell power\nOther: +60 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 5]")
call SetPlayerTechResearched(pl, 0x52303049, 5)
call SetPlayerTechResearched(pl, 0x5230304F, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 60)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 10
elseif ExpGo[n - 1] >= 1200 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9004 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +60 HP, +10 spell power\nOther: +40 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 4]")
call SetPlayerTechResearched(pl, 0x52303049, 4)
call SetPlayerTechResearched(pl, 0x5230304F, 2)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 40)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 10
elseif ExpGo[n - 1] >= 800 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9003 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +40 HP, +10 spell power\nOther: +40 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 3]")
call SetPlayerTechResearched(pl, 0x52303049, 3)
call SetPlayerTechResearched(pl, 0x5230304F, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 40)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 10
elseif ExpGo[n - 1] >= 400 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9002 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +40 HP\nOther: +40 gold")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 2]")
call SetPlayerTechResearched(pl, 0x52303049, 2)
call SetPlayerTechResearched(pl, 0x5230304F, 1)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, gold + 40)
elseif ExpGo[n - 1] >= 200 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9001 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00Hero: +40 HP")
call MultiboardSetItemValueBJ(udg_Board, 1, n + 1, "[Lvl 1]")
call SetPlayerTechResearched(pl, 0x52303049, 1)
call SetPlayerTechResearched(pl, 0x5230304F, 1)
elseif ExpGo[n - 1] < 200 then
call DisplayTimedTextToPlayer(pl, 0, 0, 20, "|cFFFFA9000 lvl|r\n|cFFFFDC00Бонусы:|r\n|cFFB0BF00-")
endif
set pl=null
endfunction
function InitTrig_CheckLvl takes nothing returns nothing
set gg_trg_CheckLvl=CreateTrigger()
call DisableTrigger(gg_trg_CheckLvl)
call TriggerAddAction(gg_trg_CheckLvl, function Trig_CheckLvl_Actions)
endfunction
function Trig_HeroTakeDamage_Actions takes nothing returns nothing
local real dmg=GetEventDamage()
local unit a=GetEventDamageSource()
local unit d=GetTriggerUnit()
local real life=GetUnitState(d, UNIT_STATE_LIFE)
local real life2=GetUnitState(a, UNIT_STATE_LIFE)
local real mana=GetUnitState(d, UNIT_STATE_MANA)
local real mana2=GetUnitState(a, UNIT_STATE_MANA)
local real DefLifePercent=GetUnitLifePercent(d)
local real DefCof=1.00
local location p
local location p2
local integer L
local item Item
local integer ItemID
local integer Id
local real r
if GetUnitTypeId(d) == 0x4E30324B then
if GetUnitAbilityLevel(d, 0x41304239) == 1 then
call SetUnitState(d, UNIT_STATE_LIFE, ( life + dmg ))
set r=LoadReal(udg_hash, GetHandleId(d), 26) + dmg
call SaveReal(udg_hash, GetHandleId(d), 26, r)
set a=null
set d=null
set p=null
set p2=null
set Item=null
return
else
if GetUnitAbilityLevel(d, 0x41304237) == 1 then
call SaveInteger(udg_hash, GetHandleId(d), 26, 8)
endif
endif
endif
if LoadReal(udg_hash, GetHandleId(a), 13) != 0 then
set Id=GetHandleId(a)
set r=LoadReal(udg_hash, Id, 13)
if r > 0 then
set a=LoadUnitHandle(udg_hash, Id, 13)
call UnitDamageTarget(a, d, r, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set a=null
set d=null
set p=null
set p2=null
set Item=null
return
endif
endif
if GetUnitAbilityLevel(a, 0x41304A4F) == 1 then
if mana2 > GetUnitState(a, UNIT_STATE_MAX_MANA) * 0.1 then
set DefCof=DefCof + 0.25
endif
endif
if GetUnitAbilityLevel(d, 0x41304A4F) == 1 then
if mana > GetUnitState(d, UNIT_STATE_MAX_MANA) * 0.1 then
set DefCof=DefCof - 0.25
if GetUnitTypeId(d) == 0x6830304B and IsUnitType(a, UNIT_TYPE_HERO) == true then
call SetUnitState(d, UNIT_STATE_MANA, mana - ( dmg * 0.20 ))
else
call SetUnitState(d, UNIT_STATE_MANA, mana - ( dmg * 0.40 ))
endif
endif
endif
if GetUnitAbilityLevel(d, 0x42303342) == 1 then
set DefCof=DefCof + 0.10
endif
if GetUnitAbilityLevel(d, 0x42303147) == 1 then
if IsUnitType(a, UNIT_TYPE_HERO) == true then
set DefCof=DefCof - 0.30
else
set DefCof=DefCof - 0.20
endif
endif
if GetUnitAbilityLevel(d, 0x4262736B) == 1 then
set DefCof=DefCof - ( 0.12 + 0.08 * I2R(GetUnitAbilityLevel(d, 0x4162736B)) )
endif
if GetUnitAbilityLevel(d, 0x41303158) == 1 then
if GetUnitTypeId(a) == 0x486D6B67 then
if GetUnitAbilityLevel(a, 0x41303159) == 1 then
set DefCof=DefCof + 0.50
else
set DefCof=DefCof + 0.25
endif
endif
endif
if GetUnitAbilityLevel(d, 0x42303333) == 1 and GetUnitTypeId(a) == 0x4E303554 then
set DefCof=DefCof + 0.25
endif
if GetUnitAbilityLevel(a, 0x41303839) == 1 then
if GetUnitState(a, UNIT_STATE_MAX_LIFE) > life then
set DefCof=DefCof + 0.20
endif
endif
if GetUnitAbilityLevel(a, 0x41305250) == 1 and IsUnitType(d, UNIT_TYPE_HERO) == true then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 20)
endif
if GetUnitAbilityLevel(a, 0x41304D51) == 1 and IsUnitType(d, UNIT_TYPE_HERO) == true then
set DefCof=DefCof + 0.60
endif
if GetUnitAbilityLevel(d, 0x41304D51) == 1 and IsUnitType(a, UNIT_TYPE_HERO) == true then
set DefCof=DefCof - 0.30
endif
if GetUnitAbilityLevel(d, 0x42303154) > 0 and d != udg_RuneDefender then
set DefCof=DefCof - 0.30
call UnitDamageTarget(a, udg_RuneDefender, ( dmg * 0.15 ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
endif
if d == udg_Legat then
if IsUnitType(a, UNIT_TYPE_STRUCTURE) == false and GetUnitLevel(a) <= 2 and udg_LegatE >= 0.08 then
set DefCof=DefCof - udg_LegatE
endif
endif
if d == udg_Moon then
set p=GetUnitLoc(a)
set udg_p2=GetUnitLoc(d)
if DistanceBetweenPoints(p, p2) >= 400.00 then
set DefCof=DefCof - 0.25
endif
endif
if GetUnitAbilityLevel(d, 0x41304146) > 0 then
if udg_ItemBonusDMG[udg_n] >= 200.00 then
if DefLifePercent <= 60.00 then
set DefCof=DefCof - ( 0.10 + I2R(GetUnitAbilityLevel(d, 0x41304146)) * 0.05 )
endif
else
if DefLifePercent <= 40.00 then
set DefCof=DefCof - ( 0.10 + I2R(GetUnitAbilityLevel(d, 0x41304146)) * 0.05 )
endif
endif
endif
if LoadInteger(udg_hash, GetHandleId(d), 6) >= 6 and GetUnitLevel(a) <= 4 then
set DefCof=DefCof - 0.30
endif
if LoadInteger(udg_hash, GetHandleId(d), 9) >= 5 then
call SetUnitState(d, UNIT_STATE_MANA, ( mana + 1.00 ))
endif
if IsUnitType(d, UNIT_TYPE_HERO) == true then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 3)
endif
if GetUnitLevel(d) <= 1 then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 5)
endif
if IsUnitType(d, UNIT_TYPE_MELEE_ATTACKER) == true then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 40)
endif
if IsUnitType(d, UNIT_TYPE_RANGED_ATTACKER) == true then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 41)
endif
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 6)
if IsUnitType(d, UNIT_TYPE_UNDEAD) == true then
set DefCof=DefCof + LoadReal(udg_hash, GetHandleId(a), 9)
endif
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 4)
if IsUnitType(a, UNIT_TYPE_HERO) == true then
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 8)
endif
if IsUnitType(a, UNIT_TYPE_MELEE_ATTACKER) == true then
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 42)
endif
if IsUnitType(a, UNIT_TYPE_RANGED_ATTACKER) == true then
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 43)
endif
if GetUnitLevel(a) < 2 then
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 12)
endif
if IsUnitType(a, UNIT_TYPE_UNDEAD) == true then
set DefCof=DefCof - LoadReal(udg_hash, GetHandleId(d), 15)
endif
set L=0
loop
exitwhen L > 5
if IsUnitType(d, UNIT_TYPE_HERO) == true then
set Item=UnitItemInSlot(d, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x49303741 then
if DefLifePercent <= 25.00 then
call SetUnitState(d, UNIT_STATE_LIFE, ( life + 3.00 ))
endif
elseif ItemID == 0x49303438 then
if DefLifePercent <= 30.00 then
set DefCof=DefCof - 0.25
endif
elseif ItemID == 0x706D616E then
if GetUnitLifePercent(a) >= 75.00 then
set DefCof=DefCof - 0.18
endif
elseif ItemID == 0x7462616B then
if GetUnitLifePercent(a) >= 70.00 then
set DefCof=DefCof - 0.25
endif
elseif ItemID == 0x746B6E6F then
call SetUnitState(d, UNIT_STATE_LIFE, ( life + 2.00 ))
elseif ItemID == 0x77696C6C then
set DefCof=DefCof - 0.10
call SetUnitState(d, UNIT_STATE_MANA, ( mana + dmg * 0.10 ))
elseif ItemID == 0x49304142 then
set DefCof=DefCof - ( ( ( 100 - DefLifePercent ) / 2.5 ) * 0.01 )
elseif ItemID == 0x49304159 and GetUnitAbilityLevel(d, 0x4230305A) == 1 then
set DefCof=DefCof - 0.20
elseif ItemID == 0x49303533 then
if DefLifePercent >= 50.00 then
set DefCof=DefCof + 0.50
endif
elseif ItemID == 0x72726532 then
if DefLifePercent >= 75.00 then
set DefCof=DefCof + 1.00
endif
endif
elseif IsUnitType(a, UNIT_TYPE_HERO) == true then
set Item=UnitItemInSlot(a, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x686C7374 then
if DefLifePercent >= 75.00 then
set DefCof=DefCof + 0.60
endif
elseif ItemID == 0x72656A33 then
if life2 > life then
set DefCof=DefCof + 0.30
endif
elseif ItemID == 0x49303656 then
if DefLifePercent < 50.00 then
set DefCof=DefCof + 0.40
endif
elseif ItemID == 0x49303939 then
if mana2 >= 1000.00 then
set DefCof=DefCof + 0.20
endif
elseif ItemID == 0x49304159 then
if GetUnitAbilityLevel(d, 0x4230305A) == 1 and GetUnitLevel(d) <= 1 then
set DefCof=DefCof + 0.50
endif
elseif ItemID == 0x49303750 then
if life2 < GetUnitState(a, UNIT_STATE_MAX_LIFE) * 0.5 then
set DefCof=DefCof - 0.30
endif
elseif ItemID == 0x49303136 then
if IsUnitType(d, UNIT_TYPE_POISONED) == true or IsUnitType(d, UNIT_TYPE_PLAGUED) == true then
set DefCof=DefCof + 0.40
endif
elseif ItemID == 0x6B74726D then
if IsUnitType(d, UNIT_TYPE_STUNNED) == true then
set DefCof=DefCof + 0.60
endif
elseif ItemID == 0x61727363 then
if life > life2 then
set DefCof=DefCof + 0.50
endif
elseif ItemID == 0x696E6673 then
if mana > 0 then
call SetUnitState(d, UNIT_STATE_MANA, mana - ( dmg * DefCof * 0.15 ))
set DefCof=DefCof + 0.20
endif
endif
endif
set L=L + 1
endloop
call DisableTrigger(GetTriggeringTrigger())
if DefCof < 1.00 then
if DefCof < 0.20 then
set DefCof=0.20
endif
call SetUnitState(d, UNIT_STATE_LIFE, life + ( dmg * ( 1.00 - DefCof ) ))
elseif DefCof > 1.00 then
call UnitDamageTarget(a, d, dmg * ( DefCof - 1.00 ), false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
endif
set life=LoadReal(udg_hash, GetHandleId(a), 16)
if life > 0.00 then
if IsUnitType(d, UNIT_TYPE_STRUCTURE) != true then
if LoadInteger(udg_hash, GetHandleId(d), 17) == 0 then
call UnitDamageTarget(a, d, life, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
else
call SaveInteger(udg_hash, GetHandleId(d), 17, 0)
endif
endif
endif
if IsUnitInGroup(d, udg_ItemGroup[33]) == true then
if IsUnitType(a, UNIT_TYPE_HERO) == true then
call UnitDamageTarget(d, a, dmg * 0.16, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
endif
endif
call EnableTrigger(GetTriggeringTrigger())
set a=null
set d=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
set Item=null
endfunction
function InitTrig_HeroTakeDamage takes nothing returns nothing
set gg_trg_HeroTakeDamage=CreateTrigger()
call FNWETriggerRegisterAnyUnitDamaged(gg_trg_HeroTakeDamage)
call TriggerAddAction(gg_trg_HeroTakeDamage, function Trig_HeroTakeDamage_Actions)
endfunction
function CD_Units_Skills takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
call GroupRemoveUnit(udg_NoSkillsGroup, u)
if GetUnitTypeId(u) == 0x6F303133 then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - 2)
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) - 30)
endif
call FlushChildHashtable(udg_hash, GetHandleId(t))
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function MeatGolemSkill takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local integer count=LoadInteger(udg_hash, GetHandleId(t), 1)
set count=count - 1
if count == 43 then
call QueueUnitAnimation(u, "sleep")
elseif count == 3 then
call SetUnitAnimation(u, "birth")
else
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.01)
endif
if count == 0 then
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
if IsUnitInGroup(u, udg_AttackGroup) == true then
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
endif
call FlushChildHashtable(udg_hash, GetHandleId(t))
call PauseTimer(t)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, GetHandleId(t), 1, count)
endif
set t=null
set u=null
endfunction
function Trig_UAttacks_Actions takes nothing returns nothing
local unit u=GetAttacker()
local player pl=GetOwningPlayer(u)
local unit u2=GetTriggerUnit()
local player pl2=GetOwningPlayer(u2)
local integer n=GetPlayerId(pl) + 1
local unit u3
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local integer Id_u=GetUnitTypeId(u)
local integer Id_u2=GetUnitTypeId(u2)
local integer L
local integer L2
local real r
local real angle
local location p
local real dmg
local timer t
local texttag text
if Id_u2 == 0x68303030 and IsUnitAlly(u2, pl) == true then
call IssueImmediateOrder(u, "stop")
endif
if Id_u == 0x6E30344C then
call IssueTargetOrder(u, "chainlightning", u2)
elseif Id_u == 0x65303056 or Id_u == 0x65303057 or Id_u == 0x65303058 or Id_u == 0x65303059 then
call IssueImmediateOrder(u, "creepthunderclap")
endif
if Id_u2 == 0x6F303041 then
call UnitDamageTarget(u2, u, 25, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endif
if Id_u == 0x68303133 or Id_u == 0x68303134 or Id_u == 0x68303135 or Id_u == 0x68303331 then
if Id_u == 0x68303133 then
set L2=5
set Id_u2=0x6F303138
elseif Id_u == 0x68303134 then
set L2=6
set Id_u2=0x6F303139
elseif Id_u == 0x68303135 then
set L2=7
set Id_u2=0x6F303141
elseif Id_u == 0x68303331 then
set L2=8
set Id_u2=0x6F303159
endif
set L=1
loop
exitwhen L > L2
set L=L + 1
set r=GetRandomReal(60, 200)
set angle=GetRandomReal(0, 360)
set p=PolarProjectionBJ(Location(x2, y2), r, angle)
set u2=CreateUnit(pl, Id_u2, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 1)
call IssuePointOrderLoc(u2, "attackground", p)
endloop
endif
if Id_u2 == 0x6F303030 or Id_u2 == 0x6F303031 or Id_u2 == 0x6F303032 or Id_u2 == 0x6F303033 or Id_u2 == 0x6F303034 or Id_u2 == 0x6F303153 then
if Id_u2 == 0x6F303030 then
set dmg=6
elseif Id_u2 == 0x6F303031 then
set dmg=10
elseif Id_u2 == 0x6F303032 then
set dmg=14
elseif Id_u2 == 0x6F303033 then
set dmg=18
elseif Id_u2 == 0x6F303034 then
set dmg=22
elseif Id_u2 == 0x6F303153 then
set dmg=26
endif
if GetPlayerTechCount(pl2, 0x52303142, true) == 1 then
set dmg=dmg * 1.5
endif
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endif
if Id_u == 0x6E303049 or Id_u == 0x6E30304A or Id_u == 0x6E30304B or Id_u == 0x6E30304C or Id_u == 0x6E30304D then
set L=GetRandomInt(1, 5)
if L == 2 then
set u2=CreateUnit(pl, 0x6F303147, x2, y2, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 10)
if Id_u == 0x6E30304A then
call SetUnitAbilityLevel(u2, 0x53303033, 2)
elseif Id_u == 0x6E30304B then
call SetUnitAbilityLevel(u2, 0x53303033, 3)
elseif Id_u == 0x6E30304C then
call SetUnitAbilityLevel(u2, 0x53303033, 4)
elseif Id_u == 0x6E30304D then
call SetUnitAbilityLevel(u2, 0x53303033, 5)
endif
endif
endif
if ( Id_u == 0x68303256 or Id_u == 0x68303345 or Id_u == 0x68303346 ) and IsUnitInGroup(u, udg_NoSkillsGroup) == false then
if Id_u == 0x68303346 then
set dmg=150
else
set dmg=100
endif
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(udg_NoSkillsGroup, u)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", u2, "chest"))
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 6, true, function CD_Units_Skills)
elseif Id_u == 0x68726966 and IsUnitInGroup(u, udg_NoSkillsGroup) == false then
set dmg=14
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 8, true, function CD_Units_Skills)
elseif Id_u == 0x6E303646 and IsUnitInGroup(u, udg_NoSkillsGroup) == false then
set dmg=100 + udg_ItemBonusDMG[n] * 0.20
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u)
call UnitApplyTimedLife(u3, 0x42544C46, 3.00)
call UnitAddAbility(u3, 0x41304559)
call IssueTargetOrderById(u3, Order_chainlightning, u2)
call GroupAddUnit(udg_NoSkillsGroup, u)
call GroupAddUnit(udg_NoSkillsGroup, u)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 8, true, function CD_Units_Skills)
elseif Id_u == 0x6F303045 and IsUnitInGroup(u, udg_NoSkillsGroup) == false then
set dmg=30
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(udg_NoSkillsGroup, u)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 10, true, function CD_Units_Skills)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + 1)
set text=CreateTextTagUnitBJ("|cFFFFDC00+1", u, 0, 10.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
elseif Id_u == 0x6F303133 and IsUnitInGroup(u, udg_NoSkillsGroup) == false then
set L=GetRandomInt(1, 5)
if L == 2 then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 2)
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) + 30)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\FaerieDragonInvis\\FaerieDragon_Invis.mdl", u, "chest"))
call GroupAddUnit(udg_NoSkillsGroup, u)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 10, true, function CD_Units_Skills)
endif
elseif Id_u2 == 0x6E303646 and GetUnitLevel(u) < 4 then
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x <= 160 then
set dmg=40
set L=GetRandomInt(1, 5)
if L == 2 then
call UnitDamageTarget(u2, u, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl", u, "origin"))
endif
endif
elseif GetUnitAbilityLevel(u2, 0x41303739) == 1 then
if GetUnitLifePercent(u2) <= 20 then
call SetUnitInvulnerable(u2, true)
call PauseUnit(u2, true)
call UnitRemoveAbility(u2, 0x41303739)
call SetUnitAnimation(u2, "death")
set t=CreateTimer()
call TimerStart(t, 0.5, true, function MeatGolemSkill)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, 48)
endif
endif
call RemoveLocation(p)
set p=null
set u=null
set pl=null
set pl2=null
set u2=null
set u3=null
set t=null
set text=null
endfunction
function InitTrig_UAttacks takes nothing returns nothing
set gg_trg_UAttacks=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_UAttacks, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_UAttacks, function Trig_UAttacks_Actions)
endfunction
function Trig_USkills_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u3=GetSpellTargetUnit()
local player pl3=GetOwningPlayer(u3)
local integer Spell_Id=GetSpellAbilityId()
local unit dummy
local real x
local real y
local real dmg
local group ug
local integer n
if Spell_Id == 0x41304749 then
set dmg=GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.1
set x=GetUnitX(u)
set y=GetUnitY(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 275, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if Spell_Id == 0x41303046 then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", x, y))
call UnitAddAbility(u, 0x41303047)
call TriggerSleepAction(6.00)
call UnitRemoveAbility(u, 0x41303047)
endif
if Spell_Id == 0x4130474B then
set dmg=( GetUnitState(u3, UNIT_STATE_MAX_LIFE) - GetUnitState(u3, UNIT_STATE_LIFE) ) * 0.10 + 200
if IsUnitEnemy(u3, pl) == false then
call SetUnitState(u3, UNIT_STATE_LIFE, GetUnitState(u3, UNIT_STATE_LIFE) + dmg)
elseif IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_UNDEAD) == true then
call UnitDamageTarget(u, u3, dmg * 0.5, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
if UnitHasItemOfTypeBJ(u3, 0x49304134) == true then
if IsUnitEnemy(u, pl3) == true then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\SoulRitual.mdx", u, "origin"))
set dmg=200 + ( udg_ItemBonusDMG[GetPlayerId(pl3) + 1] * 0.25 )
call UnitDamageTarget(u3, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SetUnitState(u3, UNIT_STATE_LIFE, GetUnitState(u3, UNIT_STATE_LIFE) + 40)
endif
endif
if UnitHasItemOfTypeBJ(u3, 0x617A6872) == true then
if IsUnitEnemy(u, pl3) == true then
set dmg=50 + ( udg_ItemBonusDMG[GetPlayerId(pl3) + 1] * 0.20 )
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) - dmg)
endif
endif
if UnitHasItemOfTypeBJ(u3, 0x627A6266) == true then
if IsUnitEnemy(u, pl3) == true then
set x=GetUnitX(u3)
set y=GetUnitY(u3)
set n=GetRandomInt(1, 4)
set dummy=CreateUnit(GetOwningPlayer(u3), 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
if n == 1 then
call UnitAddAbility(dummy, 0x41304C50)
call IssueTargetOrderById(dummy, Order_curse, u)
elseif n == 2 then
call UnitAddAbility(dummy, 0x41304C51)
call IssueTargetOrderById(dummy, Order_slow, u)
elseif n == 3 then
call UnitAddAbility(dummy, 0x41304C52)
call IssueTargetOrderById(dummy, Order_cripple, u)
elseif n == 4 then
call UnitAddAbility(dummy, 0x41304C53)
call IssueTargetOrderById(dummy, Order_faeriefire, u)
endif
endif
endif
if Spell_Id == 0x41304556 then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
set dmg=GetUnitState(u3, UNIT_STATE_MAX_MANA) * 0.1
if dmg > GetUnitState(u3, UNIT_STATE_MANA) then
set dmg=GetUnitState(u3, UNIT_STATE_MANA)
endif
call SetUnitState(u3, UNIT_STATE_MANA, GetUnitState(u3, UNIT_STATE_MANA) - dmg)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + dmg)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if Spell_Id == 0x41304346 or Spell_Id == 0x41304347 then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
call UnitAddItem(u3, GetSpellTargetItem())
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if Spell_Id == 0x41305034 then
set n=GetPlayerId(pl) + 1
if udg_CourierCheck[n] == true then
call UnitAddItem(udg_Pet[n], GetSpellTargetItem())
endif
endif
if Spell_Id == 0x41304351 then
set n=0
loop
exitwhen n > 5
set x=GetUnitX(u)
set y=GetUnitY(u)
set x=x + 130 * Cos(( I2R(n + 1) * 60 ) * bj_DEGTORAD)
set y=y + 130 * Sin(( I2R(n + 1) * 60 ) * bj_DEGTORAD)
call SetItemPosition(UnitItemInSlot(u, n), x, y)
set n=n + 1
endloop
endif
if Spell_Id == 0x41304638 then
if IsUnitInGroup(u, udg_AutoHireGroup) == true then
call GroupRemoveUnit(udg_AutoHireGroup, u)
call DisplayTimedTextToPlayer(pl, 0, 0, 8, "Автопроизводство отключено.")
else
call GroupAddUnit(udg_AutoHireGroup, u)
call DisplayTimedTextToPlayer(pl, 0, 0, 8, "Автопроизводство включено.")
endif
endif
if Spell_Id == 0x41304253 then
if LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 11, 0)
call DisplayTimedTextToPlayer(pl, 0, 0, 8, "Скины отключены.")
else
call SaveInteger(udg_hash, GetHandleId(pl), 11, 1)
call DisplayTimedTextToPlayer(pl, 0, 0, 8, "Скины включены.")
endif
endif
set u=null
set dummy=null
set pl=null
set u3=null
set pl3=null
set ug=null
endfunction
function InitTrig_USkills takes nothing returns nothing
set gg_trg_USkills=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_USkills, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_USkills, function Trig_USkills_Actions)
endfunction
function GuardianStacks takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, L, 1)
local integer i=LoadInteger(udg_hash, L, 2)
if u != null then
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - i)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) - 0.1 * I2R(i))
endif
call FlushChildHashtable(udg_hash, L)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function DwarfFootmanSkill takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, L, 1)
local integer n=LoadInteger(udg_hash, GetHandleId(u), 1)
set n=n - 1
if n == 0 then
call UnitRemoveAbility(u, 0x41304746)
call UnitRemoveAbility(u, 0x41304747)
call FlushChildHashtable(udg_hash, L)
call FlushChildHashtable(udg_hash, GetHandleId(u))
call PauseTimer(t)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, GetHandleId(u), 1, n)
endif
set t=null
set u=null
endfunction
function DreamCatcher takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, L, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call SaveReal(udg_hash, GetHandleId(u), 1, LoadReal(udg_hash, GetHandleId(u), 1) + 0.2)
call FlushChildHashtable(udg_hash, L)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
set pl=null
endfunction
function Palach takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, L, 1)
local integer n=LoadInteger(udg_hash, GetHandleId(u), 4)
set n=n - 1
if n <= 0 then
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - 40)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - 6)
call UnitRemoveAbility(u, 0x41304659)
call FlushChildHashtable(udg_hash, L)
call PauseTimer(t)
call DestroyTimer(t)
endif
call SaveInteger(udg_hash, GetHandleId(u), 4, n)
set t=null
set u=null
endfunction
function Nagual takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, L, 1)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - 3)
call FlushChildHashtable(udg_hash, L)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function PudgeZombs takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L=GetHandleId(t)
local player pl=LoadPlayerHandle(udg_hash, L, 1)
local real x=LoadReal(udg_hash, L, 1)
local real y=LoadReal(udg_hash, L, 2)
local integer n=LoadInteger(udg_hash, L, 1)
local unit u
local real r=GetRandomReal(0, 360)
set u=CreateUnit(pl, 0x6E303543, x, y, r)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", x, y))
set n=n - 1
if n == 0 then
call FlushChildHashtable(udg_hash, L)
call PauseTimer(t)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, L, 1, n)
endif
set t=null
set u=null
set pl=null
endfunction
function PudgeCloud takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local real dmg=LoadReal(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 2)
local unit u3
local group ug=CreateGroup()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if n > 2 then
call GroupEnumUnitsInRange(ug, x, y, 255, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true and IsUnitType(u3, UNIT_TYPE_MECHANICAL) != true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set n=n - 1
call SaveInteger(udg_hash, Id, 2, n)
if n == 0 then
call RemoveUnit(u)
call FlushChildHashtable(udg_hash, Id)
call PauseTimer(t)
call DestroyTimer(t)
elseif n == 2 then
call SetUnitAnimation(u, "death")
endif
set t=null
set u=null
set u3=null
set pl=null
endfunction
function Trig_UKills_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local unit u3
local integer iu=GetUnitTypeId(u)
local integer iu2=GetUnitTypeId(u2)
local integer l
local player pl=GetOwningPlayer(u)
local player pl2=GetOwningPlayer(u2)
local integer n
local group ug
local group ug2
local real x
local real y
local real dmg
local timer t
if iu == 0x6E303136 and IsDead(u) == false and IsUnitEnemy(u2, pl) == true then
set l=GetHandleId(u)
set n=LoadInteger(udg_hash, l, 1)
if n < 50 then
set n=n + 1
call SaveInteger(udg_hash, l, 1, n)
set dmg=LoadReal(udg_hash, l, 1)
set dmg=dmg + 15
call SaveReal(udg_hash, l, 1, dmg)
call SetUnitBaseDamage(u , GetUnitBaseDamage(u) + 2)
endif
endif
if iu2 == 0x6E303136 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=LoadReal(udg_hash, iu, 1) + 300
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 350, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl2) == true then
call UnitDamageTarget(u2, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\SoulRitual.mdx", u, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set l=GetHandleId(u2)
call FlushChildHashtable(udg_hash, l)
endif
if iu == 0x6564656E and IsUnitEnemy(u2, pl) == true then
set t=CreateTimer()
set l=GetHandleId(t)
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + 2)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + 0.2)
call SaveInteger(udg_hash, l, 2, 2)
else
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + 1)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + 0.1)
call SaveInteger(udg_hash, l, 2, 1)
endif
call SaveUnitHandle(udg_hash, l, 1, u)
call TimerStart(t, 80, false, function GuardianStacks)
endif
if iu2 == 0x68303247 or iu2 == 0x6E303351 or iu2 == 0x68303248 then
if GetPlayerTechCount(pl2, 0x52303158, true) == 1 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x, y))
set dmg=GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.3
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 375, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl2) == true then
call UnitDamageTarget(u2, u3, dmg, true, false, ATTACK_TYPE_SIEGE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
endif
if iu2 == 0x7530304F or iu2 == 0x7530314F then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set u=CreateUnit(pl2, 0x6F303248, x, y, 270)
set dmg=GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.02
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t), 2, 32)
call TimerStart(t, 0.5, true, function PudgeCloud)
endif
if GetPlayerTechCount(pl2, 0x5230314E, true) == 1 and IsUnitType(u2, UNIT_TYPE_HERO) != true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set dmg=GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.30
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\SoulRitual.mdx", u, "origin"))
if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u2, u, dmg * 0.5, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
if iu2 == 0x7530304D and IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) != true then
if UnitHasItemOfTypeBJ(u, 0x617A6872) != true then
set dmg=50.00 + ( GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.05 )
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\SoulRitual.mdx", u, "origin"))
if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u2, u, dmg * 0.5, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
endif
if iu2 == 0x75303139 and IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) != true then
if UnitHasItemOfTypeBJ(u, 0x617A6872) != true then
set dmg=150.00 + ( GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.10 )
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", u, "origin"))
if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u2, u, dmg * 0.5, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
endif
if iu2 == 0x6E303255 and IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) != true then
if UnitHasItemOfTypeBJ(u, 0x617A6872) != true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 210, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl2) == true and UnitHasItemOfTypeBJ(u3, 0x617A6872) != true then
set dmg=100.00 + ( GetUnitState(u3, UNIT_STATE_MAX_LIFE) * 0.05 )
if IsUnitType(u3, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u2, u3, dmg * 0.5, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u2, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
endif
if iu2 == 0x65303038 and IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) != true then
if UnitHasItemOfTypeBJ(u, 0x617A6872) != true then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set u3=CreateUnit(pl2, 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(u3, 0x42544C46, 5.20)
call UnitAddAbility(u3, 0x41303758)
call IssueTargetOrderBJ(u3, "entanglingroots", u)
endif
endif
if IsUnitType(u2, UNIT_TYPE_HERO) == true and IsUnitEnemy(u2, pl) == true and UnitHasItemOfTypeBJ(u, 0x63726474) == true then
call SetHeroLevelBJ(u, ( GetHeroLevel(u) + 1 ), true)
endif
if IsUnitEnemy(u2, pl) == true and UnitHasItemOfTypeBJ(u, 0x66726867) == true then
call GroupAddUnit(udg_ItemGroup[4], u)
endif
if IsUnitEnemy(u2, pl) == true and UnitHasItemOfTypeBJ(u, 0x49303039) == true then
if GetUnitLifePercent(u) < 25.00 then
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + 25)
set t=CreateTimer()
call TimerStart(t, 40, true, function Nagual)
set n=GetHandleId(t)
call SaveUnitHandle(udg_hash, n, 1, u)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + 3)
endif
endif
if IsUnitEnemy(u2, pl) == true and UnitHasItemOfTypeBJ(u, 0x49303148) == true then
set l=LoadInteger(udg_hash, GetHandleId(pl), 12) + 1
if l >= 7 then
set l=0
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=175
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(5, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", u3, "origin"))
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
endif
call SaveInteger(udg_hash, GetHandleId(pl), 12, l)
endif
if IsUnitEnemy(u2, pl) == true and UnitHasItemOfTypeBJ(u, 0x4930415A) == true then
call SetUnitState(u, UNIT_STATE_MANA, ( GetUnitState(u, UNIT_STATE_MANA) + 1 ))
set n=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 1.00
endif
if IsUnitInGroup(u2, udg_CrystalCavesGroup) == true then
call GroupRemoveUnit(udg_CrystalCavesGroup, u2)
endif
if IsUnitInGroup(u2, udg_AutoHireGroup) == true then
call GroupRemoveUnit(udg_AutoHireGroup, u2)
endif
if IsUnitInGroup(u2, udg_DruidRegenGroup) == true then
call GroupRemoveUnit(udg_DruidRegenGroup, u2)
endif
if IsUnitInGroup(u2, udg_EnemyHeroes) == true then
set n=GetPlayerId(pl) + 1
if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, "|cFF9ED1D8Строение игрока|r " + PlayerName[n] + " |cFF9ED1D8убивает|r |cFFDF617A" + GetUnitName(u2) + " (" + I2S(GetHeroLevel(u2)) + " lvl)")
elseif IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, "|cFF9ED1D8Герой игрока|r " + PlayerName[n] + " |cFF9ED1D8убивает|r |cFFDF617A" + GetUnitName(u2) + " (" + I2S(GetHeroLevel(u2)) + " lvl)")
else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, "|cFF9ED1D8Войска игрока|r " + PlayerName[n] + " |cFF9ED1D8убивает|r |cFFDF617A" + GetUnitName(u2) + " (" + I2S(GetHeroLevel(u2)) + " lvl)")
endif
call GroupRemoveUnit(udg_EnemyHeroes, u2)
set n=0
loop
set n=n + 1
if UnitHasItemOfTypeBJ(udg_Hero[n], 0x74726574) == true then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call SaveReal(udg_hash, GetHandleId(udg_Hero[n]), 1, LoadReal(udg_hash, GetHandleId(udg_Hero[n]), 1) - 0.2)
set t=CreateTimer()
call TimerStart(t, 60.0, false, function DreamCatcher)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, udg_Hero[n])
endif
exitwhen n == 8
endloop
endif
if udg_Modifiers[6] == true and iu2 != 0x6E303345 and iu2 != 0x6E303630 and IsPlayerInForce(pl2, udg_AI) == true then
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set n=GetHeroLevel(u2)
if n > 8 then
set n=n - 7
set dmg=GetRandomReal(0, 360)
set u3=CreateUnit(pl2, 0x6E303631, x, y, dmg)
if IsUnitInGroup(u2, udg_AttackGroup) == true then
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
elseif IsUnitInGroup(u2, udg_AttackGroup2) == true then
call GroupAddUnit(udg_AttackGroup2, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint2)
elseif IsUnitInGroup(u2, udg_AttackGroup3) == true then
call GroupAddUnit(udg_AttackGroup3, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint3)
endif
endif
loop
exitwhen n <= 0
set dmg=GetRandomReal(0, 360)
set u3=CreateUnit(pl2, 0x6E303345, x, y, dmg)
if IsUnitInGroup(u2, udg_AttackGroup) == true then
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
elseif IsUnitInGroup(u2, udg_AttackGroup2) == true then
call GroupAddUnit(udg_AttackGroup2, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint2)
elseif IsUnitInGroup(u2, udg_AttackGroup3) == true then
call GroupAddUnit(udg_AttackGroup3, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint3)
endif
set n=n - 1
endloop
elseif IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false then
set n=GetRandomInt(1, 8)
if n <= 2 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=GetRandomReal(0, 360)
if n == 1 then
set u3=CreateUnit(pl2, 0x6E303345, x, y, dmg)
else
set u3=CreateUnit(pl2, 0x6E303630, x, y, dmg)
endif
if IsUnitInGroup(u2, udg_AttackGroup) == true then
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
elseif IsUnitInGroup(u2, udg_AttackGroup2) == true then
call GroupAddUnit(udg_AttackGroup2, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint2)
elseif IsUnitInGroup(u2, udg_AttackGroup3) == true then
call GroupAddUnit(udg_AttackGroup3, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint3)
endif
endif
endif
if GetUnitLevel(u2) >= 8 then
set n=GetRandomInt(1, 5)
if n == 1 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=GetRandomReal(0, 360)
set u3=CreateUnit(pl2, 0x6E303631, x, y, dmg)
if IsUnitInGroup(u2, udg_AttackGroup) == true then
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
elseif IsUnitInGroup(u2, udg_AttackGroup2) == true then
call GroupAddUnit(udg_AttackGroup2, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint2)
elseif IsUnitInGroup(u2, udg_AttackGroup3) == true then
call GroupAddUnit(udg_AttackGroup3, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint3)
endif
endif
endif
endif
if UnitHasItemOfTypeBJ(u, 0x77696C64) == true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(u2, pl) == true and ( IsUnitType(u2, UNIT_TYPE_HERO) == true or GetUnitLevel(u2) >= 6 ) then
set n=GetHandleId(u)
set l=LoadInteger(udg_hash, n, 4)
if l > 0 then
set l=10
call SaveInteger(udg_hash, n, 4, l)
call SetUnitLifePercentBJ(u, GetUnitLifePercent(u) + 6.00)
else
set l=10
set t=CreateTimer()
call TimerStart(t, 1.0, true, function Palach)
call SaveInteger(udg_hash, n, 4, l)
set n=GetHandleId(t)
call SaveUnitHandle(udg_hash, n, 1, u)
call SetUnitLifePercentBJ(u, GetUnitLifePercent(u) + 6.00)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + 40)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 6)
call UnitAddAbility(u, 0x41304659)
endif
endif
if IsUnitInGroup(u, udg_ItemGroup[27]) == false and UnitHasItemOfTypeBJ(u, 0x6D6C7374) == true and IsUnitEnemy(u2, pl) == true and GetUnitLifePercent(u) <= 90.00 then
set udg_u=u
call TriggerExecute(gg_trg_IronKnife)
endif
if UnitHasItemOfTypeBJ(u, 0x6D6E7374) == true then
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + 15.00)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + 5.00)
endif
if IsUnitInGroup(u, udg_ItemGroup[50]) == false and UnitHasItemOfTypeBJ(u, 0x616A656E) == true then
call SetUnitState(u, UNIT_STATE_LIFE, ( GetUnitState(u, UNIT_STATE_LIFE) + 15.00 ))
call GroupAddUnit(udg_ItemGroup[50], u)
endif
if IsUnitInGroup(u, udg_ItemGroup[53]) == false and UnitHasItemOfTypeBJ(u, 0x6876616C) == true then
call SetUnitState(u, UNIT_STATE_LIFE, ( GetUnitState(u, UNIT_STATE_LIFE) + 18.00 ))
call GroupAddUnit(udg_ItemGroup[53], u)
endif
if UnitHasItemOfTypeBJ(u, 0x49303739) == true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(u2, pl) == true then
if GetHeroStr(u, false) < 80 then
set n=GetHeroStr(u, false) + 1
call SetHeroStr(u, n, true)
endif
endif
if UnitHasItemOfTypeBJ(u, 0x72646534) == true and IsUnitType(u2, UNIT_TYPE_HERO) == true and IsUnitEnemy(u2, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", u, "origin"))
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
endif
if GetUnitAbilityLevel(u, 0x41304B37) >= 1 then
call SetUnitLifePercentBJ(u, ( GetUnitLifePercent(u) + 1.00 ))
endif
if iu == 0x68303246 and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(u2, pl) == true then
set n=GetHandleId(u)
set l=LoadInteger(udg_hash, n, 1)
if l > 0 then
set l=10
call SaveInteger(udg_hash, n, 1, l)
call SetUnitLifePercentBJ(u, ( GetUnitLifePercent(u) + 5.00 ))
else
set l=10
set t=CreateTimer()
call TimerStart(t, 1.0, true, function DwarfFootmanSkill)
call SaveInteger(udg_hash, n, 1, l)
set n=GetHandleId(t)
call SaveUnitHandle(udg_hash, n, 1, u)
call UnitAddAbility(u, 0x41304746)
call UnitAddAbility(u, 0x41304747)
endif
endif
if iu == 0x6E303437 and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(u2, pl) == true then
call SetUnitLifePercentBJ(u, ( GetUnitLifePercent(u) + 2.00 ))
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 20)
endif
if iu == 0x68303153 and IsUnitEnemy(u2, pl) == true then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
call SetUnitState(u3, UNIT_STATE_MANA, GetUnitState(u3, UNIT_STATE_MANA) + 4.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if iu == 0x68303231 and IsUnitEnemy(u2, pl) == true then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
call SetUnitState(u3, UNIT_STATE_MANA, GetUnitState(u3, UNIT_STATE_MANA) + 6.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if iu == 0x68303232 and IsUnitEnemy(u2, pl) == true then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
call SetUnitState(u3, UNIT_STATE_MANA, GetUnitState(u3, UNIT_STATE_MANA) + 8.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if iu == 0x68303330 and IsUnitEnemy(u2, pl) == true then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and GetOwningPlayer(u3) == pl then
call SetUnitState(u3, UNIT_STATE_MANA, GetUnitState(u3, UNIT_STATE_MANA) + 10.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if iu2 == 0x68303054 then
set n=0
loop
exitwhen n > 5
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set x=x + 130 * Cos(( I2R(n + 1) * 60 ) * bj_DEGTORAD)
set y=y + 130 * Sin(( I2R(n + 1) * 60 ) * bj_DEGTORAD)
call SetItemPosition(UnitItemInSlot(u2, n), x, y)
set n=n + 1
endloop
endif
if iu2 == 0x6E303444 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=GetRandomReal(0, 360)
call CreateUnit(pl2, 0x6E303445, x, y, dmg)
set dmg=GetRandomReal(0, 360)
call CreateUnit(pl2, 0x6E303445, x, y, dmg)
endif
if iu2 == 0x75303035 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set n=GetRandomInt(4, 8)
set t=CreateTimer()
set l=GetHandleId(t)
call SaveReal(udg_hash, l, 1, x)
call SaveReal(udg_hash, l, 2, y)
call SaveInteger(udg_hash, l, 1, n)
call SavePlayerHandle(udg_hash, l, 1, pl2)
call TimerStart(t, 0.3, true, function PudgeZombs)
endif
if iu2 == 0x75736C68 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=GetRandomReal(0, 360)
call CreateUnit(pl2, 0x75303134, x, y, dmg)
endif
if iu2 == 0x68303237 then
set n=GetRandomInt(1, 2)
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=GetRandomReal(0, 360)
if n == 1 then
set u3=CreateUnit(pl2, 0x6E303054, x, y, dmg)
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
else
set l=1
loop
exitwhen l > 3
set u3=CreateUnit(pl2, 0x6E303051, x, y, dmg)
call GroupAddUnit(udg_AttackGroup, u3)
call IssuePointOrderLoc(u3, "attack", udg_DefPoint)
set l=l + 1
endloop
endif
endif
set u=null
set u2=null
set u3=null
set pl=null
set pl2=null
set ug=null
set ug2=null
set t=null
endfunction
function InitTrig_UKills takes nothing returns nothing
set gg_trg_UKills=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_UKills, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_UKills, function Trig_UKills_Actions)
endfunction
function Trig_IronKnife_Actions takes nothing returns nothing
local unit u=udg_u
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real CD=10.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=27
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", u, "chest"))
call SetUnitState(u, UNIT_STATE_LIFE, life + 50.00)
call GroupAddUnit(udg_ItemGroup[g], u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set t=null
endfunction
function InitTrig_IronKnife takes nothing returns nothing
set gg_trg_IronKnife=CreateTrigger()
call DisableTrigger(gg_trg_IronKnife)
call TriggerAddAction(gg_trg_IronKnife, function Trig_IronKnife_Actions)
endfunction
function Trig_AllSummon_Conditions takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit()) != 0x68303249
endfunction
function Trig_AllSummon_Actions takes nothing returns nothing
local unit u=GetSummoningUnit()
local unit u2=GetSummonedUnit()
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
if GetUnitTypeId(u2) == 0x6F303241 then
call SaveReal(udg_hash, GetHandleId(u2), 13, 15 + I2R(GetHeroInt(u, true)) * 0.20)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
endif
set u=null
set u2=null
endfunction
function InitTrig_AllSummon takes nothing returns nothing
set gg_trg_AllSummon=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_AllSummon, EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_AllSummon, Condition(function Trig_AllSummon_Conditions))
call TriggerAddAction(gg_trg_AllSummon, function Trig_AllSummon_Actions)
endfunction
function Trig_SomeEnemySkills_Func003C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x55303048 ) ) then
return false
endif
return true
endfunction
function Trig_SomeEnemySkills_Func004C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x6E303355 ) ) then
return false
endif
if ( not ( GetUnitLifePercent(udg_u) <= 35.00 ) ) then
return false
endif
if ( not ( IsUnitInGroup(udg_u, udg_NoSkillsGroup) == false ) ) then
return false
endif
return true
endfunction
function Trig_SomeEnemySkills_Func005C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x6E303546 ) ) then
return false
endif
if ( not ( GetUnitLifePercent(udg_u) <= 35.00 ) ) then
return false
endif
if ( not ( IsUnitInGroup(udg_u, udg_NoSkillsGroup) == false ) ) then
return false
endif
return true
endfunction
function Trig_SomeEnemySkills_Func006C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x6E30354B ) ) then
return false
endif
if ( not ( GetUnitLifePercent(udg_u) <= 25.00 ) ) then
return false
endif
if ( not ( IsUnitInGroup(udg_u, udg_NoSkillsGroup) == false ) ) then
return false
endif
return true
endfunction
function Trig_SomeEnemySkills_Actions takes nothing returns nothing
local unit u
set udg_u=GetAttacker()
if ( Trig_SomeEnemySkills_Func003C() ) then
call GroupAddUnitSimple(udg_u, udg_NoSkillsGroup)
set udg_p=GetUnitLoc(udg_u)
set udg_p2=PolarProjectionBJ(udg_p, 50.00, GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1, 0x68303237, GetOwningPlayer(udg_u), udg_p2, bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.00, 0x42544C46, GetLastCreatedUnit())
call PolledWait(7.00)
call GroupRemoveUnitSimple(udg_u, udg_NoSkillsGroup)
else
endif
if ( Trig_SomeEnemySkills_Func004C() ) then
call GroupAddUnitSimple(udg_u, udg_NoSkillsGroup)
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColor(udg_u, 220, 100, 100, 255)
call UnitAddAbility(udg_u, 0x4130374A)
call UnitAddAbility(udg_u, 0x41496438)
else
endif
if ( Trig_SomeEnemySkills_Func005C() ) then
call GroupAddUnitSimple(udg_u, udg_NoSkillsGroup)
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColor(udg_u, 220, 100, 100, 255)
call SetUnitAbilityLevel(udg_u, 0x41437076, 2)
else
endif
if ( Trig_SomeEnemySkills_Func006C() ) then
call GroupAddUnitSimple(udg_u, udg_NoSkillsGroup)
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColor(udg_u, 220, 100, 100, 255)
call SetUnitAbilityLevel(udg_u, 0x4130534C, 2)
else
endif
set u=null
endfunction
function InitTrig_SomeEnemySkills takes nothing returns nothing
set gg_trg_SomeEnemySkills=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SomeEnemySkills, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_SomeEnemySkills, function Trig_SomeEnemySkills_Actions)
endfunction
function Trig_DruidRegen_Func001A takes nothing returns nothing
set udg_r=( ( 100.00 - GetUnitLifePercent(GetEnumUnit()) ) * 0.20 )
call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) + udg_r ))
endfunction
function Trig_DruidRegen_Actions takes nothing returns nothing
call ForGroupBJ(udg_DruidRegenGroup, function Trig_DruidRegen_Func001A)
endfunction
function InitTrig_DruidRegen takes nothing returns nothing
set gg_trg_DruidRegen=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_DruidRegen, udg_Every05sec)
call TriggerAddAction(gg_trg_DruidRegen, function Trig_DruidRegen_Actions)
endfunction
function Trig_UnitHire_Actions takes nothing returns nothing
local unit u=GetTrainedUnit()
local unit u2=GetTriggerUnit()
local integer iu=GetUnitTypeId(u)
if iu == 0x68303154 then
call GroupAddUnit(udg_DruidRegenGroup, u)
elseif iu == 0x6E303432 then
call SaveReal(udg_hash, GetHandleId(u), 3, 1.25)
elseif iu == 0x6E303135 then
call SaveReal(udg_hash, GetHandleId(u), 10, 0.75)
elseif iu == 0x6F303047 then
call SaveReal(udg_hash, GetHandleId(u), 5, 0.10)
elseif iu == 0x6F303047 then
call SaveReal(udg_hash, GetHandleId(u), 4, 0.10)
call SaveReal(udg_hash, GetHandleId(u), 3, 1.50)
endif
if IsUnitInGroup(u2, udg_AutoHireGroup) == true then
call IssueImmediateOrderById(u2, iu)
endif
set u=null
set u2=null
endfunction
function InitTrig_UnitHire takes nothing returns nothing
set gg_trg_UnitHire=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_UnitHire, EVENT_PLAYER_UNIT_TRAIN_FINISH)
call TriggerAddAction(gg_trg_UnitHire, function Trig_UnitHire_Actions)
endfunction
function Trig_Builded_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u)
local integer Id=GetHandleId(pl)
local integer iu=GetUnitTypeId(u)
local integer L
if iu == 0x6E303149 then
call SaveReal(udg_hash, GetHandleId(u), 3, 1.00)
elseif iu == 0x6E303148 then
call SaveReal(udg_hash, GetHandleId(u), 5, 0.40)
elseif iu == 0x6830314A or iu == 0x6830314B or iu == 0x68303156 then
call SaveReal(udg_hash, GetHandleId(u), 10, 1.00)
elseif iu == 0x65303056 or iu == 0x65303057 or iu == 0x65303058 or iu == 0x65303059 then
call SaveReal(udg_hash, GetHandleId(u), 10, 0.50)
endif
set u=null
set pl=null
endfunction
function InitTrig_Builded takes nothing returns nothing
set gg_trg_Builded=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Builded, EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddAction(gg_trg_Builded, function Trig_Builded_Actions)
endfunction
function Trig_Upgrades_Actions takes nothing returns nothing
local unit u=GetResearchingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Up=GetResearched()
local integer Id
if Up == 0x52303249 then
call SetPlayerTechResearched(pl, 0x5230324A, 1)
call SetPlayerTechResearched(pl, 0x5230324B, 1)
call SetPlayerTechResearched(pl, 0x5230324C, 1)
call SetPlayerTechResearched(pl, 0x5230324D, 1)
call SetPlayerTechResearched(pl, 0x5230324E, 1)
call SetPlayerTechResearched(pl, 0x52303138, 1)
call SetPlayerTechResearched(pl, 0x52303139, 1)
call SetPlayerTechResearched(pl, 0x5230324F, 1)
call SetPlayerTechResearched(pl, 0x52303252, 1)
elseif Up == 0x52303045 then
call SetPlayerTechResearched(pl, 0x5230304D, GetPlayerTechCount(pl, Up, true))
elseif Up == 0x5230304E then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 4, LoadReal(udg_hash, Id, 4) + 0.05)
call SaveReal(udg_hash, Id, 8, LoadReal(udg_hash, Id, 8) + 0.05)
elseif Up == 0x52303146 then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 7, LoadReal(udg_hash, Id, 7) + 0.08)
call SetPlayerTechResearched(pl, 0x52303147, 1)
elseif Up == 0x52303148 then
call SetPlayerTechResearched(pl, 0x5230314A, 2)
call SetPlayerTechResearched(pl, 0x52303149, 1)
elseif Up == 0x5230314B then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SetPlayerTechResearched(pl, 0x5230314F, 1)
call SetPlayerTechResearched(pl, 0x52303150, 1)
call SetPlayerTechResearched(pl, 0x52303151, 1)
elseif Up == 0x5230314C then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 9, LoadReal(udg_hash, Id, 9) + 0.15)
call SetPlayerHandicap(pl, 1.15)
elseif Up == 0x5230314D then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 3, LoadReal(udg_hash, Id, 3) + 0.07)
call SaveReal(udg_hash, Id, 8, LoadReal(udg_hash, Id, 8) + 0.07)
call SetPlayerTechResearched(pl, 0x52303152, 1)
elseif Up == 0x5230314E then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 2, LoadReal(udg_hash, Id, 2) - 6)
call SetPlayerTechResearched(pl, 0x52303157, 1)
elseif Up == 0x52303153 then
set u=udg_Hero[n]
set Id=GetHandleId(u)
call SaveReal(udg_hash, Id, 1, LoadReal(udg_hash, Id, 1) - 0.10)
elseif Up == 0x52303154 then
call SetPlayerTechResearched(pl, 0x52303155, 2)
call SetPlayerTechResearched(pl, 0x52303156, 2)
endif
set u=null
set pl=null
endfunction
function InitTrig_Upgrades takes nothing returns nothing
set gg_trg_Upgrades=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Upgrades, EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddAction(gg_trg_Upgrades, function Trig_Upgrades_Actions)
endfunction
function MainStatBonus takes unit u,integer bonus returns nothing
local string MainStat=LoadStr(udg_hash, GetHandleId(u), 1)
local integer HeroStr=GetHeroStr(u, false)
local integer HeroAgi=GetHeroAgi(u, false)
local integer HeroInt=GetHeroInt(u, false)
if MainStat == "STR" then
call SetHeroStr(u, GetHeroStr(u, false) + bonus, true)
elseif MainStat == "AGI" then
call SetHeroAgi(u, GetHeroAgi(u, false) + bonus, true)
elseif MainStat == "INT" then
call SetHeroInt(u, GetHeroInt(u, false) + bonus, true)
endif
set u=null
endfunction
function BrokenSeal takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item Item=LoadItemHandle(udg_hash, GetHandleId(t), 2)
call DisplayTimedTextToPlayer(GetOwningPlayer(u), 0, 0, 15, "|cFFA085EDПечать уничтожена - герой получает +8 силы.")
call SetHeroStr(u, GetHeroStr(u, false) + 8, true)
call SetItemPosition(Item, x, y)
call RemoveItem(Item)
set u=null
set t=null
set Item=null
endfunction
function Trig_AddStat_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer u_Id=GetHandleId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item=GetManipulatedItem()
local integer ItemID=GetItemTypeId(Item)
local integer Id=GetHandleId(Item)
local integer lvl=GetItemLevel(Item)
local integer check
local integer Loop
local integer BonusStat
local integer BonusStat2
local timer t
local integer str=GetHeroStr(u, false)
local integer agi=GetHeroAgi(u, false)
local integer int=GetHeroInt(u, false)
local integer armor=GetUnitExtraArmor(u)
local integer atk=GetUnitExtraDamage(u)
local integer atk_speed=GetUnitAttackSpeed(u)
local real regen_hp=GetUnitLifeRegeneration(u)
local real regen_mp=GetUnitManaRegeneration(u)
if IsUnitType(u, UNIT_TYPE_HERO) == false then
set u=null
set pl=null
set Item=null
call EnableTrigger(GetTriggeringTrigger())
return
endif
if lvl == 0 then
if ItemID == 0x49303249 then
if udg_CourierCheck[n] == false then
if GetPlayerName(pl) == "zse12" or GetPlayerName(pl) == "zse_12" then
set udg_Pet[n]=CreateUnit(pl, 0x6E30324F, x, y, 270.00)
elseif GetPlayerName(pl) == "ItsWho" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303438, x, y, 270.00)
elseif GetPlayerName(pl) == "Mortemka" then
set udg_Pet[n]=CreateUnit(pl, 0x6E30364B, x, y, 270.00)
elseif GetPlayerName(pl) == "Lorit" then
set udg_Pet[n]=CreateUnit(pl, 0x6E30344E, x, y, 270.00)
elseif GetPlayerName(pl) == "Baspente" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303455, x, y, 270.00)
elseif GetPlayerName(pl) == "pingvin02" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303456, x, y, 270.00)
elseif GetPlayerName(pl) == "KymaHask" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303555, x, y, 270.00)
elseif GetPlayerName(pl) == "gordik0101" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303647, x, y, 270.00)
elseif GetPlayerName(pl) == "Bykaki" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303443, x, y, 270.00)
elseif GetPlayerName(pl) == "Pingvin987" then
set udg_Pet[n]=CreateUnit(pl, 0x6E303643, x, y, 270.00)
else
set udg_Pet[n]=CreateUnit(pl, 0x6E303152, x, y, 270.00)
endif
set udg_CourierCheck[n]=true
else
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + 30)
endif
call RemoveItem(Item)
elseif ItemID == 0x74657870 then
set ExpGo[n - 1]=ExpGo[n - 1] + 20
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_LUMBER, ExpGo[n - 1])
elseif ItemID == 0x72726531 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 5
elseif ItemID == 0x72686531 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 10
elseif ItemID == 0x72646973 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
elseif ItemID == 0x6C6D6272 then
call SetHeroStr(u, str + 15, true)
elseif ItemID == 0x676F6D6E then
call SetHeroAgi(u, agi + 15, true)
elseif ItemID == 0x67666F72 then
call SetHeroInt(u, int + 15, true)
elseif ItemID == 0x67757669 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
elseif ItemID == 0x74706F77 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
elseif ItemID == 0x72656A36 then
set udg_ExpIncome[n]=udg_ExpIncome[n] + 100
endif
elseif lvl == 1 then
if ItemID == 0x49303035 then
call SetHeroStr(u, str + 5, true)
elseif ItemID == 0x4930304F then
call SetHeroStr(u, str + 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
elseif ItemID == 0x49303253 then
call SetHeroStr(u, str + 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303043 then
call SetHeroAgi(u, agi + 5, true)
elseif ItemID == 0x49303051 then
call SetHeroAgi(u, agi + 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
elseif ItemID == 0x49303252 then
call SetHeroAgi(u, agi + 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303031 then
call SetHeroInt(u, int + 5, true)
elseif ItemID == 0x49303050 then
call SetHeroInt(u, int + 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
elseif ItemID == 0x49303251 then
call SetHeroInt(u, int + 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303137 then
call SetUnitManaRegeneration(u , regen_mp + 1)
elseif ItemID == 0x49303255 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303138 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
elseif ItemID == 0x49303139 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
call SetHeroInt(u, int + 5, true)
elseif ItemID == 0x49303254 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x4930314E then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroStr(u, str + 2, true)
elseif ItemID == 0x49303152 then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroStr(u, str + 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 165)
elseif ItemID == 0x49303335 then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroStr(u, str + 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x4930304B then
call SetUnitExtraDamage(u , atk + 8)
elseif ItemID == 0x49303052 then
call SetUnitExtraDamage(u , atk + 8)
call SetHeroStr(u, str + 5, true)
elseif ItemID == 0x49303330 then
call SetUnitExtraDamage(u , atk + 20)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303055 then
call SetUnitExtraArmor(u , armor + 3)
elseif ItemID == 0x49303059 then
call SetUnitExtraArmor(u , armor + 3)
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
elseif ItemID == 0x49303337 then
call SetUnitExtraArmor(u , armor + 8)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303149 then
call SetUnitAttackSpeed(u , atk_speed + 13)
elseif ItemID == 0x4930314A then
call SetUnitAttackSpeed(u , atk_speed + 13)
call SetHeroAgi(u, agi + 5, true)
elseif ItemID == 0x49303256 then
call SetUnitAttackSpeed(u , atk_speed + 30)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x4930324A then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroAgi(u, agi + 2, true)
elseif ItemID == 0x4930324B then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroAgi(u, agi + 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 165)
elseif ItemID == 0x4930325A then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroAgi(u, agi + 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303154 then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroInt(u, int + 2, true)
elseif ItemID == 0x49303155 then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroInt(u, int + 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 165)
elseif ItemID == 0x49303336 then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroInt(u, int + 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x4930305A then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
elseif ItemID == 0x49303236 then
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303339 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 4.0)
elseif ItemID == 0x49303237 then
call SetUnitExtraArmor(u , armor + 6)
elseif ItemID == 0x49303130 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.15)
call SetUnitExtraDamage(u , atk + 10)
elseif ItemID == 0x49303343 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 8.0)
call SetUnitAttackSpeed(u , atk_speed + 8)
elseif ItemID == 0x49303053 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
elseif ItemID == 0x49303131 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
call SetHeroStr(u, str + 4, true)
elseif ItemID == 0x49303238 then
call SetUnitExtraArmor(u , armor + 2)
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
elseif ItemID == 0x49303341 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 4.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
elseif ItemID == 0x49303054 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 750)
elseif ItemID == 0x49303132 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.15)
call SetUnitExtraDamage(u , atk + 10)
call SetHeroStr(u, str + 18, true)
elseif ItemID == 0x49303239 then
call SetUnitExtraArmor(u , armor + 6)
call SetUnitLifeRegeneration(u , regen_hp + 8.0)
elseif ItemID == 0x49303344 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 8.0)
call SetUnitAttackSpeed(u , atk_speed + 8)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x49303331 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.13)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.03)
elseif ItemID == 0x49303250 then
call SetUnitExtraArmor(u , armor + 2)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
elseif ItemID == 0x49303342 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 4.0)
elseif ItemID == 0x49303332 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.21)
call SetUnitExtraDamage(u , atk + 10)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.06)
elseif ItemID == 0x4930324F then
call SetUnitExtraArmor(u , armor + 6)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.08)
elseif ItemID == 0x49303345 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 12.0)
endif
elseif lvl == 2 then
if ItemID == 0x73707368 then
call SetUnitExtraDamage(u , atk + 16)
elseif ItemID == 0x706D6E61 then
call SetUnitAttackSpeed(u , atk_speed + 25)
call SetUnitExtraDamage(u , atk + 8)
elseif ItemID == 0x70656E72 then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroStr(u, str + 6, true)
elseif ItemID == 0x77617264 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
call SetUnitManaRegeneration(u , regen_mp + 1.25)
elseif ItemID == 0x72617463 then
call SetHeroAgi(u, agi + 10, true)
call SetUnitExtraDamage(u , atk + 5)
elseif ItemID == 0x72617439 then
call SetHeroStr(u, str + 10, true)
call SetUnitLifeRegeneration(u , regen_hp + 2.0)
elseif ItemID == 0x72617436 then
call SetHeroInt(u, int + 10, true)
call SetUnitManaRegeneration(u , regen_mp + 1.5)
elseif ItemID == 0x636E6F62 then
call SetUnitExtraArmor(u , armor + 6)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 125)
elseif ItemID == 0x72687468 then
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
call SetHeroInt(u, int + 2, true)
elseif ItemID == 0x6473756D then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroAgi(u, agi + 6, true)
elseif ItemID == 0x6863756E then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroInt(u, int + 6, true)
elseif ItemID == 0x62656C76 then
call SetHeroAgi(u, agi + 20, true)
call SetUnitExtraDamage(u , atk + 10)
elseif ItemID == 0x72646532 then
call SetHeroStr(u, str + 20, true)
call SetUnitLifeRegeneration(u , regen_hp + 4.0)
elseif ItemID == 0x72646531 then
call SetHeroInt(u, int + 20, true)
call SetUnitManaRegeneration(u , regen_mp + 3.0)
elseif ItemID == 0x72646533 then
call SetUnitExtraDamage(u , atk + 20)
call SetHeroStr(u, str + 5, true)
elseif ItemID == 0x726C6966 then
call SetUnitExtraArmor(u , armor + 7)
call SetHeroStr(u, str + 9, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
elseif ItemID == 0x73626368 then
call SetUnitExtraArmor(u , armor + 7)
call SetHeroAgi(u, agi + 9, true)
call SetUnitAttackSpeed(u , atk_speed + 12)
elseif ItemID == 0x72696E31 then
call SetUnitAttackSpeed(u , atk_speed + 40)
call SetUnitExtraDamage(u , atk + 15)
elseif ItemID == 0x7277697A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
call SetUnitManaRegeneration(u , regen_mp + 2.50)
elseif ItemID == 0x6D636F75 then
call SetHeroStr(u, str + 6, true)
call SetHeroAgi(u, agi + 6, true)
call SetHeroInt(u, int + 6, true)
elseif ItemID == 0x636C666D then
call SetUnitExtraArmor(u , armor + 7)
call SetHeroInt(u, int + 9, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x63697269 then
call SetUnitExtraArmor(u , armor + 9)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 200)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.06)
elseif ItemID == 0x6763656C then
call SetUnitAttackSpeed(u , atk_speed + 40)
call SetUnitExtraDamage(u , atk + 30)
elseif ItemID == 0x636C7364 then
call SetUnitExtraArmor(u , armor + 8)
call SetHeroStr(u, str + 12, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 400)
elseif ItemID == 0x7373696C then
call SetHeroStr(u, str + 8, true)
call SetHeroAgi(u, agi + 8, true)
call SetHeroInt(u, int + 8, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
elseif ItemID == 0x7374656C then
call SetHeroAgi(u, agi + 30, true)
call SetUnitExtraDamage(u , atk + 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 10.0)
elseif ItemID == 0x62677374 then
call SetHeroStr(u, str + 30, true)
call SetUnitLifeRegeneration(u , regen_hp + 6.0)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.18)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.18)
elseif ItemID == 0x6C687374 then
call SetHeroInt(u, int + 30, true)
call SetUnitManaRegeneration(u , regen_mp + 4.5)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.09)
elseif ItemID == 0x72737431 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SetUnitManaRegeneration(u , regen_mp + 5.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x62726163 then
call SetUnitExtraArmor(u , armor + 8)
call SetHeroAgi(u, agi + 12, true)
call SetUnitAttackSpeed(u , atk_speed + 32)
elseif ItemID == 0x62737064 then
call SetUnitExtraDamage(u , atk + 40)
call SetHeroStr(u, str + 10, true)
elseif ItemID == 0x6F646566 then
call SetUnitExtraArmor(u , armor + 8)
call SetHeroInt(u, int + 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 175
elseif ItemID == 0x6576746C then
call SetUnitExtraArmor(u , armor + 12)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 400)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.10)
elseif ItemID == 0x6667736B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 375)
call SetUnitManaRegeneration(u , regen_mp + 2.0)
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
call SetHeroInt(u, int + 2, true)
elseif ItemID == 0x696E6673 then
call SetHeroAgi(u, agi + 10, true)
call SetHeroInt(u, int + 10, true)
call SetUnitExtraDamage(u , atk + 15)
elseif ItemID == 0x706F6D6E then
call SetHeroInt(u, int + 5, true)
call SetUnitExtraDamage(u , atk + 30)
call SetUnitAttackSpeed(u , atk_speed + 25)
elseif ItemID == 0x776C7364 then
call SetHeroStr(u, str + 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
elseif ItemID == 0x77696C6C then
call SetUnitExtraArmor(u , armor + 8)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetUnitManaRegeneration(u , regen_mp + 0.75)
elseif ItemID == 0x77696C64 then
call SetUnitExtraDamage(u , atk + 20)
call SetHeroStr(u, str + 5, true)
call SetHeroAgi(u, agi + 5, true)
call SetHeroInt(u, int + 5, true)
elseif ItemID == 0x72656A33 then
call SetUnitExtraDamage(u , atk + 18)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 8.0)
elseif ItemID == 0x616E6B68 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 5, true)
call SetHeroAgi(u, agi + 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x776F6D73 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
call SetUnitExtraArmor(u , armor + 5)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x706E7675 then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroStr(u, str + 10, true)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x77687764 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
elseif ItemID == 0x6D6E7374 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 225)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 225)
call SetUnitExtraArmor(u , armor + 3)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
elseif ItemID == 0x686C7374 then
call SetUnitExtraDamage(u , atk + 20)
call SetUnitAttackSpeed(u , atk_speed + 20)
call SetHeroAgi(u, agi + 8, true)
elseif ItemID == 0x77637963 then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLifeRegeneration(u , regen_hp + 5.0)
call SetHeroStr(u, str + 11, true)
elseif ItemID == 0x66677267 then
call SetUnitExtraDamage(u , atk + 10)
call SetUnitAttackSpeed(u , atk_speed + 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 12.0)
elseif ItemID == 0x77736873 then
call SetUnitExtraArmor(u , armor + 10)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x77737764 then
call SetUnitExtraArmor(u , armor + 20)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
set check=0
set Loop=0
loop
exitwhen Loop > 5
if GetItemTypeId(UnitItemInSlot(u, Loop)) == 0x77737764 then
set check=check + 1
endif
set Loop=Loop + 1
endloop
if check > 1 then
call SetItemPosition(Item, x, y)
endif
endif
elseif lvl == 3 then
if ItemID == 0x616D7263 then
call SetUnitExtraArmor(u , armor + 1)
elseif ItemID == 0x70616D73 then
call SetUnitExtraArmor(u , armor + 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 125)
elseif ItemID == 0x61727368 then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 65
elseif ItemID == 0x73747761 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 50)
elseif ItemID == 0x72617433 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitManaRegeneration(u , regen_mp + 1.0)
elseif ItemID == 0x6B67616C then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetUnitManaRegeneration(u , regen_mp + 2.0)
elseif ItemID == 0x62726167 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 25
elseif ItemID == 0x69776272 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
elseif ItemID == 0x656E766C then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 125)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 125)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x676F6D6E then
call SetUnitExtraArmor(u , armor + 1)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 50)
elseif ItemID == 0x74656C73 then
call SetUnitExtraArmor(u , armor + 3)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
elseif ItemID == 0x7468646D then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
elseif ItemID == 0x626C6261 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 100)
elseif ItemID == 0x616E6667 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
elseif ItemID == 0x736F756C then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 35
call SetUnitManaRegeneration(u , regen_mp + 1.50)
elseif ItemID == 0x6573617A then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call SetUnitManaRegeneration(u , regen_mp + 3.00)
elseif ItemID == 0x7363686C then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call SetHeroInt(u, int + 5, true)
call SetUnitManaRegeneration(u , regen_mp + 3.00)
elseif ItemID == 0x726F7473 then
call SetUnitExtraDamage(u , atk + 3)
elseif ItemID == 0x73747067 then
call SetUnitExtraDamage(u , atk + 12)
call MainStatBonus(u , 5)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 5)
elseif ItemID == 0x7368656E then
call SetUnitExtraDamage(u , atk + 20)
call MainStatBonus(u , 10)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 10)
elseif ItemID == 0x70737064 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 25
elseif ItemID == 0x736B7368 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
call SetHeroInt(u, int + 8, true)
elseif ItemID == 0x666C6167 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call SetHeroInt(u, int + 15, true)
elseif ItemID == 0x75666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 25
elseif ItemID == 0x6E666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
call SetHeroInt(u, int + 3, true)
call SetUnitManaRegeneration(u , regen_mp + 0.50)
elseif ItemID == 0x6F666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
call SetHeroInt(u, int + 6, true)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
elseif ItemID == 0x62747374 then
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x7462736D then
call SetUnitExtraArmor(u , armor + 4)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 200)
elseif ItemID == 0x746C756D then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetHeroStr(u, str + 4, true)
elseif ItemID == 0x776E6567 then
call SetUnitExtraDamage(u , atk + 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 9.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x74636173 then
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
call SetHeroInt(u, int + 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 275)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 175)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x73726567 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1000)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.25)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.50)
elseif ItemID == 0x76616D70 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetUnitExtraArmor(u , armor + 6)
call SetUnitLifeRegeneration(u , regen_hp + 6.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 25
elseif ItemID == 0x73696C6B then
call SetHeroStr(u, str + 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitLifeRegeneration(u , regen_hp + 6.00)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.20)
elseif ItemID == 0x70636C72 then
call SetHeroAgi(u, agi + 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitLifeRegeneration(u , regen_hp + 6.00)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.20)
elseif ItemID == 0x706C636C then
call SetHeroInt(u, int + 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitLifeRegeneration(u , regen_hp + 6.00)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.20)
elseif ItemID == 0x74736374 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
call SetUnitManaRegeneration(u , regen_mp + 2.25)
elseif ItemID == 0x726E6563 then
call SetHeroStr(u, str + 13, true)
call SetHeroAgi(u, agi + 13, true)
call SetHeroInt(u, int + 13, true)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x6D637269 then
call SetHeroInt(u, int + 13, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 135
elseif ItemID == 0x736B756C then
call SetHeroAgi(u, agi + 10, true)
call SetUnitExtraDamage(u , atk + 10)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 5.0)
elseif ItemID == 0x73686173 then
call SetHeroInt(u, int + 10, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 300)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x6D6F6F6E then
call SetHeroStr(u, str + 20, true)
call SetHeroAgi(u, agi + 10, true)
set Loop=GetHeroStr(u, true)
call SetUnitAttackSpeed(u , atk_speed + Loop)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
elseif ItemID == 0x68736C76 then
call SetHeroInt(u, int + 20, true)
call SetUnitExtraDamage(u , atk + 20)
elseif ItemID == 0x706D616E then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 675)
call SetUnitLifeRegeneration(u , regen_hp + 5.00)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x70686561 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 10, true)
elseif ItemID == 0x70696E76 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 600)
elseif ItemID == 0x736D616E then
call SetHeroInt(u, int + 13, true)
call SetUnitManaRegeneration(u , regen_mp + 1.75)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
elseif ItemID == 0x73686561 then
call SetUnitExtraDamage(u , atk + 20)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 500
set check=0
set Loop=0
loop
exitwhen Loop > 5
if GetItemTypeId(UnitItemInSlot(u, Loop)) == 0x73686561 then
set check=check + 1
endif
set Loop=Loop + 1
endloop
if check > 1 then
call SetItemPosition(Item, x, y)
endif
elseif ItemID == 0x776E6575 then
call SetHeroStr(u, str + 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
elseif ItemID == 0x736E6567 then
call SetUnitExtraDamage(u , atk + 20)
call SetUnitAttackSpeed(u , atk_speed + 20)
call SetHeroAgi(u, agi + 10, true)
set Loop=GetHeroAgi(u, true)
call SetUnitExtraDamage(u , atk + Loop * 2)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.01 * I2R(Loop))
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
elseif ItemID == 0x7373616E then
call SetHeroStr(u, str + 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.2)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.1)
elseif ItemID == 0x74726574 then
call SetHeroInt(u, int + 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 375)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 225)
call SetUnitExtraArmor(u , armor + 2)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
call GroupAddUnit(udg_ItemGroup[54], u)
elseif ItemID == 0x73747770 then
call SetUnitExtraDamage(u , atk + 15)
call SetUnitAttackSpeed(u , atk_speed + 20)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 5.0)
elseif ItemID == 0x706E766C then
call SetUnitExtraArmor(u , armor + 10)
call SetHeroStr(u, str + 15, true)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) + 0.25)
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) + 0.25)
elseif ItemID == 0x74677268 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 444)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 444)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 44
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
call GroupAddUnit(udg_ItemGroup[55], u)
endif
elseif lvl == 4 then
if ItemID == 0x636B6E67 then
if LoadInteger(udg_hash, GetHandleId(pl), 13) != 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 1)
set Loop=str / 5
call SetHeroStr(u, str + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 1, Loop)
set Loop=agi / 5
call SetHeroAgi(u, agi + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 2, Loop)
set Loop=int / 5
call SetHeroInt(u, int + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 3, Loop)
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF4B39Нельзя носить больше одного множителя!")
call DisableTrigger(gg_trg_RemoveStat)
call SetItemPosition(Item, x, y)
call EnableTrigger(gg_trg_RemoveStat)
endif
elseif ItemID == 0x73686377 then
call MainStatBonus(u , 10)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.2)
elseif ItemID == 0x6772736C then
call SetUnitExtraDamage(u , atk + 30)
call SetHeroAgi(u, agi + 15, true)
elseif ItemID == 0x746D7363 then
call SetUnitExtraDamage(u , atk + 25)
call SetHeroStr(u, str + 20, true)
call SetUnitLifeRegeneration(u , regen_hp + 3.00)
elseif ItemID == 0x7462616B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1500)
call SetHeroStr(u, str + 20, true)
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLifeRegeneration(u , regen_hp + 8.00)
elseif ItemID == 0x74666172 then
if LoadInteger(udg_hash, GetHandleId(pl), 13) != 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 1)
call SetUnitExtraDamage(u , atk + 10)
call SetUnitExtraArmor(u , armor + 3)
set Loop=str / 5
call SetHeroStr(u, str + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 1, Loop)
set Loop=agi / 5
call SetHeroAgi(u, agi + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 2, Loop)
set Loop=int / 5
call SetHeroInt(u, int + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 3, Loop)
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF4B39Нельзя носить больше одного множителя!")
call DisableTrigger(gg_trg_RemoveStat)
call SetItemPosition(Item, x, y)
call EnableTrigger(gg_trg_RemoveStat)
endif
elseif ItemID == 0x73626F6B then
call SetHeroInt(u, int + 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
call SetUnitManaRegeneration(u , regen_mp + 3.00)
elseif ItemID == 0x67736F75 then
call MainStatBonus(u , 10)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 10)
elseif ItemID == 0x72616D31 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
elseif ItemID == 0x72616D32 then
call SetHeroStr(u, str + 18, true)
call SetHeroAgi(u, agi + 18, true)
call SetHeroInt(u, int + 18, true)
call SetUnitExtraArmor(u , armor + 5)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 175
elseif ItemID == 0x67656D74 then
call SetHeroStr(u, str + 3, true)
call SetHeroAgi(u, agi + 3, true)
call SetHeroInt(u, int + 3, true)
elseif ItemID == 0x6173626C then
call SetHeroInt(u, int + 15, true)
call SetUnitExtraArmor(u , armor + 5)
call SetUnitManaRegeneration(u , regen_mp + 3.25)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x72616D33 then
call SetHeroInt(u, int + 20, true)
call SetUnitExtraArmor(u , armor + 7)
call SetUnitLifeRegeneration(u , regen_hp + 5.00)
elseif ItemID == 0x6C676468 then
call SetHeroStr(u, str + 15, true)
call SetHeroAgi(u, agi + 15, true)
call SetHeroInt(u, int + 15, true)
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 750)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 6.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
elseif ItemID == 0x61666163 then
call SetUnitExtraDamage(u , atk + 10)
call SetUnitExtraArmor(u , armor + 3)
elseif ItemID == 0x72616D34 then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x63727973 then
call SetHeroAgi(u, agi + 20, true)
call SetUnitExtraDamage(u , atk + 30)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
elseif ItemID == 0x6B70696E then
call SetUnitExtraArmor(u , armor + 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 325
elseif ItemID == 0x616A656E then
call SetUnitExtraDamage(u , atk + 12)
elseif ItemID == 0x6876616C then
call SetUnitExtraDamage(u , atk + 35)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.35)
elseif ItemID == 0x64657363 then
call SetHeroInt(u, int + 20, true)
call SetUnitExtraDamage(u , atk + 20)
call SetUnitLifeRegeneration(u , regen_hp + 3.00)
elseif ItemID == 0x6F66726F then
call SetHeroInt(u, int + 30, true)
call SetUnitManaRegeneration(u , regen_mp + 6.00)
call SetUnitExtraArmor(u , armor + 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
elseif ItemID == 0x72646534 then
call SetUnitExtraDamage(u , atk + 20)
call SetHeroStr(u, str + 5, true)
call SetHeroAgi(u, agi + 5, true)
call SetHeroInt(u, int + 5, true)
elseif ItemID == 0x72617466 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.25)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.25)
elseif ItemID == 0x746B6E6F then
call SetUnitExtraArmor(u , armor + 15)
call SetHeroStr(u, str + 20, true)
call SetUnitLifeRegeneration(u , regen_hp + 3.00)
elseif ItemID == 0x6D6F6474 then
call SetUnitExtraArmor(u , armor + 20)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 2000)
elseif ItemID == 0x70727674 then
call SetUnitExtraDamage(u , atk + 40)
call SetUnitAttackSpeed(u , atk_speed + 30)
call SetHeroStr(u, str + 15, true)
call SetHeroAgi(u, agi + 15, true)
elseif ItemID == 0x72726532 then
call SetUnitLifeRegeneration(u , regen_hp + 25.00)
call SetUnitManaRegeneration(u , regen_mp + 9.00)
elseif ItemID == 0x73707265 then
call SetHeroStr(u, str + 40, true)
call SetUnitExtraDamage(u , atk + 50)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.10)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
elseif ItemID == 0x6D6E7366 then
call SetHeroInt(u, int + 40, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 800)
call SetUnitManaRegeneration(u , regen_mp + 8.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 175
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.11)
elseif ItemID == 0x61786173 then
call SetHeroAgi(u, agi + 40, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) + 0.30)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 11.0)
endif
elseif lvl == 5 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 7) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF8200C8Комплект ''Бездна'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroAgi(u, agi + 6, true)
elseif BonusStat2 == 3 then
elseif BonusStat2 == 4 then
call SetHeroAgi(u, agi + 10, true)
call SetHeroStr(u, str + 5, true)
elseif BonusStat2 == 5 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 7, BonusStat2)
set agi=GetHeroAgi(u, false)
set str=GetHeroStr(u, false)
if ItemID == 0x49303532 then
set BonusStat=( BonusStat2 - 1 ) * 6
call SetHeroAgi(u, agi + BonusStat, true)
set agi=GetHeroAgi(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x49303532) == true then
call SetHeroAgi(u, agi + 6, true)
set agi=GetHeroAgi(u, false)
endif
if ItemID == 0x49303532 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 250)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.15)
elseif ItemID == 0x49303436 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 300)
call SetHeroAgi(u, agi + 6, true)
call SetHeroStr(u, str + 4, true)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) + 0.07)
elseif ItemID == 0x49303745 then
call SetUnitExtraDamage(u , atk + 30)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.12)
elseif ItemID == 0x49303437 then
call SetUnitExtraDamage(u , atk + 40)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
elseif ItemID == 0x49303656 then
call SetUnitExtraArmor(u , armor + 6)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
elseif ItemID == 0x49303434 then
call SetUnitAttackSpeed(u , atk_speed + 40)
call SetUnitExtraDamage(u , atk + 8)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
elseif ItemID == 0x49303433 then
call SetHeroAgi(u, agi + 10, true)
elseif ItemID == 0x49303435 then
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.13)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.13)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.13)
elseif ItemID == 0x4930304C then
call SetUnitExtraDamage(u , atk + 7)
call SetUnitAttackSpeed(u , atk_speed + 7)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) + 0.07)
elseif ItemID == 0x49303530 then
call SetHeroStr(u, str + 6, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 200)
endif
elseif lvl == 13 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 9) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF96C8E1Комплект ''Шторм'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroInt(u, int + 6, true)
elseif BonusStat2 == 3 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif BonusStat2 == 4 then
call SetHeroInt(u, int + 10, true)
call SetHeroAgi(u, agi + 5, true)
elseif BonusStat2 == 5 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 9, BonusStat2)
set int=GetHeroInt(u, false)
set agi=GetHeroAgi(u, false)
if ItemID == 0x4930414C then
set BonusStat=( BonusStat2 - 1 ) * 6
call SetHeroInt(u, int + BonusStat, true)
set int=GetHeroInt(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x4930414C) == true then
call SetHeroInt(u, int + 6, true)
set int=GetHeroInt(u, false)
endif
if ItemID == 0x4930414C then
call SetHeroInt(u, int + 30, true)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.20)
elseif ItemID == 0x49303936 then
call SetUnitExtraDamage(u , atk + 25)
call SetHeroInt(u, int + 15, true)
call SetHeroStr(u, str + 15, true)
elseif ItemID == 0x49303938 then
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.30)
elseif ItemID == 0x4930414D then
call SetUnitAttackSpeed(u , atk_speed + 20)
call SetHeroInt(u, int + 15, true)
elseif ItemID == 0x49303937 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 250)
call SetUnitLifeRegeneration(u , regen_hp + 3.00)
call SetUnitManaRegeneration(u , regen_mp + 2.00)
elseif ItemID == 0x49303939 then
call SetHeroInt(u, int + 6, true)
call SetHeroAgi(u, agi + 4, true)
call SetUnitManaRegeneration(u , regen_mp + 1.25)
elseif ItemID == 0x49303941 then
call MainStatBonus(u , 15)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 15)
call SetUnitExtraArmor(u , armor + 4)
elseif ItemID == 0x49303942 then
call SetHeroInt(u, int + 15, true)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.15)
elseif ItemID == 0x4930304E then
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.15)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) + 0.15)
elseif ItemID == 0x49303531 then
call SetUnitAttackSpeed(u , atk_speed + 30)
call SetUnitExtraArmor(u , armor + 1)
elseif ItemID == 0x4930374E then
call SetUnitAttackSpeed(u , atk_speed + 10)
call SetUnitExtraArmor(u , armor + 5)
endif
elseif lvl == 14 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 6) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFC87D32Комплект ''Доблесть'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroStr(u, str + 6, true)
elseif BonusStat2 == 3 then
elseif BonusStat2 == 4 then
call SetHeroStr(u, str + 10, true)
call SetHeroInt(u, int + 5, true)
elseif BonusStat2 == 5 then
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 6, BonusStat2)
set str=GetHeroStr(u, false)
set int=GetHeroInt(u, false)
if ItemID == 0x4930414A then
set BonusStat=( BonusStat2 - 1 ) * 6
call SetHeroStr(u, str + BonusStat, true)
set str=GetHeroStr(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x4930414A) == true then
call SetHeroStr(u, str + 6, true)
set str=GetHeroStr(u, false)
endif
if ItemID == 0x4930414A then
call SetHeroStr(u, str + 10, true)
call SetUnitExtraDamage(u , atk + 30)
elseif ItemID == 0x49303439 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetUnitExtraArmor(u , armor + 3)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) + 0.20)
elseif ItemID == 0x49303935 then
call SetHeroStr(u, str + 5, true)
call SetUnitLifeRegeneration(u , regen_hp + 1.00)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.15)
elseif ItemID == 0x49303442 then
call SetUnitExtraDamage(u , atk + 25)
call SetUnitAttackSpeed(u , atk_speed + 20)
elseif ItemID == 0x4930414B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 600)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
call SetUnitLifeRegeneration(u , regen_hp + 5.00)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
elseif ItemID == 0x49303539 then
call SetHeroStr(u, str + 20, true)
call SetUnitExtraDamage(u , atk + 10)
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.15)
elseif ItemID == 0x4930304D then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetHeroStr(u, str + 15, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.07)
elseif ItemID == 0x49303438 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 400)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
call SetUnitExtraArmor(u , armor + 8)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.10)
elseif ItemID == 0x4930314B then
call SetUnitExtraDamage(u , atk + 12)
call SetHeroStr(u, str + 4, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 4.00)
elseif ItemID == 0x49303931 then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 800)
call GroupAddUnit(udg_ItemGroup[29], u)
endif
elseif lvl == 15 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 8) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFFF9619Комплект ''Адский'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroStr(u, str + 5, true)
call SetHeroInt(u, int + 5, true)
call SetHeroAgi(u, agi + 5, true)
elseif BonusStat2 == 3 then
call UnitAddAbility(u, 0x53303046)
elseif BonusStat2 == 4 then
call SetHeroStr(u, str + 8, true)
call SetHeroInt(u, int + 8, true)
call SetHeroAgi(u, agi + 8, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 8.00)
elseif BonusStat2 == 5 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
elseif BonusStat2 == 6 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.10)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.10)
endif
call SaveInteger(udg_hash, u_Id, 8, BonusStat2)
set str=GetHeroStr(u, false)
set agi=GetHeroAgi(u, false)
set int=GetHeroInt(u, false)
if ItemID == 0x49303831 then
call SetUnitExtraArmor(u , armor + 20)
elseif ItemID == 0x49303639 then
call SetUnitExtraDamage(u , atk + 80)
call SetHeroStr(u, str + 6, true)
call SetHeroAgi(u, agi + 6, true)
call SetHeroInt(u, int + 6, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.50)
elseif ItemID == 0x49303642 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 2225)
call SetUnitExtraArmor(u , armor + 8)
call SetUnitLifeRegeneration(u , regen_hp + 6.00)
elseif ItemID == 0x49303638 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1000)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SetHeroStr(u, str + 3, true)
call SetHeroAgi(u, agi + 3, true)
call SetHeroInt(u, int + 3, true)
elseif ItemID == 0x49303730 then
call SetUnitExtraArmor(u , armor + 5)
call SetHeroStr(u, str + 8, true)
call SetHeroAgi(u, agi + 8, true)
call SetHeroInt(u, int + 8, true)
call SetUnitLifeRegeneration(u , regen_hp + 8.00)
elseif ItemID == 0x49303637 then
call SetUnitExtraDamage(u , atk + 30)
call SetUnitAttackSpeed(u , atk_speed + 30)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.30)
elseif ItemID == 0x49303641 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetUnitExtraArmor(u , armor + 5)
call MainStatBonus(u , 10)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 10)
elseif ItemID == 0x49303643 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1000)
call SetUnitExtraArmor(u , armor + 10)
elseif ItemID == 0x49303056 then
call SetUnitExtraDamage(u , atk + 40)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.25)
call MainStatBonus(u , 9)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 9)
endif
elseif ItemID == 0x49304143 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 7) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF8200C8Комплект ''Бездна'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroAgi(u, agi + 6, true)
elseif BonusStat2 == 3 then
elseif BonusStat2 == 4 then
call SetHeroAgi(u, agi + 10, true)
call SetHeroStr(u, str + 5, true)
elseif BonusStat2 == 5 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 7, BonusStat2)
set agi=GetHeroAgi(u, false)
set str=GetHeroStr(u, false)
if UnitHasItemOfTypeBJ(u, 0x49303532) == true then
call SetHeroAgi(u, agi + 6, true)
set agi=GetHeroAgi(u, false)
endif
set BonusStat2=LoadInteger(udg_hash, u_Id, 9) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF96C8E1Комплект ''Шторм'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroInt(u, int + 6, true)
elseif BonusStat2 == 3 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif BonusStat2 == 4 then
call SetHeroInt(u, int + 10, true)
call SetHeroAgi(u, agi + 5, true)
elseif BonusStat2 == 5 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 9, BonusStat2)
set int=GetHeroInt(u, false)
set agi=GetHeroAgi(u, false)
if UnitHasItemOfTypeBJ(u, 0x4930414C) == true then
call SetHeroInt(u, int + 6, true)
set int=GetHeroInt(u, false)
endif
set BonusStat2=LoadInteger(udg_hash, u_Id, 6) + 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFC87D32Комплект ''Доблесть'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 2 then
call SetHeroStr(u, str + 6, true)
elseif BonusStat2 == 3 then
elseif BonusStat2 == 4 then
call SetHeroStr(u, str + 10, true)
call SetHeroInt(u, int + 5, true)
elseif BonusStat2 == 5 then
elseif BonusStat2 == 6 then
endif
call SaveInteger(udg_hash, u_Id, 6, BonusStat2)
set str=GetHeroStr(u, false)
set int=GetHeroInt(u, false)
if UnitHasItemOfTypeBJ(u, 0x4930414A) == true then
call SetHeroStr(u, str + 6, true)
set str=GetHeroStr(u, false)
endif
call SetHeroStr(u, str + 20, true)
call SetHeroAgi(u, agi + 20, true)
call SetHeroInt(u, int + 20, true)
elseif lvl == 6 then
if ItemID == 0x72646530 then
call SetUnitAttackSpeed(u , atk_speed + 20)
elseif ItemID == 0x6C6E726E then
call SetUnitExtraDamage(u , atk + 5)
call SetUnitLifeRegeneration(u , regen_hp + 2.00)
elseif ItemID == 0x7370726E then
call SetHeroStr(u, str + 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
elseif ItemID == 0x6E737069 then
call SetUnitExtraDamage(u , atk + 10)
elseif ItemID == 0x6D6C7374 then
call SetUnitExtraDamage(u , atk + 2)
elseif ItemID == 0x6D6C7374 then
call SetHeroInt(u, int + 4, true)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
elseif ItemID == 0x63726474 then
call SetHeroStr(u, str + 1, true)
call SetHeroAgi(u, agi + 1, true)
call SetHeroInt(u, int + 1, true)
elseif ItemID == 0x6B6C6D6D then
call SetHeroAgi(u, agi + 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
elseif ItemID == 0x6A64726E then
call SetHeroInt(u, int + 2, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 75)
elseif ItemID == 0x72656A32 then
call SetHeroStr(u, str + 4, true)
call SetHeroAgi(u, agi + 4, true)
call SetHeroInt(u, int + 4, true)
call SetUnitLifeRegeneration(u , regen_hp - 1.00)
elseif ItemID == 0x66726764 then
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x64757374 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.11)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.11)
elseif ItemID == 0x726E7370 then
call SetUnitExtraArmor(u , armor + 1)
call SetHeroStr(u, str + 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
elseif ItemID == 0x64727068 then
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
call SetHeroInt(u, int + 2, true)
call SetUnitExtraArmor(u , armor + 1)
elseif ItemID == 0x73687273 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 50)
elseif ItemID == 0x7664646C then
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x73726264 then
call SetHeroInt(u, int + 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
elseif ItemID == 0x72656A31 then
call SetUnitExtraArmor(u , armor + 1)
elseif ItemID == 0x6667756E then
call SetHeroInt(u, int + 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 50)
elseif ItemID == 0x72656A34 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 5.0)
elseif ItemID == 0x74677870 then
call SetUnitLifeRegeneration(u , regen_hp + 1.50)
call SetUnitManaRegeneration(u , regen_mp + 1.50)
elseif ItemID == 0x6C757265 then
call SetUnitLifeRegeneration(u , regen_hp + 3.00)
elseif ItemID == 0x72756D70 then
call SetUnitManaRegeneration(u , regen_mp + 3.00)
elseif ItemID == 0x73747265 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x73666F67 then
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.20)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) - 0.10)
elseif ItemID == 0x72756774 then
call SetUnitExtraArmor(u , armor + 2)
call SetHeroStr(u, str - 3, true)
call SetHeroAgi(u, agi + 6, true)
elseif ItemID == 0x72656A35 then
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) + 0.10)
elseif ItemID == 0x7363756C then
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) + 0.05)
call SetHeroStr(u, str + 3, true)
endif
elseif lvl == 7 then
if ItemID == 0x49303653 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 5, true)
call SetHeroAgi(u, agi + 5, true)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303039 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 10, true)
call SetHeroAgi(u, agi + 5, true)
elseif ItemID == 0x49303652 then
call SetUnitLifeRegeneration(u , regen_hp + 5.0)
call SetUnitManaRegeneration(u , regen_mp + 1.50)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 200)
elseif ItemID == 0x49303533 then
call SetUnitLifeRegeneration(u , regen_hp + 24.0)
call SetUnitManaRegeneration(u , regen_mp + 5.00)
elseif ItemID == 0x49303737 then
call SetUnitLifeRegeneration(u , regen_hp + 4.0)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 750)
call SetHeroStr(u, str + 10, true)
elseif ItemID == 0x49303141 then
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 350)
call SaveReal(udg_hash, u_Id, 43, LoadReal(udg_hash, u_Id, 43) + 0.20)
elseif ItemID == 0x49303738 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
call SetHeroInt(u, int + 15, true)
set Loop=GetHeroInt(u, true)
call SetUnitManaRegeneration(u , regen_mp + I2R(Loop) * 0.05)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
elseif ItemID == 0x49303739 then
call SetUnitExtraDamage(u , atk + 10)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x49303742 then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroAgi(u, agi + 10, true)
call SetUnitAttackSpeed(u , atk_speed + 30)
elseif ItemID == 0x49303743 then
call SetUnitExtraDamage(u , atk + 12)
call SetHeroInt(u, int + 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x49303752 then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroAgi(u, agi + 10, true)
call SetUnitAttackSpeed(u , atk_speed + 30)
elseif ItemID == 0x49303837 then
call MainStatBonus(u , 9)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 9)
call SetUnitAttackSpeed(u , atk_speed + 30)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.25)
elseif ItemID == 0x49303839 then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroInt(u, int + 10, true)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
elseif ItemID == 0x49303848 then
call SetUnitExtraArmor(u , armor + 8)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 200)
elseif ItemID == 0x49303849 then
call SetUnitExtraDamage(u , atk + 30)
call SetUnitAttackSpeed(u , atk_speed + 15)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
elseif ItemID == 0x49303856 then
call SetUnitExtraArmor(u , armor + 4)
call SetHeroInt(u, int + 10, true)
call SetUnitManaRegeneration(u , regen_mp + 2.00)
elseif ItemID == 0x49303932 then
call SetUnitExtraDamage(u , atk + 25)
call SetHeroAgi(u, agi + 10, true)
elseif ItemID == 0x49303947 then
call MainStatBonus(u , 5)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 5)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.10)
endif
elseif lvl == 8 then
if ItemID == 0x646B6677 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 333)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 333)
elseif ItemID == 0x6D67746B then
set udg_Income[n]=udg_Income[n] + 1
set udg_SIncome[n]=udg_SIncome[n] + 25
set udg_ExpIncome[n]=udg_ExpIncome[n] + 2
elseif ItemID == 0x6D6F7274 then
call SetHeroInt(u, int + 50, true)
call SetUnitExtraArmor(u , armor - 7)
elseif ItemID == 0x656E6773 then
call SetHeroStr(u, str + 18, true)
call SetUnitExtraDamage(u , atk + 13)
elseif ItemID == 0x73687764 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 575)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x676F7072 then
call SetUnitAttackSpeed(u , atk_speed + 38)
call SetUnitExtraArmor(u , armor + 4)
elseif ItemID == 0x6B336D33 then
call SetHeroInt(u, int + 5, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 125)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x6B796768 then
call SetUnitExtraDamage(u , atk + 25)
call SetUnitAttackSpeed(u , atk_speed + 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 60
elseif ItemID == 0x6B74726D then
call SetUnitExtraDamage(u , atk + 20)
call MainStatBonus(u , 5)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 5)
elseif ItemID == 0x6C656467 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 185
call SetUnitLifeRegeneration(u , regen_hp + 1.50)
call SetUnitManaRegeneration(u , regen_mp + 3.00)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 1.00)
elseif ItemID == 0x6B336D32 then
call SetUnitExtraArmor(u , armor + 3)
elseif ItemID == 0x64746862 then
call SetUnitExtraDamage(u , atk + 12)
call SetHeroStr(u, str + 9, true)
elseif ItemID == 0x736B7274 then
call SetUnitExtraDamage(u , atk + 30)
call SetHeroStr(u, str + 30, true)
elseif ItemID == 0x6B79626C then
set udg_SIncome[n]=udg_SIncome[n] + 150
elseif ItemID == 0x6B796D6E then
call SetUnitExtraDamage(u , atk + 15)
call SetUnitAttackSpeed(u , atk_speed + 30)
call SetHeroAgi(u, agi + 7, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
elseif ItemID == 0x6B336D31 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 125)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 125)
call SetUnitLifeRegeneration(u , regen_hp + 1.50)
call SetUnitManaRegeneration(u , regen_mp + 1.50)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) + 0.20)
elseif ItemID == 0x77746C67 then
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x70686C74 then
call SetHeroInt(u, int + 10, true)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x736F7266 then
call SetUnitLifeRegeneration(u , regen_hp + 14.0)
elseif ItemID == 0x676D6672 then
call SetHeroStr(u, str + 8, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 425)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 5.0)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.55)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.15)
elseif ItemID == 0x73636C70 then
call SetHeroInt(u, int + 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.30)
elseif ItemID == 0x6B79736E then
if LoadInteger(udg_hash, GetHandleId(pl), 13) != 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 1)
call SetUnitManaRegeneration(u , regen_mp + 2.50)
set Loop=R2I(GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.50)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + Loop)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF4B39Нельзя носить больше одного множителя!")
call DisableTrigger(gg_trg_RemoveStat)
call SetItemPosition(Item, x, y)
call EnableTrigger(gg_trg_RemoveStat)
endif
elseif ItemID == 0x6A706E74 then
if LoadInteger(udg_hash, GetHandleId(pl), 13) != 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 1)
call SetUnitLifeRegeneration(u , regen_hp + 5.00)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.10)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
set Loop=str / 3
call SetHeroStr(u, str + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 1, Loop)
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF4B39Нельзя носить больше одного множителя!")
call DisableTrigger(gg_trg_RemoveStat)
call SetItemPosition(Item, x, y)
call EnableTrigger(gg_trg_RemoveStat)
endif
elseif ItemID == 0x73656872 then
call MainStatBonus(u , 13)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 13)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
elseif ItemID == 0x636E686E then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 15, true)
call SetHeroAgi(u, agi + 5, true)
elseif ItemID == 0x617A6872 then
call SetHeroStr(u, str + 5, true)
call SetHeroAgi(u, agi + 5, true)
call SetHeroInt(u, int + 5, true)
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) + 0.20)
elseif ItemID == 0x63686573 then
call SetUnitExtraDamage(u , atk + 20)
call SetUnitAttackSpeed(u , atk_speed + 20)
elseif ItemID == 0x627A6266 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) + 0.20)
elseif ItemID == 0x627A6265 then
call SetUnitExtraArmor(u , armor + 9)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.05)
endif
elseif lvl == 9 then
if ItemID == 0x49303732 then
call SetUnitExtraArmor(u , armor + 8)
elseif ItemID == 0x49303734 then
call SetHeroAgi(u, agi + 12, true)
elseif ItemID == 0x49303735 then
call SetHeroInt(u, int + 12, true)
elseif ItemID == 0x49303733 then
call SetHeroStr(u, str + 12, true)
elseif ItemID == 0x49303444 then
call MainStatBonus(u , 6)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 6)
call SetUnitManaRegeneration(u , regen_mp + 0.85)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 200)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) - 0.35)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
elseif ItemID == 0x49303448 then
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303443 then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroAgi(u, agi + 4, true)
elseif ItemID == 0x4930365A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303446 then
call SetUnitExtraArmor(u , armor + 4)
elseif ItemID == 0x49303543 then
call SetHeroStr(u, str + 15, true)
call SetUnitExtraDamage(u , atk + 20)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.10)
elseif ItemID == 0x49303549 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303555 then
call SetUnitExtraDamage(u , atk + 12)
elseif ItemID == 0x4930355A then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroAgi(u, agi + 5, true)
elseif ItemID == 0x49303834 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 50)
call SetUnitExtraArmor(u , armor + 3)
elseif ItemID == 0x49303846 then
call SetUnitExtraDamage(u , atk + 25)
elseif ItemID == 0x49303847 then
call SetHeroStr(u, str + 4, true)
call SetUnitExtraArmor(u , armor + 4)
elseif ItemID == 0x49303855 then
call SetUnitExtraDamage(u , atk + 5)
call SetHeroAgi(u, agi + 3, true)
call SetUnitAttackSpeed(u , atk_speed + 10)
elseif ItemID == 0x49303857 then
call SetHeroInt(u, int + 4, true)
call SetUnitExtraArmor(u , armor + 2)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
call SetUnitManaRegeneration(u , regen_mp + 0.85)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.05)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.05)
elseif ItemID == 0x4930385A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
call SetUnitManaRegeneration(u , regen_mp + 0.50)
call GroupAddUnit(udg_ItemGroup[28], u)
elseif ItemID == 0x4930394F then
call SetUnitExtraArmor(u , armor + 2)
call GroupAddUnit(udg_ItemGroup[39], u)
elseif ItemID == 0x49304156 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 150)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.15)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) + 0.15)
elseif ItemID == 0x49303057 then
call SetUnitExtraDamage(u , atk + 7)
call MainStatBonus(u , 2)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 2)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) + 0.10)
elseif ItemID == 0x49303135 then
call SetUnitExtraDamage(u , atk + 8)
call SetUnitAttackSpeed(u , atk_speed + 6)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.10)
elseif ItemID == 0x49303058 then
call SetUnitExtraArmor(u , armor + 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 50)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) + 0.08)
endif
elseif lvl == 10 then
if ItemID == 0x49304157 then
call SetUnitExtraDamage(u , atk + 10)
call SetHeroStr(u, str + 5, true)
call SetUnitExtraArmor(u , armor + 4)
elseif ItemID == 0x49303747 then
call SetUnitExtraDamage(u , atk + 10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
elseif ItemID == 0x49303748 then
call SetUnitExtraDamage(u , atk + 15)
call SetHeroStr(u, str + 5, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 6.0)
elseif ItemID == 0x49303659 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 250)
call SetUnitExtraArmor(u , armor + 4)
call SetUnitLifeRegeneration(u , regen_hp + 2.0)
elseif ItemID == 0x49303749 then
call SetUnitLifeRegeneration(u , regen_hp + 5.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
elseif ItemID == 0x49303447 then
call SetUnitLifeRegeneration(u , regen_hp + 7.0)
elseif ItemID == 0x4930374A then
call MainStatBonus(u , 20)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 20)
elseif ItemID == 0x49303746 then
call SetUnitExtraDamage(u , atk + 10)
call SetUnitExtraArmor(u , armor + 5)
elseif ItemID == 0x49303432 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitManaRegeneration(u , regen_mp + 3.50)
elseif ItemID == 0x49303445 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.35)
elseif ItemID == 0x49303458 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.20)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.20)
call SetUnitExtraArmor(u , armor + 4)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 100)
elseif ItemID == 0x49303657 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
elseif ItemID == 0x49303547 then
call SetUnitAttackSpeed(u , atk_speed + 20)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 7.0)
elseif ItemID == 0x49303548 then
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.3)
elseif ItemID == 0x49303753 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 850)
elseif ItemID == 0x49303835 then
call SetUnitAttackSpeed(u , atk_speed + 17)
call SetUnitExtraArmor(u , armor + 3)
call SetUnitExtraDamage(u , atk + 10)
elseif ItemID == 0x49303836 then
call SetHeroStr(u, str + 2, true)
call SetHeroAgi(u, agi + 2, true)
call SetHeroInt(u, int + 2, true)
call SetUnitExtraArmor(u , armor + 2)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 150)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 75)
call GroupAddUnit(udg_ItemGroup[23], u)
elseif ItemID == 0x49303030 then
call SetHeroStr(u, str + 10, true)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) + 0.15)
set t=CreateTimer()
call TimerStart(t, 180, false, function BrokenSeal)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveItemHandle(udg_hash, GetHandleId(t), 2, Item)
call SaveTimerHandle(udg_hash, GetHandleId(Item), 6, t)
elseif ItemID == 0x49303032 then
call SetHeroInt(u, int + 10, true)
call SetUnitManaRegeneration(u , regen_mp + 1.50)
set Loop=GetHeroLevel(u)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.02 * I2R(Loop))
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.02 * I2R(Loop))
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.01 * I2R(Loop))
elseif ItemID == 0x49303033 then
call SetUnitExtraDamage(u , atk + 30)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 10.0)
elseif ItemID == 0x49303134 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
elseif ItemID == 0x49303136 then
call SetUnitExtraDamage(u , atk + 10)
call MainStatBonus(u , 3)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 3)
elseif ItemID == 0x49303142 then
call SetUnitExtraArmor(u , armor + 4)
call SetUnitLifeRegeneration(u , regen_hp + 2.5)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) + 0.06)
call SaveReal(udg_hash, u_Id, 10, LoadReal(udg_hash, u_Id, 10) + 0.50)
elseif ItemID == 0x49303143 then
call SetUnitExtraArmor(u , armor + 3)
call SetHeroAgi(u, agi + 6, true)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.08)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 6.00)
elseif ItemID == 0x72616731 then
call SetHeroInt(u, int + 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
endif
elseif lvl == 11 then
if ItemID == 0x49303655 then
call SetUnitExtraDamage(u , atk + 20)
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
call SetUnitManaRegeneration(u , regen_mp + 1.00)
elseif ItemID == 0x49303658 then
call SetHeroInt(u, int + 25, true)
call SetUnitExtraDamage(u , atk + 15)
call SetUnitManaRegeneration(u , regen_mp + 3.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif ItemID == 0x49303731 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
call SetUnitManaRegeneration(u , regen_mp + 3.50)
elseif ItemID == 0x49303736 then
call SetUnitAttackSpeed(u , atk_speed + 100)
call SetUnitExtraArmor(u , armor + 2)
elseif ItemID == 0x49303741 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetHeroStr(u, str + 10, true)
call SetUnitLifeRegeneration(u , regen_hp + 8.0)
elseif ItemID == 0x49303744 then
call SetUnitAttackSpeed(u , atk_speed + 40)
call SetHeroAgi(u, agi + 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 15
elseif ItemID == 0x4930374B then
call SetUnitExtraArmor(u , armor + 7)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
elseif ItemID == 0x4930374D then
call MainStatBonus(u , 20)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 20)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
call GroupAddUnit(udg_ItemGroup[24], u)
elseif ItemID == 0x49303750 then
call SetHeroStr(u, str + 25, true)
call SetHeroAgi(u, agi + 25, true)
call SetHeroInt(u, int + 25, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 75
elseif ItemID == 0x49303751 then
call SetUnitExtraDamage(u , atk + 20)
call SetUnitAttackSpeed(u , atk_speed + 30)
elseif ItemID == 0x49303838 then
call SetUnitLifeRegeneration(u , regen_hp + 4.0)
call SetHeroAgi(u, agi + 15, true)
call SetHeroInt(u, int + 15, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
elseif ItemID == 0x4930384A then
call SetHeroStr(u, str + 10, true)
call SetHeroAgi(u, agi + 10, true)
call SetHeroInt(u, int + 10, true)
call SetUnitAttackSpeed(u , atk_speed + 15)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.40)
elseif ItemID == 0x4930384B then
call SetHeroStr(u, str + 25, true)
call SetUnitExtraDamage(u , atk + 30)
elseif ItemID == 0x49303957 then
call SetHeroInt(u, int + 15, true)
call SetUnitManaRegeneration(u , regen_mp + 2.00)
call SetUnitExtraArmor(u , armor + 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 225)
elseif ItemID == 0x4930414E then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 750)
call SetUnitManaRegeneration(u , regen_mp + 1.50)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 125
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.30)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.30)
elseif ItemID == 0x49303037 then
call SetHeroInt(u, int + 15, true)
call SetUnitManaRegeneration(u , regen_mp + 1.25)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 200
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.25)
elseif ItemID == 0x49303038 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 250)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 25
elseif ItemID == 0x49303148 then
call SetUnitExtraDamage(u , atk + 30)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) + 0.20)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 12.00)
endif
elseif lvl == 12 then
if ItemID == 0x49304134 then
call SetHeroInt(u, int + 30, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 175
elseif ItemID == 0x49304135 then
call SetHeroInt(u, int + 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 250)
call SetUnitManaRegeneration(u , regen_mp + 2.25)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.15)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.15)
elseif ItemID == 0x49304136 then
call SetUnitExtraArmor(u , armor + 8)
call SetHeroAgi(u, agi + 15, true)
elseif ItemID == 0x49304137 then
call MainStatBonus(u , 10)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 10)
call SetUnitAttackSpeed(u , atk_speed + 125)
elseif ItemID == 0x49304138 then
if LoadInteger(udg_hash, GetHandleId(pl), 13) != 1 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 1)
call SetUnitExtraArmor(u , armor + 10)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.08)
set Loop=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) / 140
call SetHeroStr(u, str + Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF4B39Нельзя носить больше одного множителя!")
call DisableTrigger(gg_trg_RemoveStat)
call SetItemPosition(Item, x, y)
call EnableTrigger(gg_trg_RemoveStat)
endif
elseif ItemID == 0x49304139 then
call SetUnitExtraArmor(u , armor + 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SetUnitManaRegeneration(u , regen_mp + 5.00)
elseif ItemID == 0x49304141 then
call SetUnitExtraDamage(u , atk + 40)
call SetUnitAttackSpeed(u , atk_speed + 20)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.15)
elseif ItemID == 0x49304142 then
call SetUnitExtraArmor(u , armor + 7)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1000)
call SetUnitLifeRegeneration(u , regen_hp + 8.0)
elseif ItemID == 0x49304158 then
call SetUnitAttackSpeed(u , atk_speed + 50)
call SetHeroAgi(u, agi + 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 30
elseif ItemID == 0x49304159 then
call SetUnitExtraDamage(u , atk + 30)
call SetHeroStr(u, str + 10, true)
call SetUnitExtraArmor(u , armor + 5)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.10)
elseif ItemID == 0x4930415A then
call SetHeroInt(u, int + 15, true)
call SetUnitManaRegeneration(u , regen_mp + 2.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 100
elseif ItemID == 0x49304230 then
call MainStatBonus(u , 16)
call SaveInteger(udg_hash, GetHandleId(Item), 5, 16)
call SetUnitExtraArmor(u , armor + 8)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) + 0.20)
call SaveReal(udg_hash, u_Id, 10, LoadReal(udg_hash, u_Id, 10) + 1.00)
elseif ItemID == 0x49303041 then
call SetUnitExtraDamage(u , atk + 25)
call SetHeroAgi(u, agi + 10, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 20.0)
if IsUnitType(u, UNIT_TYPE_MELEE_ATTACKER) == true then
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.30)
else
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) + 0.30)
endif
elseif ItemID == 0x49303042 then
call SetHeroInt(u, int + 20, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 150
set Loop=R2I(udg_ItemBonusDMG[n] * 0.1)
call SetUnitExtraDamage(u , atk + Loop + 20)
call SaveInteger(udg_hash, GetHandleId(Item), 6, Loop)
elseif ItemID == 0x64747362 then
call SetUnitExtraDamage(u , atk + 15)
call SetUnitLifeRegeneration(u , regen_hp + 3.0)
elseif ItemID == 0x74626172 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 1500)
call SetUnitManaRegeneration(u , regen_mp + 3.75)
call SetUnitLifeRegeneration(u , regen_hp + 2.25)
elseif ItemID == 0x61727363 then
call SetUnitExtraDamage(u , atk + 50)
call SetHeroAgi(u, agi + 20, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) + 25.0)
elseif ItemID == 0x686F726C then
call SetUnitExtraArmor(u , armor + 8)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 1000)
call SetUnitManaRegeneration(u , regen_mp + 6.00)
elseif ItemID == 0x62666872 then
call SetUnitExtraArmor(u , armor + 15)
call SetHeroStr(u, str + 25, true)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.15)
call SaveReal(udg_hash, u_Id, 43, LoadReal(udg_hash, u_Id, 43) + 0.15)
elseif ItemID == 0x63636D64 then
call SetHeroStr(u, str + 20, true)
call SetHeroAgi(u, agi + 20, true)
call SetHeroInt(u, int + 20, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) + 500)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + 500)
call SetUnitManaRegeneration(u , regen_mp + 2.50)
call SetUnitLifeRegeneration(u , regen_hp + 2.50)
elseif ItemID == 0x636F736C then
call SetUnitExtraDamage(u , atk + 40)
call SetHeroStr(u, str + 25, true)
call SetUnitAttackSpeed(u , atk_speed + 25)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) + 0.15)
elseif ItemID == 0x6F736C6F then
call SetHeroInt(u, int + 35, true)
call SetUnitExtraArmor(u , armor + 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 250
elseif ItemID == 0x676C646F then
call SetUnitAttackSpeed(u , atk_speed + 150)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.20)
call SetUnitLifeRegeneration(u , regen_hp + 15.00)
endif
endif
set u=null
set pl=null
set Item=null
set t=null
endfunction
function InitTrig_AddStat takes nothing returns nothing
set gg_trg_AddStat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_AddStat, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_AddStat, function Trig_AddStat_Actions)
endfunction
function Trig_RemoveStat_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local integer u_Id=GetHandleId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item=GetManipulatedItem()
local integer ItemID=GetItemTypeId(Item)
local integer Id=GetHandleId(Item)
local integer lvl=GetItemLevel(Item)
local integer BonusStat2
local integer str=GetHeroStr(u, false)
local integer agi=GetHeroAgi(u, false)
local integer int=GetHeroInt(u, false)
local integer armor=GetUnitExtraArmor(u)
local integer atk=GetUnitExtraDamage(u)
local integer atk_speed=GetUnitAttackSpeed(u)
local real regen_hp=GetUnitLifeRegeneration(u)
local real regen_mp=GetUnitManaRegeneration(u)
local integer BonusStat
local string StatName
local integer Loop
local timer t
if IsUnitType(u, UNIT_TYPE_HERO) == false then
set u=null
set pl=null
set Item=null
call EnableTrigger(GetTriggeringTrigger())
return
endif
set BonusStat=LoadInteger(udg_hash, GetHandleId(Item), 5)
if BonusStat != 0 then
set StatName=LoadStr(udg_hash, GetHandleId(u), 1)
if StatName == "STR" then
call SetHeroStr(u, GetHeroStr(u, false) - BonusStat, true)
set str=GetHeroStr(u, false)
elseif StatName == "AGI" then
call SetHeroAgi(u, GetHeroAgi(u, false) - BonusStat, true)
set agi=GetHeroAgi(u, false)
elseif StatName == "INT" then
call SetHeroInt(u, GetHeroInt(u, false) - BonusStat, true)
set int=GetHeroInt(u, false)
endif
call SaveInteger(udg_hash, GetHandleId(Item), 5, 0)
endif
if lvl == 0 then
if ItemID == 0x6C6D6272 then
call SetHeroStr(u, str - 15, true)
elseif ItemID == 0x676F6D6E then
call SetHeroAgi(u, agi - 15, true)
elseif ItemID == 0x67666F72 then
call SetHeroInt(u, int - 15, true)
elseif ItemID == 0x67757669 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
elseif ItemID == 0x74706F77 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
elseif ItemID == 0x72656A36 then
set udg_ExpIncome[n]=udg_ExpIncome[n] - 100
endif
elseif lvl == 1 then
if ItemID == 0x49303035 then
call SetHeroStr(u, str - 5, true)
elseif ItemID == 0x4930304F then
call SetHeroStr(u, str - 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
elseif ItemID == 0x49303253 then
call SetHeroStr(u, str - 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303043 then
call SetHeroAgi(u, agi - 5, true)
elseif ItemID == 0x49303051 then
call SetHeroAgi(u, agi - 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
elseif ItemID == 0x49303252 then
call SetHeroAgi(u, agi - 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303031 then
call SetHeroInt(u, int - 5, true)
elseif ItemID == 0x49303050 then
call SetHeroInt(u, int - 5, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
elseif ItemID == 0x49303251 then
call SetHeroInt(u, int - 11, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303137 then
call SetUnitManaRegeneration(u , regen_mp - 1)
elseif ItemID == 0x49303255 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303138 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 15
elseif ItemID == 0x49303139 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 15
call SetHeroInt(u, int - 5, true)
elseif ItemID == 0x49303254 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x4930314E then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroStr(u, str - 2, true)
elseif ItemID == 0x49303152 then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroStr(u, str - 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 165)
elseif ItemID == 0x49303335 then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroStr(u, str - 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x4930304B then
call SetUnitExtraDamage(u , atk - 8)
elseif ItemID == 0x49303052 then
call SetUnitExtraDamage(u , atk - 8)
call SetHeroStr(u, str - 5, true)
elseif ItemID == 0x49303330 then
call SetUnitExtraDamage(u , atk - 20)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303055 then
call SetUnitExtraArmor(u , armor - 3)
elseif ItemID == 0x49303059 then
call SetUnitExtraArmor(u , armor - 3)
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
elseif ItemID == 0x49303337 then
call SetUnitExtraArmor(u , armor - 8)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303149 then
call SetUnitAttackSpeed(u , atk_speed - 13)
elseif ItemID == 0x4930314A then
call SetUnitAttackSpeed(u , atk_speed - 13)
call SetHeroAgi(u, agi - 5, true)
elseif ItemID == 0x49303256 then
call SetUnitAttackSpeed(u , atk_speed - 30)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x4930324A then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroAgi(u, agi - 2, true)
elseif ItemID == 0x4930324B then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroAgi(u, agi - 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 165)
elseif ItemID == 0x4930325A then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroAgi(u, agi - 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303154 then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroInt(u, int - 2, true)
elseif ItemID == 0x49303155 then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroInt(u, int - 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 165)
elseif ItemID == 0x49303336 then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroInt(u, int - 5, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x4930305A then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
elseif ItemID == 0x49303236 then
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303339 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 4.0)
elseif ItemID == 0x49303237 then
call SetUnitExtraArmor(u , armor - 6)
elseif ItemID == 0x49303130 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.15)
call SetUnitExtraDamage(u , atk - 10)
elseif ItemID == 0x49303343 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 8.0)
call SetUnitAttackSpeed(u , atk_speed - 8)
elseif ItemID == 0x49303053 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
elseif ItemID == 0x49303131 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
call SetHeroStr(u, str - 4, true)
elseif ItemID == 0x49303238 then
call SetUnitExtraArmor(u , armor - 2)
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
elseif ItemID == 0x49303341 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 4.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
elseif ItemID == 0x49303054 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 750)
elseif ItemID == 0x49303132 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.15)
call SetUnitExtraDamage(u , atk - 10)
call SetHeroStr(u, str - 18, true)
elseif ItemID == 0x49303239 then
call SetUnitExtraArmor(u , armor - 6)
call SetUnitLifeRegeneration(u , regen_hp - 8.0)
elseif ItemID == 0x49303344 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 8.0)
call SetUnitAttackSpeed(u , atk_speed - 8)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x49303331 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.13)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.03)
elseif ItemID == 0x49303250 then
call SetUnitExtraArmor(u , armor - 2)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.04)
elseif ItemID == 0x49303342 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 4.0)
elseif ItemID == 0x49303332 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.21)
call SetUnitExtraDamage(u , atk - 10)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.06)
elseif ItemID == 0x4930324F then
call SetUnitExtraArmor(u , armor - 6)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.08)
elseif ItemID == 0x49303345 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 12.0)
endif
elseif lvl == 2 then
if ItemID == 0x73707368 then
call SetUnitExtraDamage(u , atk - 16)
elseif ItemID == 0x706D6E61 then
call SetUnitAttackSpeed(u , atk_speed - 25)
call SetUnitExtraDamage(u , atk - 8)
elseif ItemID == 0x70656E72 then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroStr(u, str - 6, true)
elseif ItemID == 0x77617264 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 30
call SetUnitManaRegeneration(u , regen_mp - 1.25)
elseif ItemID == 0x72617463 then
call SetHeroAgi(u, agi - 10, true)
call SetUnitExtraDamage(u , atk - 5)
elseif ItemID == 0x72617439 then
call SetHeroStr(u, str - 10, true)
call SetUnitLifeRegeneration(u , regen_hp - 2.0)
elseif ItemID == 0x72617436 then
call SetHeroInt(u, int - 10, true)
call SetUnitManaRegeneration(u , regen_mp - 1.5)
elseif ItemID == 0x636E6F62 then
call SetUnitExtraArmor(u , armor - 6)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 125)
elseif ItemID == 0x72687468 then
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
call SetHeroInt(u, int - 2, true)
elseif ItemID == 0x6473756D then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroAgi(u, agi - 6, true)
elseif ItemID == 0x6863756E then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroInt(u, int - 6, true)
elseif ItemID == 0x62656C76 then
call SetHeroAgi(u, agi - 20, true)
call SetUnitExtraDamage(u , atk - 10)
elseif ItemID == 0x72646532 then
call SetHeroStr(u, str - 20, true)
call SetUnitLifeRegeneration(u , regen_hp - 4.0)
elseif ItemID == 0x72646531 then
call SetHeroInt(u, int - 20, true)
call SetUnitManaRegeneration(u , regen_mp - 3.0)
elseif ItemID == 0x72646533 then
call SetUnitExtraDamage(u , atk - 20)
call SetHeroStr(u, str - 5, true)
elseif ItemID == 0x726C6966 then
call SetUnitExtraArmor(u , armor - 7)
call SetHeroStr(u, str - 9, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
elseif ItemID == 0x73626368 then
call SetUnitExtraArmor(u , armor - 7)
call SetHeroAgi(u, agi - 9, true)
call SetUnitAttackSpeed(u , atk_speed - 12)
elseif ItemID == 0x72696E31 then
call SetUnitAttackSpeed(u , atk_speed - 40)
call SetUnitExtraDamage(u , atk - 15)
elseif ItemID == 0x7277697A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
call SetUnitManaRegeneration(u , regen_mp - 2.50)
elseif ItemID == 0x6D636F75 then
call SetHeroStr(u, str - 6, true)
call SetHeroAgi(u, agi - 6, true)
call SetHeroInt(u, int - 6, true)
elseif ItemID == 0x636C666D then
call SetUnitExtraArmor(u , armor - 7)
call SetHeroInt(u, int - 9, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x63697269 then
call SetUnitExtraArmor(u , armor - 9)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 200)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.06)
elseif ItemID == 0x6763656C then
call SetUnitAttackSpeed(u , atk_speed - 40)
call SetUnitExtraDamage(u , atk - 30)
elseif ItemID == 0x636C7364 then
call SetUnitExtraArmor(u , armor - 8)
call SetHeroStr(u, str - 12, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 400)
elseif ItemID == 0x7373696C then
call SetHeroStr(u, str - 8, true)
call SetHeroAgi(u, agi - 8, true)
call SetHeroInt(u, int - 8, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
elseif ItemID == 0x7374656C then
call SetHeroAgi(u, agi - 30, true)
call SetUnitExtraDamage(u , atk - 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 10.0)
elseif ItemID == 0x62677374 then
call SetHeroStr(u, str - 30, true)
call SetUnitLifeRegeneration(u , regen_hp - 6.0)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.18)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.18)
elseif ItemID == 0x6C687374 then
call SetHeroInt(u, int - 30, true)
call SetUnitManaRegeneration(u , regen_mp - 4.5)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.09)
elseif ItemID == 0x72737431 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SetUnitManaRegeneration(u , regen_mp - 5.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x62726163 then
call SetUnitExtraArmor(u , armor - 8)
call SetHeroAgi(u, agi - 12, true)
call SetUnitAttackSpeed(u , atk_speed - 32)
elseif ItemID == 0x62737064 then
call SetUnitExtraDamage(u , atk - 40)
call SetHeroStr(u, str - 10, true)
elseif ItemID == 0x6F646566 then
call SetUnitExtraArmor(u , armor - 8)
call SetHeroInt(u, int - 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 175
elseif ItemID == 0x6576746C then
call SetUnitExtraArmor(u , armor - 12)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 400)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.10)
elseif ItemID == 0x6667736B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 375)
call SetUnitManaRegeneration(u , regen_mp - 2.0)
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
call SetHeroInt(u, int - 2, true)
elseif ItemID == 0x696E6673 then
call SetHeroAgi(u, agi - 10, true)
call SetHeroInt(u, int - 10, true)
call SetUnitExtraDamage(u , atk - 15)
elseif ItemID == 0x706F6D6E then
call SetHeroInt(u, int - 5, true)
call SetUnitExtraDamage(u , atk - 30)
call SetUnitAttackSpeed(u , atk_speed - 25)
elseif ItemID == 0x776C7364 then
call SetHeroStr(u, str - 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
elseif ItemID == 0x77696C6C then
call SetUnitExtraArmor(u , armor - 8)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetUnitManaRegeneration(u , regen_mp - 0.75)
elseif ItemID == 0x77696C64 then
call SetUnitExtraDamage(u , atk - 20)
call SetHeroStr(u, str - 5, true)
call SetHeroAgi(u, agi - 5, true)
call SetHeroInt(u, int - 5, true)
elseif ItemID == 0x72656A33 then
call SetUnitExtraDamage(u , atk - 18)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 8.0)
elseif ItemID == 0x616E6B68 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 5, true)
call SetHeroAgi(u, agi - 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x776F6D73 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
call SetUnitExtraArmor(u , armor - 5)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x706E7675 then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroStr(u, str - 10, true)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x77687764 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
elseif ItemID == 0x6D6E7374 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 225)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 225)
call SetUnitExtraArmor(u , armor - 3)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
elseif ItemID == 0x686C7374 then
call SetUnitExtraDamage(u , atk - 20)
call SetUnitAttackSpeed(u , atk_speed - 20)
call SetHeroAgi(u, agi - 8, true)
elseif ItemID == 0x77637963 then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLifeRegeneration(u , regen_hp - 5.0)
call SetHeroStr(u, str - 11, true)
elseif ItemID == 0x66677267 then
call SetUnitExtraDamage(u , atk - 10)
call SetUnitAttackSpeed(u , atk_speed - 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 12.0)
elseif ItemID == 0x77736873 then
call SetUnitExtraArmor(u , armor - 10)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x77737764 then
call SetUnitExtraArmor(u , armor - 20)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 200
call UnitRemoveAbility(u, 0x42303239)
endif
elseif lvl == 3 then
if ItemID == 0x616D7263 then
call SetUnitExtraArmor(u , armor - 1)
elseif ItemID == 0x70616D73 then
call SetUnitExtraArmor(u , armor - 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 125)
elseif ItemID == 0x61727368 then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 65
elseif ItemID == 0x73747761 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 50)
elseif ItemID == 0x72617433 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitManaRegeneration(u , regen_mp - 1.0)
elseif ItemID == 0x6B67616C then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetUnitManaRegeneration(u , regen_mp - 2.0)
elseif ItemID == 0x62726167 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 25
elseif ItemID == 0x69776272 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 100)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
elseif ItemID == 0x656E766C then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 125)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 125)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x676F6D6E then
call SetUnitExtraArmor(u , armor - 1)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 50)
elseif ItemID == 0x74656C73 then
call SetUnitExtraArmor(u , armor - 3)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
elseif ItemID == 0x7468646D then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
elseif ItemID == 0x626C6261 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 100)
elseif ItemID == 0x616E6667 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
elseif ItemID == 0x736F756C then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 35
call SetUnitManaRegeneration(u , regen_mp - 1.50)
elseif ItemID == 0x6573617A then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call SetUnitManaRegeneration(u , regen_mp - 3.00)
elseif ItemID == 0x7363686C then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call SetHeroInt(u, int - 5, true)
call SetUnitManaRegeneration(u , regen_mp - 3.00)
elseif ItemID == 0x726F7473 then
call SetUnitExtraDamage(u , atk - 3)
elseif ItemID == 0x73747067 then
call SetUnitExtraDamage(u , atk - 12)
elseif ItemID == 0x7368656E then
call SetUnitExtraDamage(u , atk - 20)
elseif ItemID == 0x70737064 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 25
elseif ItemID == 0x736B7368 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
call SetHeroInt(u, int - 8, true)
elseif ItemID == 0x666C6167 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call SetHeroInt(u, int - 15, true)
elseif ItemID == 0x75666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 25
elseif ItemID == 0x6E666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
call SetHeroInt(u, int - 3, true)
call SetUnitManaRegeneration(u , regen_mp - 0.50)
elseif ItemID == 0x6F666C67 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
call SetHeroInt(u, int - 6, true)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
elseif ItemID == 0x62747374 then
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x7462736D then
call SetUnitExtraArmor(u , armor - 4)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 200)
elseif ItemID == 0x746C756D then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetHeroStr(u, str - 4, true)
elseif ItemID == 0x776E6567 then
call SetUnitExtraDamage(u , atk - 15)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 9.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x74636173 then
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
call SetHeroInt(u, int - 2, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 275)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 175)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x73726567 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1000)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.25)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.50)
elseif ItemID == 0x76616D70 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetUnitExtraArmor(u , armor - 6)
call SetUnitLifeRegeneration(u , regen_hp - 6.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 25
elseif ItemID == 0x73696C6B then
call SetHeroStr(u, str - 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitLifeRegeneration(u , regen_hp - 6.00)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.20)
elseif ItemID == 0x70636C72 then
call SetHeroAgi(u, agi - 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitLifeRegeneration(u , regen_hp - 6.00)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.20)
elseif ItemID == 0x706C636C then
call SetHeroInt(u, int - 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitLifeRegeneration(u , regen_hp - 6.00)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.20)
elseif ItemID == 0x74736374 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
call SetUnitManaRegeneration(u , regen_mp - 2.25)
elseif ItemID == 0x726E6563 then
call SetHeroStr(u, str - 13, true)
call SetHeroAgi(u, agi - 13, true)
call SetHeroInt(u, int - 13, true)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x6D637269 then
call SetHeroInt(u, int - 13, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 135
elseif ItemID == 0x736B756C then
call SetHeroAgi(u, agi - 10, true)
call SetUnitExtraDamage(u , atk - 10)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 5.0)
elseif ItemID == 0x73686173 then
call SetHeroInt(u, int - 10, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 300)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x6D6F6F6E then
call SetHeroStr(u, str - 20, true)
call SetHeroAgi(u, agi - 10, true)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetUnitAttackSpeed(u , atk_speed - Loop)
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
elseif ItemID == 0x68736C76 then
call SetHeroInt(u, int - 20, true)
call SetUnitExtraDamage(u , atk - 20)
elseif ItemID == 0x706D616E then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 675)
call SetUnitLifeRegeneration(u , regen_hp - 5.00)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x70686561 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 10, true)
elseif ItemID == 0x70696E76 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 600)
elseif ItemID == 0x736D616E then
call SetHeroInt(u, int - 13, true)
call SetUnitManaRegeneration(u , regen_mp - 1.75)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 60
elseif ItemID == 0x73686561 then
call SetUnitExtraDamage(u , atk - 20)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 500
elseif ItemID == 0x776E6575 then
call SetHeroStr(u, str - 15, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
elseif ItemID == 0x736E6567 then
call SetUnitExtraDamage(u , atk - 20)
call SetUnitAttackSpeed(u , atk_speed - 20)
call SetHeroAgi(u, agi - 10, true)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetUnitExtraDamage(u , atk - Loop * 2)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.01 * I2R(Loop))
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
elseif ItemID == 0x7373616E then
call SetHeroStr(u, str - 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.2)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.1)
elseif ItemID == 0x74726574 then
call SetHeroInt(u, int - 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 375)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 225)
call SetUnitExtraArmor(u , armor - 2)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
call GroupRemoveUnit(udg_ItemGroup[54], u)
elseif ItemID == 0x73747770 then
call SetUnitExtraDamage(u , atk - 15)
call SetUnitAttackSpeed(u , atk_speed - 20)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 5.0)
elseif ItemID == 0x706E766C then
call SetUnitExtraArmor(u , armor - 10)
call SetHeroStr(u, str - 15, true)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) - 0.25)
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) - 0.25)
elseif ItemID == 0x74677268 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 444)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 444)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 44
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.04)
call GroupRemoveUnit(udg_ItemGroup[55], u)
endif
elseif lvl == 4 then
if ItemID == 0x636B6E67 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 0)
call SetHeroStr(u, str - LoadInteger(udg_hash, GetHandleId(Item), 1), true)
call SaveInteger(udg_hash, GetHandleId(Item), 1, 0)
call SetHeroAgi(u, agi - LoadInteger(udg_hash, GetHandleId(Item), 2), true)
call SaveInteger(udg_hash, GetHandleId(Item), 2, 0)
call SetHeroInt(u, int - LoadInteger(udg_hash, GetHandleId(Item), 3), true)
call SaveInteger(udg_hash, GetHandleId(Item), 3, 0)
elseif ItemID == 0x73686377 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.2)
elseif ItemID == 0x6772736C then
call SetUnitExtraDamage(u , atk - 30)
call SetHeroAgi(u, agi - 15, true)
elseif ItemID == 0x746D7363 then
call SetUnitExtraDamage(u , atk - 25)
call SetHeroStr(u, str - 20, true)
call SetUnitLifeRegeneration(u , regen_hp - 3.00)
elseif ItemID == 0x7462616B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1500)
call SetHeroStr(u, str - 20, true)
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLifeRegeneration(u , regen_hp - 8.00)
elseif ItemID == 0x74666172 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 0)
call SetUnitExtraDamage(u , atk - 10)
call SetUnitExtraArmor(u , armor - 3)
call SetHeroStr(u, str - LoadInteger(udg_hash, GetHandleId(Item), 1), true)
call SaveInteger(udg_hash, GetHandleId(Item), 1, 0)
call SetHeroAgi(u, agi - LoadInteger(udg_hash, GetHandleId(Item), 2), true)
call SaveInteger(udg_hash, GetHandleId(Item), 2, 0)
call SetHeroInt(u, int - LoadInteger(udg_hash, GetHandleId(Item), 3), true)
call SaveInteger(udg_hash, GetHandleId(Item), 3, 0)
elseif ItemID == 0x73626F6B then
call SetHeroInt(u, int - 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
call SetUnitManaRegeneration(u , regen_mp - 3.00)
elseif ItemID == 0x72616D31 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
elseif ItemID == 0x72616D32 then
call SetHeroStr(u, str - 18, true)
call SetHeroAgi(u, agi - 18, true)
call SetHeroInt(u, int - 18, true)
call SetUnitExtraArmor(u , armor - 5)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 175
elseif ItemID == 0x67656D74 then
call SetHeroStr(u, str - 3, true)
call SetHeroAgi(u, agi - 3, true)
call SetHeroInt(u, int - 3, true)
elseif ItemID == 0x6173626C then
call SetHeroInt(u, int - 15, true)
call SetUnitExtraArmor(u , armor - 5)
call SetUnitManaRegeneration(u , regen_mp - 3.25)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x72616D33 then
call SetHeroInt(u, int - 20, true)
call SetUnitExtraArmor(u , armor - 7)
call SetUnitLifeRegeneration(u , regen_hp - 5.00)
elseif ItemID == 0x6C676468 then
call SetHeroStr(u, str - 15, true)
call SetHeroAgi(u, agi - 15, true)
call SetHeroInt(u, int - 15, true)
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 750)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 6.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
elseif ItemID == 0x61666163 then
call SetUnitExtraDamage(u , atk - 10)
call SetUnitExtraArmor(u , armor - 3)
elseif ItemID == 0x72616D34 then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x63727973 then
call SetHeroAgi(u, agi - 20, true)
call SetUnitExtraDamage(u , atk - 30)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
elseif ItemID == 0x6B70696E then
call SetUnitExtraArmor(u , armor - 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 325
elseif ItemID == 0x616A656E then
call SetUnitExtraDamage(u , atk - 12)
elseif ItemID == 0x6876616C then
call SetUnitExtraDamage(u , atk - 35)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.35)
elseif ItemID == 0x64657363 then
call SetHeroInt(u, int - 20, true)
call SetUnitExtraDamage(u , atk - 20)
call SetUnitLifeRegeneration(u , regen_hp - 3.00)
elseif ItemID == 0x6F66726F then
call SetHeroInt(u, int - 30, true)
call SetUnitManaRegeneration(u , regen_mp - 6.00)
call SetUnitExtraArmor(u , armor - 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 200
elseif ItemID == 0x72646534 then
call SetUnitExtraDamage(u , atk - 20)
call SetHeroStr(u, str - 5, true)
call SetHeroAgi(u, agi - 5, true)
call SetHeroInt(u, int - 5, true)
elseif ItemID == 0x72617466 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.25)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.25)
elseif ItemID == 0x746B6E6F then
call SetUnitExtraArmor(u , armor - 15)
call SetHeroStr(u, str - 20, true)
call SetUnitLifeRegeneration(u , regen_hp - 3.00)
elseif ItemID == 0x6D6F6474 then
call SetUnitExtraArmor(u , armor - 20)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 2000)
elseif ItemID == 0x70727674 then
call SetUnitExtraDamage(u , atk - 40)
call SetUnitAttackSpeed(u , atk_speed - 30)
call SetHeroStr(u, str - 15, true)
call SetHeroAgi(u, agi - 15, true)
elseif ItemID == 0x72726532 then
call SetUnitLifeRegeneration(u , regen_hp - 25.00)
call SetUnitManaRegeneration(u , regen_mp - 9.00)
elseif ItemID == 0x73707265 then
call SetHeroStr(u, str - 40, true)
call SetUnitExtraDamage(u , atk - 50)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.10)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
elseif ItemID == 0x6D6E7366 then
call SetHeroInt(u, int - 40, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 800)
call SetUnitManaRegeneration(u , regen_mp - 8.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 175
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.11)
elseif ItemID == 0x61786173 then
call SetHeroAgi(u, agi - 40, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) - 0.30)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 11.0)
endif
elseif lvl == 5 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 7) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF8200C8Комплект ''Бездна'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroAgi(u, agi - 6, true)
elseif BonusStat2 == 2 then
elseif BonusStat2 == 3 then
call SetHeroAgi(u, agi - 10, true)
call SetHeroStr(u, str - 5, true)
elseif BonusStat2 == 4 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 7, BonusStat2)
set agi=GetHeroAgi(u, false)
set str=GetHeroStr(u, false)
if ItemID == 0x49303532 then
set BonusStat=BonusStat2 * 6
call SetHeroAgi(u, agi - BonusStat, true)
set agi=GetHeroAgi(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x49303532) == true then
call SetHeroAgi(u, agi - 6, true)
set agi=GetHeroAgi(u, false)
endif
if ItemID == 0x49303532 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 250)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.15)
elseif ItemID == 0x49303436 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 300)
call SetHeroAgi(u, agi - 6, true)
call SetHeroStr(u, str - 4, true)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) - 0.07)
elseif ItemID == 0x49303745 then
call SetUnitExtraDamage(u , atk - 30)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.12)
elseif ItemID == 0x49303437 then
call SetUnitExtraDamage(u , atk - 40)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
elseif ItemID == 0x49303656 then
call SetUnitExtraArmor(u , armor - 6)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
elseif ItemID == 0x49303434 then
call SetUnitAttackSpeed(u , atk_speed - 40)
call SetUnitExtraDamage(u , atk - 8)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
elseif ItemID == 0x49303433 then
call SetHeroAgi(u, agi - 10, true)
elseif ItemID == 0x49303435 then
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.13)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.13)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.13)
elseif ItemID == 0x4930304C then
call SetUnitExtraDamage(u , atk - 7)
call SetUnitAttackSpeed(u , atk_speed - 7)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) - 0.07)
elseif ItemID == 0x49303530 then
call SetHeroStr(u, str - 6, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 200)
endif
elseif lvl == 13 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 9) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF96C8E1Комплект ''Шторм'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroInt(u, int - 6, true)
elseif BonusStat2 == 2 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif BonusStat2 == 3 then
call SetHeroInt(u, int - 10, true)
call SetHeroAgi(u, agi - 5, true)
elseif BonusStat2 == 4 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 9, BonusStat2)
set int=GetHeroInt(u, false)
set agi=GetHeroAgi(u, false)
if ItemID == 0x4930414C then
set BonusStat=BonusStat2 * 6
call SetHeroInt(u, int - BonusStat, true)
set int=GetHeroInt(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x4930414C) == true then
call SetHeroInt(u, int - 6, true)
set int=GetHeroInt(u, false)
endif
if ItemID == 0x4930414C then
call SetHeroInt(u, int - 30, true)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 0.20)
elseif ItemID == 0x49303936 then
call SetUnitExtraDamage(u , atk - 25)
call SetHeroInt(u, int - 15, true)
call SetHeroStr(u, str - 15, true)
elseif ItemID == 0x49303938 then
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.30)
elseif ItemID == 0x4930414D then
call SetUnitAttackSpeed(u , atk_speed - 20)
call SetHeroInt(u, int - 15, true)
elseif ItemID == 0x49303937 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 250)
call SetUnitLifeRegeneration(u , regen_hp - 3.00)
call SetUnitManaRegeneration(u , regen_mp - 2.00)
elseif ItemID == 0x49303939 then
call SetHeroInt(u, int - 6, true)
call SetHeroAgi(u, agi - 4, true)
call SetUnitManaRegeneration(u , regen_mp - 1.25)
elseif ItemID == 0x49303941 then
call SetUnitExtraArmor(u , armor - 4)
elseif ItemID == 0x49303942 then
call SetHeroInt(u, int - 15, true)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.15)
elseif ItemID == 0x4930304E then
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.15)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) - 0.15)
elseif ItemID == 0x49303531 then
call SetUnitAttackSpeed(u , atk_speed - 30)
call SetUnitExtraArmor(u , armor - 1)
elseif ItemID == 0x4930374E then
call SetUnitAttackSpeed(u , atk_speed - 10)
call SetUnitExtraArmor(u , armor - 5)
endif
elseif lvl == 14 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 6) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFC87D32Комплект ''Доблесть'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroStr(u, str - 6, true)
elseif BonusStat2 == 2 then
elseif BonusStat2 == 3 then
call SetHeroStr(u, str - 10, true)
call SetHeroInt(u, int - 5, true)
elseif BonusStat2 == 4 then
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 6, BonusStat2)
set str=GetHeroStr(u, false)
set int=GetHeroInt(u, false)
if ItemID == 0x4930414A then
set BonusStat=BonusStat2 * 6
call SetHeroStr(u, str - BonusStat, true)
set str=GetHeroStr(u, false)
elseif UnitHasItemOfTypeBJ(u, 0x4930414A) == true then
call SetHeroStr(u, str - 6, true)
set str=GetHeroStr(u, false)
endif
if ItemID == 0x4930414A then
call SetHeroStr(u, str - 10, true)
call SetUnitExtraDamage(u , atk - 30)
elseif ItemID == 0x49303439 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetUnitExtraArmor(u , armor - 3)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) - 0.20)
elseif ItemID == 0x49303935 then
call SetHeroStr(u, str - 5, true)
call SetUnitLifeRegeneration(u , regen_hp - 1.00)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.15)
elseif ItemID == 0x49303442 then
call SetUnitExtraDamage(u , atk - 25)
call SetUnitAttackSpeed(u , atk_speed - 20)
elseif ItemID == 0x4930414B then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 600)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
call SetUnitLifeRegeneration(u , regen_hp - 5.00)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
elseif ItemID == 0x49303539 then
call SetHeroStr(u, str - 20, true)
call SetUnitExtraDamage(u , atk - 10)
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.15)
elseif ItemID == 0x4930304D then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetHeroStr(u, str - 15, true)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.07)
elseif ItemID == 0x49303438 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 400)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
call SetUnitExtraArmor(u , armor - 8)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.10)
elseif ItemID == 0x4930314B then
call SetUnitExtraDamage(u , atk - 12)
call SetHeroStr(u, str - 4, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 4.00)
elseif ItemID == 0x49303931 then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 800)
call GroupRemoveUnit(udg_ItemGroup[29], u)
endif
elseif lvl == 15 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 8) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFFF9619Комплект ''Адский'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroStr(u, str - 5, true)
call SetHeroInt(u, int - 5, true)
call SetHeroAgi(u, agi - 5, true)
elseif BonusStat2 == 2 then
call UnitRemoveAbility(u, 0x53303046)
elseif BonusStat2 == 3 then
call SetHeroStr(u, str - 8, true)
call SetHeroInt(u, int - 8, true)
call SetHeroAgi(u, agi - 8, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 8.00)
elseif BonusStat2 == 4 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 200
elseif BonusStat2 == 5 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.10)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.10)
endif
call SaveInteger(udg_hash, u_Id, 8, BonusStat2)
set str=GetHeroStr(u, false)
set agi=GetHeroAgi(u, false)
set int=GetHeroInt(u, false)
if ItemID == 0x49303831 then
call SetUnitExtraArmor(u , armor - 20)
elseif ItemID == 0x49303639 then
call SetUnitExtraDamage(u , atk - 80)
call SetHeroStr(u, str - 6, true)
call SetHeroAgi(u, agi - 6, true)
call SetHeroInt(u, int - 6, true)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.50)
elseif ItemID == 0x49303642 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 2225)
call SetUnitExtraArmor(u , armor - 8)
call SetUnitLifeRegeneration(u , regen_hp - 6.00)
elseif ItemID == 0x49303638 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1000)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SetHeroStr(u, str - 3, true)
call SetHeroAgi(u, agi - 3, true)
call SetHeroInt(u, int - 3, true)
elseif ItemID == 0x49303730 then
call SetUnitExtraArmor(u , armor - 5)
call SetHeroStr(u, str - 8, true)
call SetHeroAgi(u, agi - 8, true)
call SetHeroInt(u, int - 8, true)
call SetUnitLifeRegeneration(u , regen_hp - 8.00)
elseif ItemID == 0x49303637 then
call SetUnitExtraDamage(u , atk - 30)
call SetUnitAttackSpeed(u , atk_speed - 30)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.30)
elseif ItemID == 0x49303641 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x49303643 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1000)
call SetUnitExtraArmor(u , armor - 10)
elseif ItemID == 0x49303056 then
call SetUnitExtraDamage(u , atk - 40)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.25)
endif
elseif ItemID == 0x49304143 then
set BonusStat2=LoadInteger(udg_hash, u_Id, 7) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF8200C8Комплект ''Бездна'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroAgi(u, agi - 6, true)
elseif BonusStat2 == 2 then
elseif BonusStat2 == 3 then
call SetHeroAgi(u, agi - 10, true)
call SetHeroStr(u, str - 5, true)
elseif BonusStat2 == 4 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 7, BonusStat2)
set agi=GetHeroAgi(u, false)
set str=GetHeroStr(u, false)
if UnitHasItemOfTypeBJ(u, 0x49303532) == true then
call SetHeroAgi(u, agi - 6, true)
set agi=GetHeroAgi(u, false)
endif
set BonusStat2=LoadInteger(udg_hash, u_Id, 9) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF96C8E1Комплект ''Шторм'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroInt(u, int - 6, true)
elseif BonusStat2 == 2 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif BonusStat2 == 3 then
call SetHeroInt(u, int - 10, true)
call SetHeroAgi(u, agi - 5, true)
elseif BonusStat2 == 4 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 9, BonusStat2)
set int=GetHeroInt(u, false)
set agi=GetHeroAgi(u, false)
if UnitHasItemOfTypeBJ(u, 0x4930414C) == true then
call SetHeroInt(u, int - 6, true)
set int=GetHeroInt(u, false)
endif
set BonusStat2=LoadInteger(udg_hash, u_Id, 6) - 1
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFFC87D32Комплект ''Доблесть'' " + I2S(BonusStat2) + "/6|r")
if BonusStat2 == 1 then
call SetHeroStr(u, str - 6, true)
elseif BonusStat2 == 2 then
elseif BonusStat2 == 3 then
call SetHeroStr(u, str - 10, true)
call SetHeroInt(u, int - 5, true)
elseif BonusStat2 == 4 then
elseif BonusStat2 == 5 then
endif
call SaveInteger(udg_hash, u_Id, 6, BonusStat2)
set str=GetHeroStr(u, false)
set int=GetHeroInt(u, false)
if UnitHasItemOfTypeBJ(u, 0x4930414A) == true then
call SetHeroStr(u, str - 6, true)
set str=GetHeroStr(u, false)
endif
call SetHeroStr(u, str - 20, true)
call SetHeroAgi(u, agi - 20, true)
call SetHeroInt(u, int - 20, true)
elseif lvl == 6 then
if ItemID == 0x72646530 then
call SetUnitAttackSpeed(u , atk_speed - 20)
elseif ItemID == 0x6C6E726E then
call SetUnitExtraDamage(u , atk - 5)
call SetUnitLifeRegeneration(u , regen_hp - 2.00)
elseif ItemID == 0x7370726E then
call SetHeroStr(u, str - 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
elseif ItemID == 0x6E737069 then
call SetUnitExtraDamage(u , atk - 10)
elseif ItemID == 0x6D6C7374 then
call SetUnitExtraDamage(u , atk - 2)
elseif ItemID == 0x6D6C7374 then
call SetHeroInt(u, int - 4, true)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 15
elseif ItemID == 0x63726474 then
call SetHeroStr(u, str - 1, true)
call SetHeroAgi(u, agi - 1, true)
call SetHeroInt(u, int - 1, true)
elseif ItemID == 0x6B6C6D6D then
call SetHeroAgi(u, agi - 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
elseif ItemID == 0x6A64726E then
call SetHeroInt(u, int - 2, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 75)
elseif ItemID == 0x72656A32 then
call SetHeroStr(u, str - 4, true)
call SetHeroAgi(u, agi - 4, true)
call SetHeroInt(u, int - 4, true)
call SetUnitLifeRegeneration(u , regen_hp + 1.00)
elseif ItemID == 0x66726764 then
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x64757374 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.11)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.11)
elseif ItemID == 0x726E7370 then
call SetUnitExtraArmor(u , armor - 1)
call SetHeroStr(u, str - 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
elseif ItemID == 0x64727068 then
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
call SetHeroInt(u, int - 2, true)
call SetUnitExtraArmor(u , armor - 1)
elseif ItemID == 0x73687273 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 50)
elseif ItemID == 0x7664646C then
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x73726264 then
call SetHeroInt(u, int - 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
elseif ItemID == 0x72656A31 then
call SetUnitExtraArmor(u , armor - 1)
elseif ItemID == 0x6667756E then
call SetHeroInt(u, int - 1, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 50)
elseif ItemID == 0x72656A34 then
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 5.0)
elseif ItemID == 0x74677870 then
call SetUnitLifeRegeneration(u , regen_hp - 1.50)
call SetUnitManaRegeneration(u , regen_mp - 1.50)
elseif ItemID == 0x6C757265 then
call SetUnitLifeRegeneration(u , regen_hp - 3.00)
elseif ItemID == 0x72756D70 then
call SetUnitManaRegeneration(u , regen_mp - 3.00)
elseif ItemID == 0x73747265 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x73666F67 then
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.20)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) + 0.10)
elseif ItemID == 0x72756774 then
call SetUnitExtraArmor(u , armor - 2)
call SetHeroStr(u, str + 3, true)
call SetHeroAgi(u, agi - 6, true)
elseif ItemID == 0x72656A35 then
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) - 0.10)
elseif ItemID == 0x7363756C then
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) - 0.05)
call SetHeroStr(u, str - 3, true)
endif
elseif lvl == 7 then
if ItemID == 0x49303653 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 5, true)
call SetHeroAgi(u, agi - 5, true)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303039 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 10, true)
call SetHeroAgi(u, agi - 5, true)
elseif ItemID == 0x49303652 then
call SetUnitLifeRegeneration(u , regen_hp - 5.0)
call SetUnitManaRegeneration(u , regen_mp - 1.50)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 200)
elseif ItemID == 0x49303533 then
call SetUnitLifeRegeneration(u , regen_hp - 24.0)
call SetUnitManaRegeneration(u , regen_mp - 5.00)
elseif ItemID == 0x49303737 then
call SetUnitLifeRegeneration(u , regen_hp - 4.0)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 750)
call SetHeroStr(u, str - 10, true)
elseif ItemID == 0x49303141 then
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 350)
call SaveReal(udg_hash, u_Id, 43, LoadReal(udg_hash, u_Id, 43) - 0.20)
elseif ItemID == 0x49303738 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
call SetHeroInt(u, int - 15, true)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetUnitManaRegeneration(u , regen_mp - I2R(Loop) * 0.05)
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
elseif ItemID == 0x49303739 then
call SetUnitExtraDamage(u , atk - 10)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x49303742 then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroAgi(u, agi - 10, true)
call SetUnitAttackSpeed(u , atk_speed - 30)
elseif ItemID == 0x49303743 then
call SetUnitExtraDamage(u , atk - 12)
call SetHeroInt(u, int - 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x49303752 then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroAgi(u, agi - 10, true)
call SetUnitAttackSpeed(u , atk_speed - 30)
elseif ItemID == 0x49303837 then
call SetUnitAttackSpeed(u , atk_speed - 30)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.25)
elseif ItemID == 0x49303839 then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroInt(u, int - 10, true)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
elseif ItemID == 0x49303848 then
call SetUnitExtraArmor(u , armor - 8)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 200)
elseif ItemID == 0x49303849 then
call SetUnitExtraDamage(u , atk - 30)
call SetUnitAttackSpeed(u , atk_speed - 15)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 30
elseif ItemID == 0x49303856 then
call SetUnitExtraArmor(u , armor - 4)
call SetHeroInt(u, int - 10, true)
call SetUnitManaRegeneration(u , regen_mp - 2.00)
elseif ItemID == 0x49303932 then
call SetUnitExtraDamage(u , atk - 25)
call SetHeroAgi(u, agi - 10, true)
elseif ItemID == 0x49303947 then
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.10)
endif
elseif lvl == 8 then
if ItemID == 0x646B6677 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 333)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 333)
elseif ItemID == 0x6D67746B then
set udg_Income[n]=udg_Income[n] - 1
set udg_SIncome[n]=udg_SIncome[n] - 25
set udg_ExpIncome[n]=udg_ExpIncome[n] - 2
elseif ItemID == 0x6D6F7274 then
call SetHeroInt(u, int - 50, true)
call SetUnitExtraArmor(u , armor + 7)
elseif ItemID == 0x656E6773 then
call SetHeroStr(u, str - 18, true)
call SetUnitExtraDamage(u , atk - 13)
elseif ItemID == 0x73687764 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 575)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x676F7072 then
call SetUnitAttackSpeed(u , atk_speed - 38)
call SetUnitExtraArmor(u , armor - 4)
elseif ItemID == 0x6B336D33 then
call SetHeroInt(u, int - 5, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 125)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x6B796768 then
call SetUnitExtraDamage(u , atk - 25)
call SetUnitAttackSpeed(u , atk_speed - 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 60
elseif ItemID == 0x6B74726D then
call SetUnitExtraDamage(u , atk - 20)
elseif ItemID == 0x6C656467 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 185
call SetUnitLifeRegeneration(u , regen_hp - 1.50)
call SetUnitManaRegeneration(u , regen_mp - 3.00)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.10)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) - 1.00)
elseif ItemID == 0x6B336D32 then
call SetUnitExtraArmor(u , armor - 3)
elseif ItemID == 0x64746862 then
call SetUnitExtraDamage(u , atk - 12)
call SetHeroStr(u, str - 9, true)
elseif ItemID == 0x736B7274 then
call SetUnitExtraDamage(u , atk - 30)
call SetHeroStr(u, str - 30, true)
elseif ItemID == 0x6B79626C then
set udg_SIncome[n]=udg_SIncome[n] - 150
elseif ItemID == 0x6B796D6E then
call SetUnitExtraDamage(u , atk - 15)
call SetUnitAttackSpeed(u , atk_speed - 30)
call SetHeroAgi(u, agi - 7, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 30
elseif ItemID == 0x6B336D31 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 125)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 125)
call SetUnitLifeRegeneration(u , regen_hp - 1.50)
call SetUnitManaRegeneration(u , regen_mp - 1.50)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) - 0.20)
elseif ItemID == 0x77746C67 then
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x70686C74 then
call SetHeroInt(u, int - 10, true)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x736F7266 then
call SetUnitLifeRegeneration(u , regen_hp - 14.0)
elseif ItemID == 0x676D6672 then
call SetHeroStr(u, str - 8, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 425)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 5.0)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.55)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.15)
elseif ItemID == 0x73636C70 then
call SetHeroInt(u, int - 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.30)
elseif ItemID == 0x6B79736E then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 0)
call SetUnitManaRegeneration(u , regen_mp - 2.50)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - Loop)
elseif ItemID == 0x6A706E74 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 0)
call SetUnitLifeRegeneration(u , regen_hp - 5.00)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.10)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 1)
call SetHeroStr(u, str - Loop, true)
elseif ItemID == 0x73656872 then
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) + 0.15)
elseif ItemID == 0x636E686E then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 15, true)
call SetHeroAgi(u, agi - 5, true)
elseif ItemID == 0x617A6872 then
call SetHeroStr(u, str - 5, true)
call SetHeroAgi(u, agi - 5, true)
call SetHeroInt(u, int - 5, true)
call SaveReal(udg_hash, u_Id, 15, LoadReal(udg_hash, u_Id, 15) - 0.20)
elseif ItemID == 0x63686573 then
call SetUnitExtraDamage(u , atk - 20)
call SetUnitAttackSpeed(u , atk_speed - 20)
elseif ItemID == 0x627A6266 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 300)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) - 0.20)
elseif ItemID == 0x627A6265 then
call SetUnitExtraArmor(u , armor - 9)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.05)
endif
elseif lvl == 9 then
if ItemID == 0x49303732 then
call SetUnitExtraArmor(u , armor - 8)
elseif ItemID == 0x49303734 then
call SetHeroAgi(u, agi - 12, true)
elseif ItemID == 0x49303735 then
call SetHeroInt(u, int - 12, true)
elseif ItemID == 0x49303733 then
call SetHeroStr(u, str - 12, true)
elseif ItemID == 0x49303444 then
call SetUnitManaRegeneration(u , regen_mp - 0.85)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 200)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) + 0.35)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.15)
elseif ItemID == 0x49303448 then
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303443 then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroAgi(u, agi - 4, true)
elseif ItemID == 0x4930365A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303446 then
call SetUnitExtraArmor(u , armor - 4)
elseif ItemID == 0x49303543 then
call SetHeroStr(u, str - 15, true)
call SetUnitExtraDamage(u , atk - 20)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.10)
elseif ItemID == 0x49303549 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303555 then
call SetUnitExtraDamage(u , atk - 12)
elseif ItemID == 0x4930355A then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroAgi(u, agi - 5, true)
elseif ItemID == 0x49303834 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 50)
call SetUnitExtraArmor(u , armor - 3)
elseif ItemID == 0x49303846 then
call SetUnitExtraDamage(u , atk - 25)
elseif ItemID == 0x49303847 then
call SetHeroStr(u, str - 4, true)
call SetUnitExtraArmor(u , armor - 4)
elseif ItemID == 0x49303855 then
call SetUnitExtraDamage(u , atk - 5)
call SetHeroAgi(u, agi - 3, true)
call SetUnitAttackSpeed(u , atk_speed - 10)
elseif ItemID == 0x49303857 then
call SetHeroInt(u, int - 4, true)
call SetUnitExtraArmor(u , armor - 2)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
call SetUnitManaRegeneration(u , regen_mp - 0.85)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 15
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.05)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.05)
elseif ItemID == 0x4930385A then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
call SetUnitManaRegeneration(u , regen_mp - 0.50)
call GroupRemoveUnit(udg_ItemGroup[28], u)
elseif ItemID == 0x4930394F then
call SetUnitExtraArmor(u , armor - 2)
call GroupRemoveUnit(udg_ItemGroup[39], u)
elseif ItemID == 0x49304156 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 150)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.15)
call SaveReal(udg_hash, u_Id, 9, LoadReal(udg_hash, u_Id, 9) - 0.15)
elseif ItemID == 0x49303057 then
call SetUnitExtraDamage(u , atk - 7)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) - 0.10)
elseif ItemID == 0x49303135 then
call SetUnitExtraDamage(u , atk - 8)
call SetUnitAttackSpeed(u , atk_speed - 6)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.10)
elseif ItemID == 0x49303058 then
call SetUnitExtraArmor(u , armor - 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 50)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) - 0.08)
endif
elseif lvl == 10 then
if ItemID == 0x49304157 then
call SetUnitExtraDamage(u , atk - 10)
call SetHeroStr(u, str - 5, true)
call SetUnitExtraArmor(u , armor - 4)
elseif ItemID == 0x49303747 then
call SetUnitExtraDamage(u , atk - 10)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.10)
elseif ItemID == 0x49303748 then
call SetUnitExtraDamage(u , atk - 15)
call SetHeroStr(u, str - 5, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 6.0)
elseif ItemID == 0x49303659 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 250)
call SetUnitExtraArmor(u , armor - 4)
call SetUnitLifeRegeneration(u , regen_hp - 2.0)
elseif ItemID == 0x49303749 then
call SetUnitLifeRegeneration(u , regen_hp - 5.0)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 30
elseif ItemID == 0x49303447 then
call SetUnitLifeRegeneration(u , regen_hp - 7.0)
elseif ItemID == 0x49303746 then
call SetUnitExtraDamage(u , atk - 10)
call SetUnitExtraArmor(u , armor - 5)
elseif ItemID == 0x49303432 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitManaRegeneration(u , regen_mp - 3.50)
elseif ItemID == 0x49303445 then
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.35)
elseif ItemID == 0x49303458 then
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.20)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) + 0.20)
call SetUnitExtraArmor(u , armor - 4)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 100)
elseif ItemID == 0x49303657 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
elseif ItemID == 0x49303547 then
call SetUnitAttackSpeed(u , atk_speed - 20)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 7.0)
elseif ItemID == 0x49303548 then
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.3)
elseif ItemID == 0x49303753 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 850)
elseif ItemID == 0x49303835 then
call SetUnitAttackSpeed(u , atk_speed - 17)
call SetUnitExtraArmor(u , armor - 3)
call SetUnitExtraDamage(u , atk - 10)
elseif ItemID == 0x49303836 then
call SetHeroStr(u, str - 2, true)
call SetHeroAgi(u, agi - 2, true)
call SetHeroInt(u, int - 2, true)
call SetUnitExtraArmor(u , armor - 2)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 150)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 75)
call GroupRemoveUnit(udg_ItemGroup[23], u)
elseif ItemID == 0x49303030 then
call SetHeroStr(u, str - 10, true)
call SaveReal(udg_hash, u_Id, 5, LoadReal(udg_hash, u_Id, 5) - 0.15)
set t=LoadTimerHandle(udg_hash, GetHandleId(Item), 6)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
elseif ItemID == 0x49303032 then
call SetHeroInt(u, int - 10, true)
call SetUnitManaRegeneration(u , regen_mp - 1.50)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.02 * I2R(Loop))
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.02 * I2R(Loop))
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.01 * I2R(Loop))
elseif ItemID == 0x49303033 then
call SetUnitExtraDamage(u , atk - 30)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 10.0)
elseif ItemID == 0x49303134 then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
elseif ItemID == 0x49303136 then
call SetUnitExtraDamage(u , atk - 10)
elseif ItemID == 0x49303142 then
call SetUnitExtraArmor(u , armor - 4)
call SetUnitLifeRegeneration(u , regen_hp - 2.5)
call SaveReal(udg_hash, u_Id, 42, LoadReal(udg_hash, u_Id, 42) - 0.06)
call SaveReal(udg_hash, u_Id, 10, LoadReal(udg_hash, u_Id, 10) - 0.50)
elseif ItemID == 0x49303143 then
call SetUnitExtraArmor(u , armor - 3)
call SetHeroAgi(u, agi - 6, true)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.08)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 6.00)
elseif ItemID == 0x72616731 then
call SetHeroInt(u, int - 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
endif
elseif lvl == 11 then
if ItemID == 0x49303655 then
call SetUnitExtraDamage(u , atk - 20)
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
call SetUnitManaRegeneration(u , regen_mp - 1.00)
elseif ItemID == 0x49303658 then
call SetHeroInt(u, int - 25, true)
call SetUnitExtraDamage(u , atk - 15)
call SetUnitManaRegeneration(u , regen_mp - 3.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
elseif ItemID == 0x49303731 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
call SetUnitManaRegeneration(u , regen_mp - 3.50)
elseif ItemID == 0x49303736 then
call SetUnitAttackSpeed(u , atk_speed - 100)
call SetUnitExtraArmor(u , armor - 2)
elseif ItemID == 0x49303741 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetHeroStr(u, str - 10, true)
call SetUnitLifeRegeneration(u , regen_hp - 8.0)
elseif ItemID == 0x49303744 then
call SetUnitAttackSpeed(u , atk_speed - 40)
call SetHeroAgi(u, agi - 10, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 15
elseif ItemID == 0x4930374B then
call SetUnitExtraArmor(u , armor - 7)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
elseif ItemID == 0x4930374D then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
call GroupRemoveUnit(udg_ItemGroup[24], u)
elseif ItemID == 0x49303750 then
call SetHeroStr(u, str - 25, true)
call SetHeroAgi(u, agi - 25, true)
call SetHeroInt(u, int - 25, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 75
elseif ItemID == 0x49303751 then
call SetUnitExtraDamage(u , atk - 20)
call SetUnitAttackSpeed(u , atk_speed - 30)
elseif ItemID == 0x49303838 then
call SetUnitLifeRegeneration(u , regen_hp - 4.0)
call SetHeroAgi(u, agi - 15, true)
call SetHeroInt(u, int - 15, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
elseif ItemID == 0x4930384A then
call SetHeroStr(u, str - 10, true)
call SetHeroAgi(u, agi - 10, true)
call SetHeroInt(u, int - 10, true)
call SetUnitAttackSpeed(u , atk_speed - 15)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 50
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.40)
elseif ItemID == 0x4930384B then
call SetHeroStr(u, str - 25, true)
call SetUnitExtraDamage(u , atk - 30)
elseif ItemID == 0x49303957 then
call SetHeroInt(u, int - 15, true)
call SetUnitManaRegeneration(u , regen_mp - 2.00)
call SetUnitExtraArmor(u , armor - 3)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 225)
elseif ItemID == 0x4930414E then
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 750)
call SetUnitManaRegeneration(u , regen_mp - 1.50)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 125
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.30)
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) + 0.30)
elseif ItemID == 0x49303037 then
call SetHeroInt(u, int - 15, true)
call SetUnitManaRegeneration(u , regen_mp - 1.25)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 200
call SaveReal(udg_hash, u_Id, 3, LoadReal(udg_hash, u_Id, 3) - 0.25)
elseif ItemID == 0x49303038 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 250)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 25
elseif ItemID == 0x49303148 then
call SetUnitExtraDamage(u , atk - 30)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) - 0.20)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 12.00)
endif
elseif lvl == 12 then
if ItemID == 0x49304134 then
call SetHeroInt(u, int - 30, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 175
elseif ItemID == 0x49304135 then
call SetHeroInt(u, int - 10, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 250)
call SetUnitManaRegeneration(u , regen_mp - 2.25)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) + 0.15)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.15)
elseif ItemID == 0x49304136 then
call SetUnitExtraArmor(u , armor - 8)
call SetHeroAgi(u, agi - 15, true)
elseif ItemID == 0x49304137 then
call SetUnitAttackSpeed(u , atk_speed - 125)
elseif ItemID == 0x49304138 then
call SaveInteger(udg_hash, GetHandleId(pl), 13, 0)
call SetUnitExtraArmor(u , armor - 10)
call SaveReal(udg_hash, u_Id, 4, LoadReal(udg_hash, u_Id, 4) - 0.08)
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetHeroStr(u, str - Loop, true)
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
elseif ItemID == 0x49304139 then
call SetUnitExtraArmor(u , armor - 5)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SetUnitManaRegeneration(u , regen_mp - 5.00)
elseif ItemID == 0x49304141 then
call SetUnitExtraDamage(u , atk - 40)
call SetUnitAttackSpeed(u , atk_speed - 20)
call SaveReal(udg_hash, u_Id, 1, LoadReal(udg_hash, u_Id, 1) + 0.15)
elseif ItemID == 0x49304142 then
call SetUnitExtraArmor(u , armor - 7)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1000)
call SetUnitLifeRegeneration(u , regen_hp - 8.0)
elseif ItemID == 0x49304158 then
call SetUnitAttackSpeed(u , atk_speed - 50)
call SetHeroAgi(u, agi - 12, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 30
elseif ItemID == 0x49304159 then
call SetUnitExtraDamage(u , atk - 30)
call SetHeroStr(u, str - 10, true)
call SetUnitExtraArmor(u , armor - 5)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.10)
elseif ItemID == 0x4930415A then
call SetHeroInt(u, int - 15, true)
call SetUnitManaRegeneration(u , regen_mp - 2.00)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100
elseif ItemID == 0x49304230 then
call SetUnitExtraArmor(u , armor - 8)
call SaveReal(udg_hash, u_Id, 12, LoadReal(udg_hash, u_Id, 12) - 0.20)
call SaveReal(udg_hash, u_Id, 10, LoadReal(udg_hash, u_Id, 10) - 1.00)
elseif ItemID == 0x49303041 then
call SetUnitExtraDamage(u , atk - 25)
call SetHeroAgi(u, agi - 10, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 20.0)
if IsUnitType(u, UNIT_TYPE_MELEE_ATTACKER) == true then
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.30)
else
call SaveReal(udg_hash, u_Id, 41, LoadReal(udg_hash, u_Id, 41) - 0.30)
endif
elseif ItemID == 0x49303042 then
call SetHeroInt(u, int - 20, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 150
set Loop=LoadInteger(udg_hash, GetHandleId(Item), 6)
call SetUnitExtraDamage(u , atk - Loop - 20)
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
elseif ItemID == 0x64747362 then
call SetUnitExtraDamage(u , atk - 15)
call SetUnitLifeRegeneration(u , regen_hp - 3.0)
elseif ItemID == 0x74626172 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 1500)
call SetUnitManaRegeneration(u , regen_mp - 3.75)
call SetUnitLifeRegeneration(u , regen_hp - 2.25)
elseif ItemID == 0x61727363 then
call SetUnitExtraDamage(u , atk - 50)
call SetHeroAgi(u, agi - 20, true)
call SaveReal(udg_hash, u_Id, 16, LoadReal(udg_hash, u_Id, 16) - 25.0)
elseif ItemID == 0x686F726C then
call SetUnitExtraArmor(u , armor - 8)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 1000)
call SetUnitManaRegeneration(u , regen_mp - 6.00)
elseif ItemID == 0x62666872 then
call SetUnitExtraArmor(u , armor - 15)
call SetHeroStr(u, str - 25, true)
call SaveReal(udg_hash, u_Id, 8, LoadReal(udg_hash, u_Id, 8) - 0.15)
call SaveReal(udg_hash, u_Id, 43, LoadReal(udg_hash, u_Id, 43) - 0.15)
elseif ItemID == 0x63636D64 then
call SetHeroStr(u, str - 20, true)
call SetHeroAgi(u, agi - 20, true)
call SetHeroInt(u, int - 20, true)
call SetUnitMana(u , R2I(GetUnitState(u, UNIT_STATE_MAX_MANA)) - 500)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - 500)
call SetUnitManaRegeneration(u , regen_mp - 2.50)
call SetUnitLifeRegeneration(u , regen_hp - 2.50)
elseif ItemID == 0x636F736C then
call SetUnitExtraDamage(u , atk - 40)
call SetHeroStr(u, str - 25, true)
call SetUnitAttackSpeed(u , atk_speed - 25)
call SaveReal(udg_hash, u_Id, 40, LoadReal(udg_hash, u_Id, 40) - 0.15)
elseif ItemID == 0x6F736C6F then
call SetHeroInt(u, int - 35, true)
call SetUnitExtraArmor(u , armor - 10)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 250
elseif ItemID == 0x676C646F then
call SetUnitAttackSpeed(u , atk_speed - 150)
call SaveReal(udg_hash, u_Id, 6, LoadReal(udg_hash, u_Id, 6) - 0.20)
call SetUnitLifeRegeneration(u , regen_hp - 15.00)
endif
endif
set u=null
set pl=null
set Item=null
set t=null
endfunction
function InitTrig_RemoveStat takes nothing returns nothing
set gg_trg_RemoveStat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_RemoveStat, EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(gg_trg_RemoveStat, function Trig_RemoveStat_Actions)
endfunction
function Trig_ChargesConnect_Conditions takes nothing returns boolean
if ( not ( GetItemCharges(GetManipulatedItem()) > 0 ) ) then
return false
endif
if ( not ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_POWERUP ) ) then
return false
endif
return true
endfunction
function Trig_ChargesConnect_Func004C takes nothing returns boolean
if ( not ( UnitHasItemOfTypeBJ(GetManipulatingUnit(), GetItemTypeId(GetManipulatedItem())) == false ) ) then
return false
endif
return true
endfunction
function Trig_ChargesConnect_Actions takes nothing returns nothing
call UnitRemoveItemSwapped(GetManipulatedItem(), GetManipulatingUnit())
if ( Trig_ChargesConnect_Func004C() ) then
call CreateItemLoc(GetItemTypeId(GetManipulatedItem()), GetUnitLoc(GetManipulatingUnit()))
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemSwapped(GetLastCreatedItem(), GetManipulatingUnit())
call EnableTrigger(GetTriggeringTrigger())
call SetItemCharges(GetLastCreatedItem(), GetItemCharges(GetManipulatedItem()))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(), GetItemTypeId(GetManipulatedItem())), ( GetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(), GetItemTypeId(GetManipulatedItem()))) + GetItemCharges(GetManipulatedItem()) ))
endif
call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig_ChargesConnect takes nothing returns nothing
set gg_trg_ChargesConnect=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ChargesConnect, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ChargesConnect, Condition(function Trig_ChargesConnect_Conditions))
call TriggerAddAction(gg_trg_ChargesConnect, function Trig_ChargesConnect_Actions)
endfunction
function SecretGloves takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x6C6D6272
local integer R2=0x676F6D6E
local integer R3=0x67666F72
local integer R4=0x67757669
local integer R5=0x74706F77
local integer R6=0x4930324A
local real x
local real y
local integer L
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 or Id == R5 or Id == R6 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true and UnitHasItemOfTypeBJ(u, R5) == true and UnitHasItemOfTypeBJ(u, R6) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set L=0
loop
exitwhen L > 5
call RemoveItem(UnitItemInSlot(u, L))
set L=L + 1
endloop
call UnitAddItemById(u, 0x6C676468)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretGloves takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretGloves)
set t=null
endfunction
function SecretChest takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303737
local integer R2=0x706D616E
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x7462616B)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretChest takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretChest)
set t=null
endfunction
function SecretCrown takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303038
local integer R2=0x726E6563
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x72616D32)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretCrown takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretCrown)
set t=null
endfunction
function SecretSword takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303653
local integer R2=0x4930355A
local integer R3=0x70686561
local integer R4=0x72656A34
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x70727674)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretSword takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretSword)
set t=null
endfunction
function SecretEagle takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x66726764
local integer R2=0x49303457
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x61666163)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretEagle takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretEagle)
set t=null
endfunction
function SecretAmulet takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303733
local integer R2=0x49303734
local integer R3=0x49303735
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x636B6E67)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretAmulet takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretAmulet)
set t=null
endfunction
function SecretVelvera takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303932
local integer R2=0x49303655
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x6772736C)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretVelvera takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretVelvera)
set t=null
endfunction
function SecretGromSekira takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303531
local integer R2=0x4930384B
local integer R3=0x6C6E726E
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x746D7363)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretGromSekira takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretGromSekira)
set t=null
endfunction
function SecretEthernalNight takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x76616D70
local integer R2=0x49303657
local integer R3=0x6A64726E
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x72616D33)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretEthernalNight takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretEthernalNight)
set t=null
endfunction
function SecretRoyalEgida takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x4930374B
local integer R2=0x776E6575
local integer R3=0x776C7364
local integer R4=0x49303732
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x6D6F6474)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretRoyalEgida takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretRoyalEgida)
set t=null
endfunction
function SecretSpear takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x736B756C
local integer R2=0x49303744
local integer R3=0x616E6B68
local integer R4=0x49303443
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x63727973)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretSpear takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretSpear)
set t=null
endfunction
function SecretSphere takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303658
local integer R2=0x736D616E
local integer R3=0x776F6D73
local integer R4=0x49304156
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x6F66726F)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretSphere takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretSphere)
set t=null
endfunction
function SecretSecutor takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x6D6C7374
local integer R2=0x6E737069
local integer R3=0x66726867
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x616A656E)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretSecutor takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretSecutor)
set t=null
endfunction
function SecretArtAmuletT2 takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x61666163
local integer R2=0x636B6E67
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x74666172)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretArtAmuletT2 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretArtAmuletT2)
set t=null
endfunction
function SecretPalach takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x616A656E
local integer R2=0x49303846
local integer R3=0x49303445
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x6876616C)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretPalach takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretPalach)
set t=null
endfunction
function SecretAntinomia takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x72617466
local integer R2=0x67736F75
local integer R3=0x6776736D
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call UnitAddItemById(u, 0x73686377)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretAntinomia takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretAntinomia)
set t=null
endfunction
function SecretFlameScepter takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x68736C76
local integer R2=0x49303447
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x64657363)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_SecretFlameScepter takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function SecretFlameScepter)
set t=null
endfunction
function AlienGrapes takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x49303432
local integer R2=0x49303533
local real x
local real y
if ( Id == R1 or Id == R2 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call UnitAddItemById(u, 0x72726532)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_AlienGrapes takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function AlienGrapes)
set t=null
endfunction
function TitanGloves takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x62677374
local integer R2=0x636C7364
local integer R3=0x49303835
local integer R4=0x49303543
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x73707265)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_TitanGloves takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function TitanGloves)
set t=null
endfunction
function T5Necklace takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x6C687374
local integer R2=0x72737431
local integer R3=0x49303836
local integer R4=0x49303446
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x6D6E7366)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_T5Necklace takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function T5Necklace)
set t=null
endfunction
function T5Shield takes nothing returns nothing
local unit u=GetManipulatingUnit()
local item Item=GetManipulatedItem()
local integer Id=GetItemTypeId(Item)
local integer R1=0x7374656C
local integer R2=0x62726163
local integer R3=0x49303458
local integer R4=0x49303555
local real x
local real y
if ( Id == R1 or Id == R2 or Id == R3 or Id == R4 ) and IsUnitAlly(u, Player(0)) then
if UnitHasItemOfTypeBJ(u, R1) == true and UnitHasItemOfTypeBJ(u, R2) == true and UnitHasItemOfTypeBJ(u, R3) == true and UnitHasItemOfTypeBJ(u, R4) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R1))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R2))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R3))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, R4))
call UnitAddItemById(u, 0x61786173)
set u=null
set Item=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set u=null
set Item=null
endfunction
function InitTrig_T5Shield takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t, function T5Shield)
set t=null
endfunction
function Trig_Scroll1_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130315A
endfunction
function Trig_Scroll1_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local item scroll=GetItemOfTypeFromUnitBJ(u, 0x49303044)
if ItemID == 0x49303043 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72617463)
elseif ItemID == 0x49303031 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72617436)
elseif ItemID == 0x49303035 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72617439)
elseif ItemID == 0x49303138 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x77617264)
elseif ItemID == 0x4930314E then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x70656E72)
elseif ItemID == 0x4930304B then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x73707368)
elseif ItemID == 0x49303055 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x636E6F62)
elseif ItemID == 0x49303149 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x706D6E61)
elseif ItemID == 0x4930324A then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6473756D)
elseif ItemID == 0x49303133 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72687468)
elseif ItemID == 0x49303154 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6863756E)
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_Scroll1 takes nothing returns nothing
set gg_trg_Scroll1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Scroll1, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Scroll1, Condition(function Trig_Scroll1_Conditions))
call TriggerAddAction(gg_trg_Scroll1, function Trig_Scroll1_Actions)
endfunction
function Trig_Scroll2_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303230
endfunction
function Trig_Scroll2_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll=GetItemOfTypeFromUnitBJ(u, 0x49303045)
if ItemID == 0x72617463 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x62656C76)
elseif ItemID == 0x72617436 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72646531)
elseif ItemID == 0x72617439 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72646532)
elseif ItemID == 0x77617264 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x7277697A)
elseif ItemID == 0x70656E72 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x726C6966)
elseif ItemID == 0x73707368 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72646533)
elseif ItemID == 0x636E6F62 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x63697269)
elseif ItemID == 0x706D6E61 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72696E31)
elseif ItemID == 0x6473756D then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x73626368)
elseif ItemID == 0x72687468 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6D636F75)
elseif ItemID == 0x6863756E then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x636C666D)
elseif ItemID == 0x6F646566 then
if udg_ArtLogic[2] == false then
set udg_ArtLogic[2]=true
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6B70696E)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_Scroll2 takes nothing returns nothing
set gg_trg_Scroll2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Scroll2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Scroll2, Condition(function Trig_Scroll2_Conditions))
call TriggerAddAction(gg_trg_Scroll2, function Trig_Scroll2_Actions)
endfunction
function Trig_Scroll3_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303231 or GetSpellAbilityId() == 0x41305446
endfunction
function Trig_Scroll3_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll
local boolean IsScroll=false
if GetSpellAbilityId() == 0x41303231 then
set scroll=GetItemOfTypeFromUnitBJ(u, 0x49303046)
set IsScroll=true
endif
if ItemID == 0x7363686C then
if udg_ArtLogic[21] == false then
set udg_ArtLogic[21]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x73626F6B)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
if ItemID == 0x62656C76 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x7374656C)
elseif ItemID == 0x72646531 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x6C687374)
elseif ItemID == 0x72646532 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x62677374)
elseif ItemID == 0x7277697A then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x72737431)
elseif ItemID == 0x726C6966 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x636C7364)
elseif ItemID == 0x72646533 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x62737064)
elseif ItemID == 0x63697269 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x6576746C)
elseif ItemID == 0x72696E31 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x6763656C)
elseif ItemID == 0x73626368 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x62726163)
elseif ItemID == 0x6D636F75 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x7373696C)
elseif ItemID == 0x636C666D then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x6F646566)
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_Scroll3 takes nothing returns nothing
set gg_trg_Scroll3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Scroll3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Scroll3, Condition(function Trig_Scroll3_Conditions))
call TriggerAddAction(gg_trg_Scroll3, function Trig_Scroll3_Actions)
endfunction
function Trig_ItemsUp_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303256 or GetSpellAbilityId() == 0x41304246
endfunction
function Trig_ItemsUp_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll
local boolean IsScroll=false
if GetSpellAbilityId() == 0x41304246 then
set scroll=GetItemOfTypeFromUnitBJ(u, 0x49303347)
set IsScroll=true
endif
if ItemID == 0x49303043 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303051)
elseif ItemID == 0x49303031 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303050)
elseif ItemID == 0x49303035 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x4930304F)
elseif ItemID == 0x49303138 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303139)
elseif ItemID == 0x4930314E then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303152)
elseif ItemID == 0x4930304B then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303052)
elseif ItemID == 0x49303055 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303059)
elseif ItemID == 0x49303149 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x4930314A)
elseif ItemID == 0x4930324A then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x4930324B)
elseif ItemID == 0x49303133 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303137)
elseif ItemID == 0x49303154 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303155)
elseif ItemID == 0x49303049 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303053)
elseif ItemID == 0x4930305A then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303131)
elseif ItemID == 0x49303236 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303238)
elseif ItemID == 0x49303339 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303341)
elseif ItemID == 0x49303334 then
if udg_ArtLogic[1] == false then
set udg_ArtLogic[1]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x67656D74)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_ItemsUp takes nothing returns nothing
set gg_trg_ItemsUp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemsUp, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ItemsUp, Condition(function Trig_ItemsUp_Conditions))
call TriggerAddAction(gg_trg_ItemsUp, function Trig_ItemsUp_Actions)
endfunction
function Trig_ItemsUp2_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130394B or GetSpellAbilityId() == 0x41304247
endfunction
function Trig_ItemsUp2_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll
local boolean IsScroll=false
if GetSpellAbilityId() == 0x41304247 then
set scroll=GetItemOfTypeFromUnitBJ(u, 0x49303348)
set IsScroll=true
endif
if ItemID == 0x49303043 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303252)
elseif ItemID == 0x49303031 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303251)
elseif ItemID == 0x49303035 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303253)
elseif ItemID == 0x49303138 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303254)
elseif ItemID == 0x4930314E then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303335)
elseif ItemID == 0x4930304B then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303330)
elseif ItemID == 0x49303055 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303337)
elseif ItemID == 0x49303149 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303256)
elseif ItemID == 0x4930324A then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x4930325A)
elseif ItemID == 0x49303133 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303255)
elseif ItemID == 0x49303154 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303336)
elseif ItemID == 0x49303049 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303333)
elseif ItemID == 0x4930305A then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303331)
elseif ItemID == 0x49303236 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303250)
elseif ItemID == 0x49303339 then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x49303342)
elseif ItemID == 0x49303054 then
if udg_ArtLogic[1] == false then
set udg_ArtLogic[1]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x67656D74)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
elseif ItemID == 0x49303253 or ItemID == 0x49303251 or ItemID == 0x49303252 then
if udg_ArtLogic[7] == false then
set udg_ArtLogic[7]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x67736F75)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
elseif ItemID == 0x64757374 then
if udg_ArtLogic[22] == false then
set udg_ArtLogic[22]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x72617466)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_ItemsUp2 takes nothing returns nothing
set gg_trg_ItemsUp2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemsUp2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ItemsUp2, Condition(function Trig_ItemsUp2_Conditions))
call TriggerAddAction(gg_trg_ItemsUp2, function Trig_ItemsUp2_Actions)
endfunction
function Trig_ItemsUp3_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41304248 or GetSpellAbilityId() == 0x41305332 or GetSpellAbilityId() == 0x41305443
endfunction
function Trig_ItemsUp3_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll
local boolean IsScroll=false
local integer L
local integer L2
if GetSpellAbilityId() == 0x41304248 then
set scroll=GetItemOfTypeFromUnitBJ(u, 0x49303349)
set IsScroll=true
if ItemID == 0x49303349 then
if udg_ArtLogic[3] == false then
set L=0
set L2=0
loop
exitwhen L > 5
set Item=UnitItemInSlot(u, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x49303349 then
set L2=L2 + 1
endif
set L=L + 1
endloop
if L2 >= 2 then
set udg_ArtLogic[3]=true
set ItemID=0x6173626C
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303349))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303349))
set Item=CreateItem(ItemID, x, y)
call UnitAddItem(u, Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
endif
endif
if ItemID == 0x49303343 then
if udg_ArtLogic[5] == false then
set udg_ArtLogic[5]=true
set ItemID=0x72646534
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set Item=CreateItem(ItemID, x, y)
call UnitAddItem(u, Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
elseif ItemID == 0x62656C76 or ItemID == 0x72646531 or ItemID == 0x72646532 or ItemID == 0x72646533 or ItemID == 0x726C6966 or ItemID == 0x73626368 or ItemID == 0x72696E31 or ItemID == 0x7277697A or ItemID == 0x6D636F75 or ItemID == 0x636C666D or ItemID == 0x63697269 then
set L=GetRandomInt(1, udg_PurpleItemsCount)
set ItemID=udg_PurpleItems[L]
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set Item=CreateItem(ItemID, x, y)
call UnitAddItem(u, Item)
endif
set L=1
loop
exitwhen L > udg_PurpleItemsCount + 2
if ItemID == udg_PurpleItems[L] then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set L2=GetRandomInt(1, 3)
set L=L + L2
if L > udg_PurpleItemsCount then
set L=L - udg_PurpleItemsCount
endif
set ItemID=udg_PurpleItems[L]
set Item=CreateItem(ItemID, x, y)
call UnitAddItem(u, Item)
set L=50
else
set L=L + 1
endif
endloop
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_ItemsUp3 takes nothing returns nothing
set gg_trg_ItemsUp3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemsUp3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ItemsUp3, Condition(function Trig_ItemsUp3_Conditions))
call TriggerAddAction(gg_trg_ItemsUp3, function Trig_ItemsUp3_Actions)
endfunction
function Trig_ItemsUp4_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303251 or GetSpellAbilityId() == 0x41304658 or GetSpellAbilityId() == 0x41305332
endfunction
function Trig_ItemsUp4_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll
local boolean IsScroll=false
local integer L
local integer L2
if GetSpellAbilityId() == 0x41304658 then
set scroll=GetItemOfTypeFromUnitBJ(u, 0x49303534)
set IsScroll=true
if ItemID == 0x49303534 then
if udg_ArtLogic[9] == false then
set L=0
set L2=0
loop
exitwhen L > 5
set Item=UnitItemInSlot(u, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x49303534 then
set L2=L2 + 1
endif
set L=L + 1
endloop
if L2 >= 2 then
set udg_ArtLogic[9]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303534))
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303534))
call UnitAddItemById(u, 0x72616D34)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
endif
endif
endif
if ItemID == 0x6576746C then
if udg_ArtLogic[8] == false then
set udg_ArtLogic[8]=true
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, 0x746B6E6F)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
endif
elseif ItemID == 0x4930304A then
set L=GetRandomInt(1, 4)
set L2=udg_TealItems1[L]
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, L2)
elseif ItemID == 0x49303130 then
set L=GetRandomInt(1, 4)
set L2=udg_TealItems2[L]
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, L2)
elseif ItemID == 0x49303237 then
set L=GetRandomInt(1, 4)
set L2=udg_TealItems3[L]
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, L2)
elseif ItemID == 0x49303343 then
set L=GetRandomInt(1, 4)
set L2=udg_TealItems4[L]
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
call UnitAddItemById(u, L2)
endif
set L=1
loop
exitwhen L > 4
if ItemID == udg_TealItems1[L] then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set L=L + 1
if L >= 5 then
set L=1
endif
set ItemID=udg_TealItems1[L]
call UnitAddItemById(u, ItemID)
set L=5
elseif ItemID == udg_TealItems2[L] then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set L=L + 1
if L >= 5 then
set L=1
endif
set ItemID=udg_TealItems2[L]
call UnitAddItemById(u, ItemID)
set L=5
elseif ItemID == udg_TealItems3[L] then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set L=L + 1
if L >= 5 then
set L=1
endif
set ItemID=udg_TealItems3[L]
call UnitAddItemById(u, ItemID)
set L=5
elseif ItemID == udg_TealItems4[L] then
call RemoveItem(Item)
if IsScroll == true then
call RemoveItem(scroll)
endif
set L=L + 1
if L >= 5 then
set L=1
endif
set ItemID=udg_TealItems4[L]
call UnitAddItemById(u, ItemID)
set L=5
else
set L=L + 1
endif
endloop
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_ItemsUp4 takes nothing returns nothing
set gg_trg_ItemsUp4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemsUp4, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ItemsUp4, Condition(function Trig_ItemsUp4_Conditions))
call TriggerAddAction(gg_trg_ItemsUp4, function Trig_ItemsUp4_Actions)
endfunction
function Trig_Mod_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303734
endfunction
function Trig_Mod_Actions takes nothing returns nothing
local item Item=GetSpellTargetItem()
local integer ItemID=GetItemTypeId(Item)
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item scroll=GetItemOfTypeFromUnitBJ(u, 0x49303246)
if ItemID == 0x616D7263 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x70616D73)
elseif ItemID == 0x70616D73 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x61727368)
elseif ItemID == 0x62726167 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x69776272)
elseif ItemID == 0x69776272 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x656E766C)
elseif ItemID == 0x73747761 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x72617433)
elseif ItemID == 0x72617433 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6B67616C)
elseif ItemID == 0x676F626D then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x74656C73)
elseif ItemID == 0x74656C73 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x7468646D)
elseif ItemID == 0x7372746C then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x626C6261)
elseif ItemID == 0x626C6261 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x616E6667)
elseif ItemID == 0x736F756C then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6573617A)
elseif ItemID == 0x6573617A then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x7363686C)
elseif ItemID == 0x726F7473 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x73747067)
elseif ItemID == 0x73747067 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x7368656E)
elseif ItemID == 0x70737064 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x736B7368)
elseif ItemID == 0x736B7368 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x666C6167)
elseif ItemID == 0x75666C67 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6E666C67)
elseif ItemID == 0x6E666C67 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x6F666C67)
elseif ItemID == 0x62747374 then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x7462736D)
elseif ItemID == 0x7462736D then
call RemoveItem(Item)
call RemoveItem(scroll)
call UnitAddItemById(u, 0x746C756D)
endif
set Item=null
set u=null
set scroll=null
endfunction
function InitTrig_Mod takes nothing returns nothing
set gg_trg_Mod=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mod, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mod, Condition(function Trig_Mod_Conditions))
call TriggerAddAction(gg_trg_Mod, function Trig_Mod_Actions)
endfunction
function UseItem_DeleteSkill takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
local integer n2
local integer ID=LoadInteger(udg_hash, GetHandleId(t), 1)
local effect e
local real r
if ID == 0x6667736B then
set r=LoadReal(udg_hash, GetHandleId(t), 2)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - r
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.10)
set e=LoadEffectHandle(udg_hash, GetHandleId(t), 2)
call DestroyEffect(e)
elseif ID == 0x656E6773 then
set n=LoadInteger(udg_hash, GetHandleId(t), 2)
call SetHeroStr(u, GetHeroStr(u, false) - n, true)
call SetUnitLifePercentBJ(u, GetUnitLifePercent(u) + 10.00)
set e=LoadEffectHandle(udg_hash, GetHandleId(t), 2)
call DestroyEffect(e)
elseif ID == 0x73747770 then
set n=LoadInteger(udg_hash, GetHandleId(t), 2)
set n2=GetUnitAttackSpeed(u)
call SetUnitAttackSpeed(u , n2 - n)
set e=LoadEffectHandle(udg_hash, GetHandleId(t), 2)
call DestroyEffect(e)
elseif ID == 0x62747374 then
set n2=LoadInteger(udg_hash, GetHandleId(t), 2)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - n2)
elseif ID == 0x7462736D then
set n2=LoadInteger(udg_hash, GetHandleId(t), 2)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - n2)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - 4)
elseif ID == 0x746C756D then
set n2=LoadInteger(udg_hash, GetHandleId(t), 2)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - n2)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - 6)
endif
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set u=null
set t=null
set e=null
endfunction
function Trig_UseItem_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local unit u2
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer n2
local integer L
local real r
local item Item=GetManipulatedItem()
local integer ItemID=GetItemTypeId(Item)
local integer ID
local timer t
local effect e
local string StatName=LoadStr(udg_hash, GetHandleId(u), 1)
if ItemID == 0x62747374 and StatName == "STR" then
set n2=R2I(I2R(GetHeroStr(u, true)) * 0.4)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + n2)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
call SaveInteger(udg_hash, GetHandleId(t), 2, n2)
call TimerStart(t, 12, true, function UseItem_DeleteSkill)
elseif ItemID == 0x7462736D and StatName == "STR" then
set n2=R2I(I2R(GetHeroStr(u, true)) * 0.5)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + n2)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 4)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
call SaveInteger(udg_hash, GetHandleId(t), 2, n2)
call TimerStart(t, 12, true, function UseItem_DeleteSkill)
elseif ItemID == 0x746C756D and StatName == "STR" then
set n2=R2I(I2R(GetHeroStr(u, true)) * 0.6)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + n2)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 6)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
call SaveInteger(udg_hash, GetHandleId(t), 2, n2)
call TimerStart(t, 12, true, function UseItem_DeleteSkill)
elseif ItemID == 0x6667736B then
set t=CreateTimer()
set ID=GetHandleId(t)
if GetUnitAbilityLevel(u, 0x4130375A) == 1 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 390.00
call SaveReal(udg_hash, ID, 2, 390.00)
else
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 300.00
call SaveReal(udg_hash, ID, 2, 300.00)
endif
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) + 0.10)
call SaveUnitHandle(udg_hash, ID, 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
set e=AddSpecialEffectTarget("war3mapImported\\Sacred Guard Blue - Classic.mdx", u, "chest")
call SaveEffectHandle(udg_hash, ID, 2, e)
call TimerStart(t, 13, true, function UseItem_DeleteSkill)
elseif ItemID == 0x656E6773 then
set n=GetHeroStr(u, false)
set n2=n / 2
call SetHeroStr(u, n + n2, true)
set t=CreateTimer()
set ID=GetHandleId(t)
call SaveUnitHandle(udg_hash, ID, 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
call SaveInteger(udg_hash, ID, 2, n2)
set e=AddSpecialEffectTarget("Abilities\\Weapons\\ZigguratFrostMissile\\ZigguratFrostMissile.mdl", u, "hand,left")
call SaveEffectHandle(udg_hash, ID, 2, e)
call TimerStart(t, 10, true, function UseItem_DeleteSkill)
elseif ItemID == 0x73747770 then
set n=GetUnitAttackSpeed(u)
call SetUnitAttackSpeed(u , n + n)
set t=CreateTimer()
set ID=GetHandleId(t)
call SaveUnitHandle(udg_hash, ID, 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, ItemID)
call SaveInteger(udg_hash, ID, 2, n)
set e=AddSpecialEffectTarget("Abilities\\Weapons\\VoidWalkerMissile\\VoidWalkerMissile.mdl", u, "head")
call SaveEffectHandle(udg_hash, ID, 2, e)
call TimerStart(t, 10, true, function UseItem_DeleteSkill)
elseif ItemID == 0x77687764 then
call SetUnitLifePercentBJ(u, 100)
call SetUnitManaPercentBJ(u, 100)
call UnitRemoveBuffs(u, false, true)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", u, "origin"))
elseif ItemID == 0x67656D74 then
call SetUnitLifePercentBJ(u, ( GetUnitLifePercent(u) + 13.00 ))
call SetUnitManaPercentBJ(u, ( GetUnitManaPercent(u) + 13.00 ))
elseif ItemID == 0x74736374 then
set n2=LoadInteger(udg_hash, GetHandleId(pl), 9)
set r=GetUnitFacing(u)
set x=x + 100 * Cos(r * bj_DEGTORAD)
set y=y + 100 * Sin(r * bj_DEGTORAD)
set L=1
loop
exitwhen L > 4
set u2=CreateUnit(pl, 0x68646877, x, y, r)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u2, "origin"))
call SetUnitExtraArmor(u2 , n2 / 4)
call SetUnitBaseDamage(u2 , n2 * 3)
call SetUnitLife(u2 , R2I(GetUnitState(u2, UNIT_STATE_MAX_LIFE)) + n2 * 40)
call SetUnitAttackSpeed(u2 , n2)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call UnitApplyTimedLife(u2, 0x42544C46, 30)
set L=L + 1
endloop
call SaveInteger(udg_hash, GetHandleId(pl), 9, n2 + 1)
elseif ItemID == 0x73696C6B then
call RemoveItem(Item)
call UnitAddItemById(u, 0x70636C72)
elseif ItemID == 0x70636C72 then
call RemoveItem(Item)
call UnitAddItemById(u, 0x706C636C)
elseif ItemID == 0x706C636C then
call RemoveItem(Item)
call UnitAddItemById(u, 0x73696C6B)
elseif ItemID == 0x77736873 then
call RemoveItem(Item)
call UnitAddItemById(u, 0x77737764)
elseif ItemID == 0x77737764 then
call RemoveItem(Item)
call UnitAddItemById(u, 0x77736873)
elseif ItemID == 0x70696E76 then
set x=GetUnitLifePercent(u)
set y=GetUnitManaPercent(u)
call SetUnitLifePercentBJ(u, y + 10.00)
call SetUnitManaPercentBJ(u, x + 10.00)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\FaerieDragonInvis\\FaerieDragon_Invis.mdl", u, "origin"))
endif
set Item=null
set u=null
set u2=null
set pl=null
set t=null
set e=null
endfunction
function InitTrig_UseItem takes nothing returns nothing
set gg_trg_UseItem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_UseItem, EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_UseItem, function Trig_UseItem_Actions)
endfunction
function Trig_ItemAttacksFromHero_Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(), UNIT_TYPE_HERO) == true
endfunction
function EagleStingEnd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call GroupRemoveUnit(udg_ItemGroup[20], u)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function RedDaggerCd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call GroupRemoveUnit(udg_ItemGroup[56], u)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function RedDaggerEnd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, GetHandleId(u), 19)
local integer count=LoadInteger(udg_hash, Id, 2)
set count=count - 1
if count == 0 then
call SetHeroAgi(u, GetHeroAgi(u, false) - n, true)
call SaveTimerHandle(udg_hash, GetHandleId(u), 19, null)
call SaveInteger(udg_hash, GetHandleId(u), 19, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 2, count)
endif
set t=null
set u=null
endfunction
function Trig_ItemAttacksFromHero_Actions takes nothing returns nothing
local unit attacker=GetAttacker()
local unit defender=GetTriggerUnit()
local unit u
local player pl=GetOwningPlayer(attacker)
local real DefLifePercent=GetUnitLifePercent(defender)
local integer L
local integer random
local item Item
local integer ItemID
local real x
local real y
local real x2
local real y2
local real x3
local real y3
local real angle
local timer t
local timer t2
if IsUnitEnemy(defender, pl) == true then
set udg_u=attacker
set udg_u2=defender
set L=0
loop
exitwhen L > 5
set Item=UnitItemInSlot(attacker, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x66677267 then
if LoadInteger(udg_hash, GetHandleId(defender), 18) != 1 and IsUnitType(defender, UNIT_TYPE_STRUCTURE) == false then
call SaveInteger(udg_hash, GetHandleId(defender), 18, 1)
if IsUnitType(defender, UNIT_TYPE_HERO) == true then
set random=GetHeroLevel(defender) / 2
else
set random=GetUnitLevel(defender)
endif
call SetUnitExtraArmor(defender , GetUnitExtraArmor(defender) - random)
endif
elseif ItemID == 0x49304135 then
if IsUnitInGroup(attacker, udg_ItemGroup[44]) == false then
if IsUnitType(defender, UNIT_TYPE_HERO) == true then
call GroupAddUnit(udg_ItemGroup[44], attacker)
call TriggerExecute(gg_trg_ObserverRing)
endif
endif
elseif ItemID == 0x49303855 then
if IsUnitInGroup(attacker, udg_ItemGroup[1]) == false then
set x=GetUnitX(attacker)
set y=GetUnitY(attacker)
set x2=GetUnitX(defender)
set y2=GetUnitY(defender)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x >= 500 then
call GroupAddUnit(udg_ItemGroup[1], attacker)
call TriggerExecute(gg_trg_RangerBow)
endif
endif
elseif ItemID == 0x49304157 then
if IsUnitInGroup(attacker, udg_ItemGroup[51]) == false then
set x=GetUnitX(attacker)
set y=GetUnitY(attacker)
set x2=GetUnitX(defender)
set y2=GetUnitY(defender)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x <= 200 then
call GroupAddUnit(udg_ItemGroup[51], attacker)
call TriggerExecute(gg_trg_KnightSword)
endif
endif
elseif ItemID == 0x49303539 then
if IsUnitInGroup(attacker, udg_ItemGroup[36]) == false then
set x=GetUnitX(attacker)
set y=GetUnitY(attacker)
set x2=GetUnitX(defender)
set y2=GetUnitY(defender)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x <= 200 then
call GroupAddUnit(udg_ItemGroup[36], attacker)
call TriggerExecute(gg_trg_ValorCestus)
endif
endif
elseif ItemID == 0x64746862 then
if IsUnitInGroup(attacker, udg_ItemGroup[45]) == false then
set x=GetUnitX(attacker)
set y=GetUnitY(attacker)
set x2=GetUnitX(defender)
set y2=GetUnitY(defender)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x <= 200 then
call GroupAddUnit(udg_ItemGroup[45], attacker)
call TriggerExecute(gg_trg_BronzeFist)
endif
endif
elseif ItemID == 0x6B796D6E then
if IsUnitInGroup(attacker, udg_ItemGroup[46]) == false then
call GroupAddUnit(udg_ItemGroup[46], attacker)
call TriggerExecute(gg_trg_PurgeBlade)
endif
elseif ItemID == 0x49303531 then
if IsUnitInGroup(attacker, udg_ItemGroup[2]) == false then
if IsUnitType(defender, UNIT_TYPE_MECHANICAL) == false and IsUnitType(defender, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[2], attacker)
call TriggerExecute(gg_trg_StormAmulet)
endif
endif
elseif ItemID == 0x746D7363 then
if IsUnitInGroup(attacker, udg_ItemGroup[32]) == false then
if IsUnitType(defender, UNIT_TYPE_MECHANICAL) == false and IsUnitType(defender, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[32], attacker)
call TriggerExecute(gg_trg_GromSekira)
endif
endif
elseif ItemID == 0x49303849 then
if IsUnitInGroup(attacker, udg_ItemGroup[3]) == false then
if IsUnitType(defender, UNIT_TYPE_MECHANICAL) == false and IsUnitType(defender, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[3], attacker)
call TriggerExecute(gg_trg_CurseArbalet)
endif
endif
elseif ItemID == 0x66726867 then
if IsUnitInGroup(attacker, udg_ItemGroup[4]) == true then
call UnitDamageTarget(attacker, defender, 50, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\RedDead.mdx", defender, "origin"))
call GroupRemoveUnit(udg_ItemGroup[4], attacker)
endif
elseif ItemID == 0x616A656E then
if IsUnitInGroup(attacker, udg_ItemGroup[50]) == true then
call UnitDamageTarget(attacker, defender, 75, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\RedDead.mdx", defender, "origin"))
call GroupRemoveUnit(udg_ItemGroup[50], attacker)
endif
elseif ItemID == 0x6876616C then
if IsUnitInGroup(attacker, udg_ItemGroup[53]) == true then
call UnitDamageTarget(attacker, defender, 100, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\RedDead.mdx", defender, "origin"))
call GroupRemoveUnit(udg_ItemGroup[53], attacker)
endif
elseif ItemID == 0x64657363 then
if IsUnitInGroup(attacker, udg_ItemGroup[42]) == true then
call TriggerExecute(gg_trg_FlameScepter)
call GroupRemoveUnit(udg_ItemGroup[42], attacker)
endif
elseif ItemID == 0x68736C76 then
if IsUnitInGroup(attacker, udg_ItemGroup[42]) == true then
call TriggerExecute(gg_trg_LavaSword)
call GroupRemoveUnit(udg_ItemGroup[42], attacker)
endif
elseif ItemID == 0x4930355A then
if IsUnitInGroup(attacker, udg_ItemGroup[5]) == false then
if DefLifePercent <= 50 then
call GroupAddUnit(udg_ItemGroup[5], attacker)
call TriggerExecute(gg_trg_KillerDagger)
endif
endif
elseif ItemID == 0x4930324A or ItemID == 0x4930324B or ItemID == 0x4930325A or ItemID == 0x6473756D or ItemID == 0x73626368 or ItemID == 0x62726163 then
if IsUnitInGroup(attacker, udg_ItemGroup[26]) == false then
call GroupAddUnit(udg_ItemGroup[26], attacker)
call TriggerExecute(gg_trg_Gloves)
endif
elseif ItemID == 0x49303932 then
if IsUnitInGroup(attacker, udg_ItemGroup[30]) == false then
if DefLifePercent <= 25 or DefLifePercent >= 75 then
call GroupAddUnit(udg_ItemGroup[30], attacker)
call TriggerExecute(gg_trg_BlueSting)
endif
endif
elseif ItemID == 0x6772736C then
if IsUnitInGroup(attacker, udg_ItemGroup[31]) == false then
if DefLifePercent <= 25 or DefLifePercent >= 75 then
call GroupAddUnit(udg_ItemGroup[31], attacker)
call TriggerExecute(gg_trg_Velvera)
endif
endif
elseif ItemID == 0x70727674 then
if IsUnitInGroup(attacker, udg_ItemGroup[6]) == false then
if DefLifePercent <= 50 then
call GroupAddUnit(udg_ItemGroup[6], attacker)
call TriggerExecute(gg_trg_ArtSword)
endif
endif
elseif ItemID == 0x49303835 then
if IsUnitInGroup(attacker, udg_ItemGroup[7]) == false then
if DefLifePercent >= 50 then
call GroupAddUnit(udg_ItemGroup[7], attacker)
call TriggerExecute(gg_trg_BloodGloves)
endif
endif
elseif ItemID == 0x73707265 and LoadStr(udg_hash, GetHandleId(attacker), 1) == "STR" then
if IsUnitInGroup(attacker, udg_ItemGroup[22]) == false then
if DefLifePercent >= 50 then
call GroupAddUnit(udg_ItemGroup[22], attacker)
call TriggerExecute(gg_trg_TitanGlovesDmg)
endif
endif
elseif ItemID == 0x49303855 then
if IsUnitInGroup(attacker, udg_ItemGroup[8]) == false then
call GroupAddUnit(udg_ItemGroup[8], attacker)
call TriggerExecute(gg_trg_BloodyStick)
endif
elseif ItemID == 0x4930384B then
if IsUnitInGroup(attacker, udg_ItemGroup[9]) == false then
if IsUnitType(defender, UNIT_TYPE_HERO) == true or GetUnitLevel(defender) >= 8 then
call GroupAddUnit(udg_ItemGroup[9], attacker)
call TriggerExecute(gg_trg_RageAxe)
endif
endif
elseif ItemID == 0x616E6B68 then
if IsUnitInGroup(attacker, udg_ItemGroup[10]) == false then
call GroupAddUnit(udg_ItemGroup[10], attacker)
call TriggerExecute(gg_trg_SeraphimSpear)
endif
elseif ItemID == 0x636F736C then
if IsUnitInGroup(attacker, udg_ItemGroup[59]) == false then
call GroupAddUnit(udg_ItemGroup[59], attacker)
call TriggerExecute(gg_trg_Excaliburn)
endif
elseif ItemID == 0x63727973 then
if IsUnitInGroup(attacker, udg_ItemGroup[48]) == false then
call GroupAddUnit(udg_ItemGroup[48], attacker)
call TriggerExecute(gg_trg_ArtSpear)
endif
elseif ItemID == 0x49303744 then
if IsUnitInGroup(attacker, udg_ItemGroup[13]) == false then
call GroupAddUnit(udg_ItemGroup[13], attacker)
call TriggerExecute(gg_trg_FarewellDesire)
endif
elseif ItemID == 0x49304158 then
if IsUnitInGroup(attacker, udg_ItemGroup[52]) == false then
call GroupAddUnit(udg_ItemGroup[52], attacker)
call TriggerExecute(gg_trg_BlueBlade)
endif
elseif ItemID == 0x49303637 then
if IsUnitInGroup(attacker, udg_ItemGroup[12]) == false then
call GroupAddUnit(udg_ItemGroup[12], attacker)
call TriggerExecute(gg_trg_Sulfuras)
endif
elseif ItemID == 0x49303936 then
if IsUnitInGroup(attacker, udg_ItemGroup[37]) == false then
call GroupAddUnit(udg_ItemGroup[37], attacker)
call TriggerExecute(gg_trg_StormAxe)
endif
elseif ItemID == 0x4930414D then
if IsUnitInGroup(attacker, udg_ItemGroup[47]) == false then
call GroupAddUnit(udg_ItemGroup[47], attacker)
call TriggerExecute(gg_trg_StormBlade)
endif
elseif ItemID == 0x676F7072 then
if IsUnitInGroup(attacker, udg_ItemGroup[15]) == false then
if IsUnitType(defender, UNIT_TYPE_MECHANICAL) == false and IsUnitType(defender, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[15], attacker)
call TriggerExecute(gg_trg_FrostClaws)
endif
endif
elseif ItemID == 0x6B796768 then
if IsUnitInGroup(attacker, udg_ItemGroup[14]) == false then
call GroupAddUnit(udg_ItemGroup[14], attacker)
call TriggerExecute(gg_trg_FrostSword)
endif
elseif ItemID == 0x49303056 then
if IsUnitInGroup(attacker, udg_ItemGroup[58]) == false then
call GroupAddUnit(udg_ItemGroup[58], attacker)
call TriggerExecute(gg_trg_Demolitron)
endif
elseif ItemID == 0x706E7675 then
if IsUnitInGroup(attacker, udg_ItemGroup[11]) == false then
if IsUnitType(defender, UNIT_TYPE_HERO) == true then
call GroupAddUnit(udg_ItemGroup[11], attacker)
call TriggerExecute(gg_trg_ItemDestructor)
endif
endif
elseif ItemID == 0x49303751 then
set random=GetRandomInt(1, 10)
if random <= 3 then
set x=GetUnitX(attacker)
set y=GetUnitY(attacker)
set x2=GetUnitX(defender)
set y2=GetUnitY(defender)
set angle=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set random=1
loop
exitwhen random > 3
set u=CreateUnit(pl, 0x6F303230, x, y, angle)
call SaveReal(udg_hash, GetHandleId(u), 13, 60.00)
call SaveUnitHandle(udg_hash, GetHandleId(u), 13, attacker)
call UnitApplyTimedLife(u, 0x42544C46, 2)
set x3=x2 + ( 100 * I2R(random) - 200 ) * Cos(( angle + 90 ) * bj_DEGTORAD)
set y3=y2 + ( 100 * I2R(random) - 200 ) * Sin(( angle + 90 ) * bj_DEGTORAD)
call IssuePointOrderById(u, Order_attackground, x3, y3)
set random=random + 1
endloop
endif
elseif ItemID == 0x49303457 or ItemID == 0x61666163 or ItemID == 0x74666172 then
if IsUnitInGroup(attacker, udg_ItemGroup[20]) == false then
call GroupAddUnit(udg_ItemGroup[20], attacker)
call SetUnitState(attacker, UNIT_STATE_LIFE, GetUnitState(attacker, UNIT_STATE_LIFE) + 6.00)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, attacker)
call TimerStart(t, 0.6, false, function EagleStingEnd)
endif
elseif ItemID == 0x49303547 then
if IsUnitInGroup(attacker, udg_ItemGroup[56]) == false and IsUnitType(defender, UNIT_TYPE_HERO) == true then
call GroupAddUnit(udg_ItemGroup[56], attacker)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, attacker)
call TimerStart(t, 0.6, false, function RedDaggerCd)
set random=LoadInteger(udg_hash, GetHandleId(attacker), 19)
if random == 0 then
set t2=CreateTimer()
call TimerStart(t2, 0.5, true, function RedDaggerEnd)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, attacker)
call SaveTimerHandle(udg_hash, GetHandleId(attacker), 19, t2)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 10)
else
set t2=LoadTimerHandle(udg_hash, GetHandleId(attacker), 19)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 10)
endif
call SetHeroAgi(attacker, GetHeroAgi(attacker, false) + 2, true)
set random=random + 2
call SaveInteger(udg_hash, GetHandleId(attacker), 19, random)
endif
endif
set L=L + 1
endloop
if LoadInteger(udg_hash, GetHandleId(attacker), 7) >= 3 then
if IsUnitInGroup(attacker, udg_ItemGroup[34]) == false then
call GroupAddUnit(udg_ItemGroup[34], attacker)
call TriggerExecute(gg_trg_AbyssComplect1)
endif
endif
if LoadInteger(udg_hash, GetHandleId(attacker), 7) >= 6 then
if IsUnitInGroup(attacker, udg_ItemGroup[35]) == false then
if IsUnitType(defender, UNIT_TYPE_HERO) == true then
call GroupAddUnit(udg_ItemGroup[35], attacker)
call TriggerExecute(gg_trg_AbyssComplect2)
endif
endif
endif
endif
set attacker=null
set defender=null
set u=null
set pl=null
set Item=null
set t=null
set t2=null
endfunction
function InitTrig_ItemAttacksFromHero takes nothing returns nothing
set gg_trg_ItemAttacksFromHero=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemAttacksFromHero, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ItemAttacksFromHero, Condition(function Trig_ItemAttacksFromHero_Conditions))
call TriggerAddAction(gg_trg_ItemAttacksFromHero, function Trig_ItemAttacksFromHero_Actions)
endfunction
function Trig_ItemAttacksToHero_Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true
endfunction
function Trig_ItemAttacksToHero_Actions takes nothing returns nothing
local unit a=GetAttacker()
local unit d=GetTriggerUnit()
local unit u2
local player pl=GetOwningPlayer(d)
local real DefLifePercent=GetUnitStatePercent(d, UNIT_STATE_LIFE, UNIT_STATE_MAX_LIFE)
local integer L
local integer n
local item Item
local integer ItemID
local real x
local real y
local real x2
local real y2
if IsUnitEnemy(a, pl) == true then
set udg_u=a
set udg_u2=d
set L=0
loop
exitwhen L > 5
set Item=UnitItemInSlot(d, L)
set ItemID=GetItemTypeId(Item)
if ItemID == 0x73687764 then
if IsUnitInGroup(d, udg_ItemGroup[16]) == false then
if IsUnitType(a, UNIT_TYPE_MECHANICAL) == false and IsUnitType(a, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[16], d)
call TriggerExecute(gg_trg_FrostArmor)
endif
endif
elseif ItemID == 0x4930374E then
if IsUnitInGroup(d, udg_ItemGroup[17]) == false then
if IsUnitType(a, UNIT_TYPE_MECHANICAL) == false and IsUnitType(a, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[17], d)
call TriggerExecute(gg_trg_StormBoots)
endif
endif
elseif ItemID == 0x49303942 then
if IsUnitInGroup(d, udg_ItemGroup[38]) == false then
if IsUnitType(a, UNIT_TYPE_MECHANICAL) == false and IsUnitType(a, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(udg_ItemGroup[38], d)
call TriggerExecute(gg_trg_StormShield)
endif
endif
elseif ItemID == 0x77637963 then
if IsUnitInGroup(d, udg_ItemGroup[49]) == false then
call GroupAddUnit(udg_ItemGroup[49], d)
call TriggerExecute(gg_trg_DepthShield)
endif
elseif ItemID == 0x49303652 then
if IsUnitInGroup(d, udg_ItemGroup[18]) == false then
call GroupAddUnit(udg_ItemGroup[18], d)
call TriggerExecute(gg_trg_SaveAmulet)
endif
elseif ItemID == 0x736F7266 then
if IsUnitInGroup(d, udg_ItemGroup[43]) == false then
call GroupAddUnit(udg_ItemGroup[43], d)
call TriggerExecute(gg_trg_SunStone)
endif
elseif ItemID == 0x49303848 then
if IsUnitInGroup(d, udg_ItemGroup[19]) == false and GetUnitLifePercent(d) <= 90.00 then
call GroupAddUnit(udg_ItemGroup[19], d)
call TriggerExecute(gg_trg_WhiteShield)
endif
elseif ItemID == 0x4930314E or ItemID == 0x49303152 or ItemID == 0x49303335 or ItemID == 0x70656E72 or ItemID == 0x726C6966 or ItemID == 0x636C7364 then
if IsUnitInGroup(d, udg_ItemGroup[40]) == false then
call GroupAddUnit(udg_ItemGroup[40], d)
call TriggerExecute(gg_trg_Chests)
endif
elseif ItemID == 0x61786173 then
if IsUnitInGroup(d, udg_ItemGroup[57]) == false then
call GroupAddUnit(udg_ItemGroup[57], d)
call TriggerExecute(gg_trg_T5ShieldDmg)
endif
elseif ItemID == 0x627A6265 then
if GetUnitState(a, UNIT_STATE_MANA) >= 10.00 then
call SetUnitState(a, UNIT_STATE_MANA, GetUnitState(a, UNIT_STATE_MANA) - 10)
set n=LoadInteger(udg_hash, GetHandleId(Item), 6) + 10
if n >= 200 then
call SaveInteger(udg_hash, GetHandleId(Item), 6, 0)
set x=GetUnitX(d)
set y=GetUnitY(d)
set n=0
loop
set n=n + 1
set x2=x + 40 * Cos(( I2R(n) * 90 + GetUnitFacing(d) ) * bj_DEGTORAD)
set y2=y + 40 * Sin(( I2R(n) * 90 + GetUnitFacing(d) ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, 80.00)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, d)
call UnitAddAbility(u2, 0x41303441)
call UnitApplyTimedLife(u2, 0x42544C46, 2.00)
call IssuePointOrderById(u2, Order_carrionswarm, x2, y2)
exitwhen n == 4
endloop
else
call SaveInteger(udg_hash, GetHandleId(Item), 6, n)
endif
endif
endif
set L=L + 1
endloop
endif
set a=null
set d=null
set u2=null
set pl=null
set Item=null
endfunction
function InitTrig_ItemAttacksToHero takes nothing returns nothing
set gg_trg_ItemAttacksToHero=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ItemAttacksToHero, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ItemAttacksToHero, Condition(function Trig_ItemAttacksToHero_Conditions))
call TriggerAddAction(gg_trg_ItemAttacksToHero, function Trig_ItemAttacksToHero_Actions)
endfunction
function TitanRevenge_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
local integer HeroStr=GetHeroStr(u, false)
local integer HeroAgi=GetHeroAgi(u, false)
local integer HeroInt=GetHeroInt(u, false)
call SetHeroStr(u, HeroStr - 1, true)
call SetHeroAgi(u, HeroAgi - 1, true)
call SetHeroInt(u, HeroInt - 1, true)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_TitanRevenge_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local item Item
local integer L
local timer t=CreateTimer()
local integer i=GetHandleId(t)
local integer HeroStr=GetHeroStr(u, false)
local integer HeroAgi=GetHeroAgi(u, false)
local integer HeroInt=GetHeroInt(u, false)
if IsUnitType(u, UNIT_TYPE_HERO) == false or IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true or IsUnitEnemy(u2, pl) == false then
set u=null
set u2=null
set pl=null
set t=null
set Item=null
return
endif
set L=0
loop
exitwhen L >= 6
set Item=UnitItemInSlot(u, L)
if GetItemTypeId(Item) == 0x706F6D6E then
call TimerStart(t, 5.0, true, function TitanRevenge_End)
call SaveUnitHandle(udg_hash, i, 1, u)
call SetHeroStr(u, HeroStr + 1, true)
call SetHeroAgi(u, HeroAgi + 1, true)
call SetHeroInt(u, HeroInt + 1, true)
set L=6
endif
set L=L + 1
endloop
set u=null
set u2=null
set pl=null
set t=null
set Item=null
endfunction
function InitTrig_TitanRevenge takes nothing returns nothing
set gg_trg_TitanRevenge=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TitanRevenge, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_TitanRevenge, function Trig_TitanRevenge_Actions)
endfunction
function LavaMove takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl
local real dmg=LoadReal(udg_hash, Id, 1)
local real degrees=LoadReal(udg_hash, Id, 4)
local integer check=LoadInteger(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug
local boolean B=false
local real r
call SetUnitX(u2, PolarX(x , 20 , degrees))
call SetUnitY(u2, PolarY(y , 20 , degrees))
set check=check + 1
set count=count - 1
if check == 2 and count != 0 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 50, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set B=true
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) == true then
set B=true
endif
if B == true then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyGroup(ug)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
set t=null
set u=null
set u2=null
set u3=null
set pl=null
return
endif
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if count == 0 then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
else
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
endif
set t=null
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
endfunction
function Trig_LavaSword_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real degrees
local real x
local real y
local real x2
local real y2
local real dmg
local integer L
local player pl=GetOwningPlayer(u)
local integer int=GetHeroInt(u, true)
local timer t
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set dmg=60 + 0.15 * I2R(int)
set L=- 1
loop
exitwhen L > 1
set x2=x + 400 * Cos(( degrees + I2R(L * 13) ) * bj_DEGTORAD)
set y2=y + 400 * Sin(( degrees + I2R(L * 13) ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303247, x, y, degrees + I2R(L * 13))
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t), 3, 50)
call SaveReal(udg_hash, GetHandleId(t), 4, degrees + I2R(L * 13))
call TimerStart(t, 0.03, true, function LavaMove)
set L=L + 1
endloop
set u=null
set u2=null
set t=null
set pl=null
endfunction
function InitTrig_LavaSword takes nothing returns nothing
set gg_trg_LavaSword=CreateTrigger()
call DisableTrigger(gg_trg_LavaSword)
call TriggerAddAction(gg_trg_LavaSword, function Trig_LavaSword_Actions)
endfunction
function Trig_FlameScepter_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real degrees
local real x
local real y
local real x2
local real y2
local real dmg
local integer L
local player pl=GetOwningPlayer(u)
local integer int=GetHeroInt(u, true)
local timer t
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set dmg=60 + 0.15 * I2R(int)
set L=- 3
loop
exitwhen L > 3
set x2=x + 400 * Cos(( degrees + I2R(L * 14) ) * bj_DEGTORAD)
set y2=y + 400 * Sin(( degrees + I2R(L * 14) ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303247, x, y, degrees + I2R(L * 14))
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t), 3, 50)
call SaveReal(udg_hash, GetHandleId(t), 4, degrees + I2R(L * 14))
call TimerStart(t, 0.03, true, function LavaMove)
set L=L + 1
endloop
set u=null
set u2=null
set t=null
set pl=null
endfunction
function InitTrig_FlameScepter takes nothing returns nothing
set gg_trg_FlameScepter=CreateTrigger()
call DisableTrigger(gg_trg_FlameScepter)
call TriggerAddAction(gg_trg_FlameScepter, function Trig_FlameScepter_Actions)
endfunction
function Trig_ObserverRing_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local integer int=GetHeroInt(u, false)
local integer int2=GetHeroInt(u2, false)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=50.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=44
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", u2, "origin"))
call SetHeroInt(u, int + 5, true)
call SetHeroInt(u2, int2 - 5, true)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_ObserverRing takes nothing returns nothing
set gg_trg_ObserverRing=CreateTrigger()
call DisableTrigger(gg_trg_ObserverRing)
call TriggerAddAction(gg_trg_ObserverRing, function Trig_ObserverRing_Actions)
endfunction
function RangerBow_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local timer t2=CreateTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
local integer i2=GetHandleId(u)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i2, 1)
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) - 30)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveInteger(udg_hash, GetHandleId(t2), 1, 1)
call TimerStart(t2, CD, true, function ItemCooldown_End)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set u=null
set t=null
set t2=null
endfunction
function Trig_RangerBow_Actions takes nothing returns nothing
local unit u=udg_u
local timer t=CreateTimer()
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) + 30)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl", u, "origin"))
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 8.0, true, function RangerBow_EndBuff)
set u=null
set t=null
endfunction
function InitTrig_RangerBow takes nothing returns nothing
set gg_trg_RangerBow=CreateTrigger()
call DisableTrigger(gg_trg_RangerBow)
call TriggerAddAction(gg_trg_RangerBow, function Trig_RangerBow_Actions)
endfunction
function KnightSword_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local timer t2=CreateTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
local integer i2=GetHandleId(u)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i2, 1)
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) - 30)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveInteger(udg_hash, GetHandleId(t2), 1, 51)
call TimerStart(t2, CD, true, function ItemCooldown_End)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set u=null
set t=null
set t2=null
endfunction
function Trig_KnightSword_Actions takes nothing returns nothing
local unit u=udg_u
local timer t=CreateTimer()
call SetUnitAttackSpeed(u , GetUnitAttackSpeed(u) + 30)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl", u, "origin"))
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 8.0, true, function KnightSword_EndBuff)
set u=null
set t=null
endfunction
function InitTrig_KnightSword takes nothing returns nothing
set gg_trg_KnightSword=CreateTrigger()
call DisableTrigger(gg_trg_KnightSword)
call TriggerAddAction(gg_trg_KnightSword, function Trig_KnightSword_Actions)
endfunction
function Trig_ValorCestus_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=225
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=36
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", x, y))
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 300, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set t=null
endfunction
function InitTrig_ValorCestus takes nothing returns nothing
set gg_trg_ValorCestus=CreateTrigger()
call DisableTrigger(gg_trg_ValorCestus)
call TriggerAddAction(gg_trg_ValorCestus, function Trig_ValorCestus_Actions)
endfunction
function Trig_BronzeFist_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=400
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=15.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=45
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_BronzeFist takes nothing returns nothing
set gg_trg_BronzeFist=CreateTrigger()
call DisableTrigger(gg_trg_BronzeFist)
call TriggerAddAction(gg_trg_BronzeFist, function Trig_BronzeFist_Actions)
endfunction
function Trig_PurgeBlade_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=3.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=46
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call UnitRemoveBuffs(u2, true, false)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_PurgeBlade takes nothing returns nothing
set gg_trg_PurgeBlade=CreateTrigger()
call DisableTrigger(gg_trg_PurgeBlade)
call TriggerAddAction(gg_trg_PurgeBlade, function Trig_PurgeBlade_Actions)
endfunction
function Trig_StormAmulet_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=6.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=2
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(dummy), 13, 50.00)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u)
call UnitApplyTimedLife(dummy, 0x42544C46, 3.00)
call UnitAddAbility(dummy, 0x41304559)
call IssueTargetOrderById(dummy, Order_chainlightning, u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_StormAmulet takes nothing returns nothing
set gg_trg_StormAmulet=CreateTrigger()
call DisableTrigger(gg_trg_StormAmulet)
call TriggerAddAction(gg_trg_StormAmulet, function Trig_StormAmulet_Actions)
endfunction
function Trig_Excaliburn_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local integer L=1
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local real angle=AngleXY(x , y , x2 , y2)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=25.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=59
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
loop
exitwhen L > 5
set x2=PolarX(x , 150 , I2R(16 * L) + angle - 48)
set y2=PolarY(y , 150 , I2R(16 * L) + angle - 48)
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, angle)
call SaveReal(udg_hash, GetHandleId(dummy), 13, 175.00)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u)
call UnitApplyTimedLife(dummy, 0x42544C46, 3.00)
call UnitAddAbility(dummy, 0x41305439)
call IssuePointOrderById(dummy, Order_carrionswarm, x2, y2)
set L=L + 1
endloop
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_Excaliburn takes nothing returns nothing
set gg_trg_Excaliburn=CreateTrigger()
call DisableTrigger(gg_trg_Excaliburn)
call TriggerAddAction(gg_trg_Excaliburn, function Trig_Excaliburn_Actions)
endfunction
function Trig_GromSekira_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=4.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=32
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, 0.00)
if IsUnitType(u2, UNIT_TYPE_HERO) == true or GetUnitLevel(u2) >= 8 then
call SaveReal(udg_hash, GetHandleId(dummy), 13, 225.00)
else
call SaveReal(udg_hash, GetHandleId(dummy), 13, 100.00)
endif
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u)
call UnitApplyTimedLife(dummy, 0x42544C46, 4.00)
call UnitAddAbility(dummy, 0x41303352)
call IssueTargetOrderById(dummy, Order_chainlightning, u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_GromSekira takes nothing returns nothing
set gg_trg_GromSekira=CreateTrigger()
call DisableTrigger(gg_trg_GromSekira)
call TriggerAddAction(gg_trg_GromSekira, function Trig_GromSekira_Actions)
endfunction
function Trig_CurseArbalet_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=5.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=3
local integer r=GetRandomInt(1, 4)
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
if r == 1 then
call UnitAddAbility(dummy, 0x41304C50)
call IssueTargetOrderById(dummy, Order_curse, u2)
elseif r == 2 then
call UnitAddAbility(dummy, 0x41304C51)
call IssueTargetOrderById(dummy, Order_slow, u2)
elseif r == 3 then
call UnitAddAbility(dummy, 0x41304C52)
call IssueTargetOrderById(dummy, Order_cripple, u2)
elseif r == 4 then
call UnitAddAbility(dummy, 0x41304C53)
call IssueTargetOrderById(dummy, Order_faeriefire, u2)
endif
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_CurseArbalet takes nothing returns nothing
set gg_trg_CurseArbalet=CreateTrigger()
call DisableTrigger(gg_trg_CurseArbalet)
call TriggerAddAction(gg_trg_CurseArbalet, function Trig_CurseArbalet_Actions)
endfunction
function Trig_KillerDagger_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=2.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=5
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 25.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_KillerDagger takes nothing returns nothing
set gg_trg_KillerDagger=CreateTrigger()
call DisableTrigger(gg_trg_KillerDagger)
call TriggerAddAction(gg_trg_KillerDagger, function Trig_KillerDagger_Actions)
endfunction
function Trig_Gloves_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=4.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=26
local real dmg=I2R(GetHeroAgi(u, true))
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if UnitHasItemOfTypeBJ(u, 0x62726163) == true then
set dmg=dmg * 1.40
elseif UnitHasItemOfTypeBJ(u, 0x73626368) == true then
set dmg=dmg * 1.00
elseif UnitHasItemOfTypeBJ(u, 0x6473756D) == true or UnitHasItemOfTypeBJ(u, 0x4930325A) == true then
set dmg=dmg * 0.60
elseif UnitHasItemOfTypeBJ(u, 0x4930324A) == true or UnitHasItemOfTypeBJ(u, 0x4930324B) == true then
set dmg=dmg * 0.40
endif
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_Gloves takes nothing returns nothing
set gg_trg_Gloves=CreateTrigger()
call DisableTrigger(gg_trg_Gloves)
call TriggerAddAction(gg_trg_Gloves, function Trig_Gloves_Actions)
endfunction
function Trig_BlueSting_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=3.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=30
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 60.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_BlueSting takes nothing returns nothing
set gg_trg_BlueSting=CreateTrigger()
call DisableTrigger(gg_trg_BlueSting)
call TriggerAddAction(gg_trg_BlueSting, function Trig_BlueSting_Actions)
endfunction
function Trig_Velvera_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=3.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=31
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 150.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_Velvera takes nothing returns nothing
set gg_trg_Velvera=CreateTrigger()
call DisableTrigger(gg_trg_Velvera)
call TriggerAddAction(gg_trg_Velvera, function Trig_Velvera_Actions)
endfunction
function Trig_ArtSword_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=2.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=6
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 75.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_ArtSword takes nothing returns nothing
set gg_trg_ArtSword=CreateTrigger()
call DisableTrigger(gg_trg_ArtSword)
call TriggerAddAction(gg_trg_ArtSword, function Trig_ArtSword_Actions)
endfunction
function Trig_BloodGloves_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=2.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=7
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 50.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_BloodGloves takes nothing returns nothing
set gg_trg_BloodGloves=CreateTrigger()
call DisableTrigger(gg_trg_BloodGloves)
call TriggerAddAction(gg_trg_BloodGloves, function Trig_BloodGloves_Actions)
endfunction
function Trig_TitanGlovesDmg_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=I2R(GetHeroStr(u, true)) * 3.00
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=10.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=22
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", x, y))
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 300, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set t=null
endfunction
function InitTrig_TitanGlovesDmg takes nothing returns nothing
set gg_trg_TitanGlovesDmg=CreateTrigger()
call DisableTrigger(gg_trg_TitanGlovesDmg)
call TriggerAddAction(gg_trg_TitanGlovesDmg, function Trig_TitanGlovesDmg_Actions)
endfunction
function Trig_BloodyStick_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=4.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=8
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 50.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_BloodyStick takes nothing returns nothing
set gg_trg_BloodyStick=CreateTrigger()
call DisableTrigger(gg_trg_BloodyStick)
call TriggerAddAction(gg_trg_BloodyStick, function Trig_BloodyStick_Actions)
endfunction
function Trig_RageAxe_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=7.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=9
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "chest"))
call UnitDamageTarget(u, u2, 175.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_RageAxe takes nothing returns nothing
set gg_trg_RageAxe=CreateTrigger()
call DisableTrigger(gg_trg_RageAxe)
call TriggerAddAction(gg_trg_RageAxe, function Trig_RageAxe_Actions)
endfunction
function Trig_SeraphimSpear_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=150 + ( udg_ItemBonusDMG[n] * 0.50 )
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=15.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=10
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 300, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set t=null
endfunction
function InitTrig_SeraphimSpear takes nothing returns nothing
set gg_trg_SeraphimSpear=CreateTrigger()
call DisableTrigger(gg_trg_SeraphimSpear)
call TriggerAddAction(gg_trg_SeraphimSpear, function Trig_SeraphimSpear_Actions)
endfunction
function Trig_Demolitron_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=450
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=16.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=58
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", x, y))
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 350, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set t=null
endfunction
function InitTrig_Demolitron takes nothing returns nothing
set gg_trg_Demolitron=CreateTrigger()
call DisableTrigger(gg_trg_Demolitron)
call TriggerAddAction(gg_trg_Demolitron, function Trig_Demolitron_Actions)
endfunction
function Trig_ArtSpear_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=200 + ( udg_ItemBonusDMG[n] * 0.65 )
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=15.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=48
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real maxlife=GetUnitState(u, UNIT_STATE_MAX_LIFE)
set CD=CD - ( ( 1 - life / maxlife ) * 10 )
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl", x, y))
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 300, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set t=null
endfunction
function InitTrig_ArtSpear takes nothing returns nothing
set gg_trg_ArtSpear=CreateTrigger()
call DisableTrigger(gg_trg_ArtSpear)
call TriggerAddAction(gg_trg_ArtSpear, function Trig_ArtSpear_Actions)
endfunction
function Trig_FarewellDesire_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real dmg=30.00 * ( 1.00 + ( ( 100.00 - GetUnitLifePercent(u) ) * 0.02 ) )
local real CD=1.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=13
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_FarewellDesire takes nothing returns nothing
set gg_trg_FarewellDesire=CreateTrigger()
call DisableTrigger(gg_trg_FarewellDesire)
call TriggerAddAction(gg_trg_FarewellDesire, function Trig_FarewellDesire_Actions)
endfunction
function Trig_BlueBlade_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real dmg=40.00 * ( 1.00 + ( GetUnitLifePercent(u) * 0.02 ) )
local real CD=1.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=52
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_BlueBlade takes nothing returns nothing
set gg_trg_BlueBlade=CreateTrigger()
call DisableTrigger(gg_trg_BlueBlade)
call TriggerAddAction(gg_trg_BlueBlade, function Trig_BlueBlade_Actions)
endfunction
function Trig_Sulfuras_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local group gr=CreateGroup()
local group gr2=CreateGroup()
local real CD=5.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=12
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call GroupEnumUnitsInRange(gr, x, y, 325, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_MAGIC_IMMUNE) == false then
call GroupAddUnit(gr2, u2)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
set gr2=GetRandomSubGroup(4, gr2)
loop
set u2=FirstOfGroup(gr2)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, 175.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", u2, "origin"))
endif
call GroupRemoveUnit(gr2, u2)
endloop
call DestroyGroup(gr2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set gr2=null
set t=null
endfunction
function InitTrig_Sulfuras takes nothing returns nothing
set gg_trg_Sulfuras=CreateTrigger()
call DisableTrigger(gg_trg_Sulfuras)
call TriggerAddAction(gg_trg_Sulfuras, function Trig_Sulfuras_Actions)
endfunction
function Trig_StormAxe_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local group gr=CreateGroup()
local group gr2=CreateGroup()
local real CD=7.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=37
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call GroupEnumUnitsInRange(gr, x, y, 325, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_MAGIC_IMMUNE) == false then
call GroupAddUnit(gr2, u2)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
set gr2=GetRandomSubGroup(9, gr2)
loop
set u2=FirstOfGroup(gr2)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, 150.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u2, "origin"))
endif
call GroupRemoveUnit(gr2, u2)
endloop
call DestroyGroup(gr2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set gr2=null
set t=null
endfunction
function InitTrig_StormAxe takes nothing returns nothing
set gg_trg_StormAxe=CreateTrigger()
call DisableTrigger(gg_trg_StormAxe)
call TriggerAddAction(gg_trg_StormAxe, function Trig_StormAxe_Actions)
endfunction
function Trig_StormBlade_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl=GetOwningPlayer(u)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local group gr=CreateGroup()
local group gr2=CreateGroup()
local real CD=2.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=47
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call GroupEnumUnitsInRange(gr, x, y, 250, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_MAGIC_IMMUNE) == false then
call GroupAddUnit(gr2, u2)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
set gr2=GetRandomSubGroup(1, gr2)
loop
set u2=FirstOfGroup(gr2)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, 150.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u2, "origin"))
endif
call GroupRemoveUnit(gr2, u2)
endloop
call DestroyGroup(gr2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set gr=null
set pl=null
set gr2=null
set t=null
endfunction
function InitTrig_StormBlade takes nothing returns nothing
set gg_trg_StormBlade=CreateTrigger()
call DisableTrigger(gg_trg_StormBlade)
call TriggerAddAction(gg_trg_StormBlade, function Trig_StormBlade_Actions)
endfunction
function Trig_FrostClaws_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local player pl=GetOwningPlayer(u)
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=15
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", x, y))
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
call UnitAddAbility(dummy, 0x41304830)
call IssueTargetOrderById(dummy, Order_frostnova, u2)
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 205, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, 150.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set pl=null
set gr=null
set t=null
endfunction
function InitTrig_FrostClaws takes nothing returns nothing
set gg_trg_FrostClaws=CreateTrigger()
call DisableTrigger(gg_trg_FrostClaws)
call TriggerAddAction(gg_trg_FrostClaws, function Trig_FrostClaws_Actions)
endfunction
function Trig_FrostSword_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real dmg=( 40.00 + GetUnitExtraDamage(u) * 0.15 ) * ( GetUnitState(u2, UNIT_STATE_LIFE) / 500.00 )
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=14
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_FrostSword takes nothing returns nothing
set gg_trg_FrostSword=CreateTrigger()
call DisableTrigger(gg_trg_FrostSword)
call TriggerAddAction(gg_trg_FrostSword, function Trig_FrostSword_Actions)
endfunction
function Trig_ItemDestructor_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local integer L
local integer FreeSlots
local real CD=60.00
local real CDCof=LoadReal(udg_hash, i, 1) * 2
local integer g=11
if CDCof < 0.40 then
set CDCof=0.40
endif
set CD=CD * CDCof
set FreeSlots=0
set L=0
loop
exitwhen L > 5
if UnitItemInSlot(u2, L) == null then
set FreeSlots=FreeSlots + 1
endif
set L=L + 1
endloop
if FreeSlots == 6 then
call GroupRemoveUnit(udg_ItemGroup[g], u)
call DestroyTimer(t)
set u=null
set u2=null
set t=null
return
endif
set L=GetRandomInt(0, 5)
loop
exitwhen UnitItemInSlot(u2, L) != null
if L >= 5 then
set L=0
else
set L=L + 1
endif
endloop
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", u2, "chest"))
call RemoveItem(UnitItemInSlot(u2, L))
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_ItemDestructor takes nothing returns nothing
set gg_trg_ItemDestructor=CreateTrigger()
call DisableTrigger(gg_trg_ItemDestructor)
call TriggerAddAction(gg_trg_ItemDestructor, function Trig_ItemDestructor_Actions)
endfunction
function Trig_AbyssComplect1_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=4.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=34
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\warpimpact.mdx", u2, "chest"))
call UnitDamageTarget(u, u2, 75.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_AbyssComplect1 takes nothing returns nothing
set gg_trg_AbyssComplect1=CreateTrigger()
call DisableTrigger(gg_trg_AbyssComplect1)
call TriggerAddAction(gg_trg_AbyssComplect1, function Trig_AbyssComplect1_Actions)
endfunction
function Trig_AbyssComplect2_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=1.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=35
local integer HeroStr=GetHeroStr(u2, false)
local integer HeroAgi=GetHeroAgi(u2, false)
local integer HeroInt=GetHeroInt(u2, false)
local integer random=GetRandomInt(1, 3)
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if random == 1 then
if HeroStr < 2 then
call SetHeroStr(u2, 1, true)
else
call SetHeroStr(u2, HeroStr - 1, true)
endif
elseif random == 2 then
if HeroAgi < 2 then
call SetHeroAgi(u2, 1, true)
else
call SetHeroAgi(u2, HeroAgi - 1, true)
endif
elseif random == 3 then
if HeroInt < 2 then
call SetHeroInt(u2, 1, true)
else
call SetHeroInt(u2, HeroInt - 1, true)
endif
endif
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_AbyssComplect2 takes nothing returns nothing
set gg_trg_AbyssComplect2=CreateTrigger()
call DisableTrigger(gg_trg_AbyssComplect2)
call TriggerAddAction(gg_trg_AbyssComplect2, function Trig_AbyssComplect2_Actions)
endfunction
function Trig_FrostArmor_Actions takes nothing returns nothing
local unit u=udg_u2
local unit u2=udg_u
local player pl=GetOwningPlayer(u)
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local group gr
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=16
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", x, y))
set dummy=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
call UnitAddAbility(dummy, 0x41304830)
call IssueTargetOrderById(dummy, Order_frostnova, u2)
set gr=CreateGroup()
call GroupEnumUnitsInRange(gr, x, y, 205, null)
loop
set u2=FirstOfGroup(gr)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, 150.00, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(gr, u2)
endloop
call DestroyGroup(gr)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set pl=null
set gr=null
set t=null
endfunction
function InitTrig_FrostArmor takes nothing returns nothing
set gg_trg_FrostArmor=CreateTrigger()
call DisableTrigger(gg_trg_FrostArmor)
call TriggerAddAction(gg_trg_FrostArmor, function Trig_FrostArmor_Actions)
endfunction
function Trig_StormBoots_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=8.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=17
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u2), 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(dummy), 13, 150.00)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
call UnitAddAbility(dummy, 0x41304C59)
call IssueTargetOrderById(dummy, Order_forkedlightning, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_StormBoots takes nothing returns nothing
set gg_trg_StormBoots=CreateTrigger()
call DisableTrigger(gg_trg_StormBoots)
call TriggerAddAction(gg_trg_StormBoots, function Trig_StormBoots_Actions)
endfunction
function Trig_StormShield_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=12.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=38
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u2), 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(dummy), 13, 250.00)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
call UnitAddAbility(dummy, 0x41304C59)
call SetUnitAbilityLevel(dummy, 0x41304C59, 2)
call IssueTargetOrderById(dummy, Order_forkedlightning, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_StormShield takes nothing returns nothing
set gg_trg_StormShield=CreateTrigger()
call DisableTrigger(gg_trg_StormShield)
call TriggerAddAction(gg_trg_StormShield, function Trig_StormShield_Actions)
endfunction
function Trig_DepthShield_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=11.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=49
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u2), 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(dummy), 13, 135.00)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.50)
call UnitAddAbility(dummy, 0x41305439)
call IssueTargetOrderById(dummy, Order_carrionswarm, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_DepthShield takes nothing returns nothing
set gg_trg_DepthShield=CreateTrigger()
call DisableTrigger(gg_trg_DepthShield)
call TriggerAddAction(gg_trg_DepthShield, function Trig_DepthShield_Actions)
endfunction
function Trig_SaveAmulet_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real life=GetUnitState(u2, UNIT_STATE_LIFE)
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=3.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=18
local real dmg=50
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if IsUnitInGroup(u2, udg_ComplectHellGroup[1]) == true then
set dmg=dmg * 1.25
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl", u, "origin"))
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SetUnitState(u2, UNIT_STATE_LIFE, life + 25.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_SaveAmulet takes nothing returns nothing
set gg_trg_SaveAmulet=CreateTrigger()
call DisableTrigger(gg_trg_SaveAmulet)
call TriggerAddAction(gg_trg_SaveAmulet, function Trig_SaveAmulet_Actions)
endfunction
function Trig_SunStone_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=25.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=43
local real dmg=600
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if IsUnitInGroup(u2, udg_ComplectHellGroup[1]) == true then
set dmg=dmg * 1.25
endif
if IsUnitType(u2, UNIT_TYPE_UNDEAD) == true then
set dmg=dmg * 1.50
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BuildingDmgBlast016.mdx", u, "origin"))
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_SunStone takes nothing returns nothing
set gg_trg_SunStone=CreateTrigger()
call DisableTrigger(gg_trg_SunStone)
call TriggerAddAction(gg_trg_SunStone, function Trig_SunStone_Actions)
endfunction
function Trig_Chests_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real dmg
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=3.50
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=40
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if UnitHasItemOfTypeBJ(u2, 0x636C7364) == true then
set dmg=75.00
elseif UnitHasItemOfTypeBJ(u2, 0x726C6966) == true then
set dmg=55.00
elseif UnitHasItemOfTypeBJ(u2, 0x70656E72) == true or UnitHasItemOfTypeBJ(u2, 0x49303335) == true then
set dmg=35.00
elseif UnitHasItemOfTypeBJ(u2, 0x4930314E) == true or UnitHasItemOfTypeBJ(u2, 0x49303152) == true then
set dmg=25.00
endif
if IsUnitInGroup(u2, udg_ComplectHellGroup[1]) == true then
set dmg=dmg * 1.25
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", u, "origin"))
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_Chests takes nothing returns nothing
set gg_trg_Chests=CreateTrigger()
call DisableTrigger(gg_trg_Chests)
call TriggerAddAction(gg_trg_Chests, function Trig_Chests_Actions)
endfunction
function Trig_T5ShieldDmg_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local real dmg=I2R(GetHeroAgi(u2, true)) * 2.25
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=4.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=57
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if IsUnitInGroup(u2, udg_ComplectHellGroup[1]) == true then
set dmg=dmg * 1.25
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", u, "origin"))
call UnitDamageTarget(u2, u, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set t=null
endfunction
function InitTrig_T5ShieldDmg takes nothing returns nothing
set gg_trg_T5ShieldDmg=CreateTrigger()
call DisableTrigger(gg_trg_T5ShieldDmg)
call TriggerAddAction(gg_trg_T5ShieldDmg, function Trig_T5ShieldDmg_Actions)
endfunction
function Trig_WhiteShield_Actions takes nothing returns nothing
local unit u=udg_u
local unit u2=udg_u2
local unit dummy
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t=CreateTimer()
local integer i=GetHandleId(u2)
local real CD=9.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=19
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
set dummy=CreateUnit(GetOwningPlayer(u2), 0x6F303130, x, y, 0.00)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
call UnitAddAbility(dummy, 0x41304F56)
call IssueTargetOrderById(dummy, Order_healingwave, u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u2=null
set dummy=null
set t=null
endfunction
function InitTrig_WhiteShield takes nothing returns nothing
set gg_trg_WhiteShield=CreateTrigger()
call DisableTrigger(gg_trg_WhiteShield)
call TriggerAddAction(gg_trg_WhiteShield, function Trig_WhiteShield_Actions)
endfunction
function Trig_SpearAttacks_Actions takes nothing returns nothing
local unit u=GetAttacker()
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=1.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=21
if UnitHasItemOfTypeBJ(u, 0x49303339) == true or UnitHasItemOfTypeBJ(u, 0x49303341) == true or UnitHasItemOfTypeBJ(u, 0x49303342) == true or UnitHasItemOfTypeBJ(u, 0x49303343) == true or UnitHasItemOfTypeBJ(u, 0x49303344) == true or UnitHasItemOfTypeBJ(u, 0x49303345) == true or UnitHasItemOfTypeBJ(u, 0x49303747) == true then
else
set u=null
set t=null
return
endif
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if UnitHasItemOfTypeBJ(u, 0x49303339) == true or UnitHasItemOfTypeBJ(u, 0x49303341) == true then
call SetUnitState(u, UNIT_STATE_MANA, mana + 4.00)
elseif UnitHasItemOfTypeBJ(u, 0x49303747) == true then
call SetUnitState(u, UNIT_STATE_MANA, mana + 6.00)
elseif UnitHasItemOfTypeBJ(u, 0x49303342) == true then
call SetUnitState(u, UNIT_STATE_MANA, mana + 4.00)
call SetUnitState(u, UNIT_STATE_LIFE, life + 8.00)
elseif UnitHasItemOfTypeBJ(u, 0x49303343) == true or UnitHasItemOfTypeBJ(u, 0x49303344) == true then
call SetUnitState(u, UNIT_STATE_MANA, mana + 8.00)
elseif UnitHasItemOfTypeBJ(u, 0x49303345) == true then
call SetUnitState(u, UNIT_STATE_MANA, mana + 8.00)
call SetUnitState(u, UNIT_STATE_LIFE, life + 16.00)
endif
call GroupAddUnit(udg_ItemGroup[g], u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set t=null
endfunction
function InitTrig_SpearAttacks takes nothing returns nothing
set gg_trg_SpearAttacks=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SpearAttacks, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_SpearAttacks, function Trig_SpearAttacks_Actions)
endfunction
function Trig_Every1secSkills_Actions takes nothing returns nothing
local integer L=1
loop
exitwhen L > 8
if udg_Hero[L] != null then
if UnitHasItemOfTypeBJ(udg_Hero[L], 0x72616D32) == true then
call SetUnitState(udg_Hero[L], UNIT_STATE_LIFE, GetUnitState(udg_Hero[L], UNIT_STATE_LIFE) + GetUnitState(udg_Hero[L], UNIT_STATE_MAX_LIFE) * 0.01)
call SetUnitState(udg_Hero[L], UNIT_STATE_MANA, GetUnitState(udg_Hero[L], UNIT_STATE_MANA) + GetUnitState(udg_Hero[L], UNIT_STATE_MAX_MANA) * 0.01)
endif
if UnitHasItemOfTypeBJ(udg_Hero[L], 0x49303038) == true then
if GetUnitLifePercent(udg_Hero[L]) < GetUnitManaPercent(udg_Hero[L]) then
call SetUnitState(udg_Hero[L], UNIT_STATE_LIFE, GetUnitState(udg_Hero[L], UNIT_STATE_LIFE) + GetUnitState(udg_Hero[L], UNIT_STATE_MAX_LIFE) * 0.01)
else
call SetUnitState(udg_Hero[L], UNIT_STATE_MANA, GetUnitState(udg_Hero[L], UNIT_STATE_MANA) + GetUnitState(udg_Hero[L], UNIT_STATE_MAX_MANA) * 0.01)
endif
endif
if UnitHasItemOfTypeBJ(udg_Hero[L], 0x73686173) == true and GetUnitStatePercent(udg_Hero[L], UNIT_STATE_LIFE, UNIT_STATE_MAX_LIFE) >= 75.00 then
call SetUnitState(udg_Hero[L], UNIT_STATE_MANA, GetUnitState(udg_Hero[L], UNIT_STATE_MANA) + 5.00)
endif
if LoadInteger(udg_hash, GetHandleId(udg_Hero[L]), 6) >= 5 and GetUnitStatePercent(udg_Hero[L], UNIT_STATE_LIFE, UNIT_STATE_MAX_LIFE) <= 60.00 then
call SetUnitState(udg_Hero[L], UNIT_STATE_LIFE, GetUnitState(udg_Hero[L], UNIT_STATE_LIFE) + 15.00)
call SetUnitState(udg_Hero[L], UNIT_STATE_MANA, GetUnitState(udg_Hero[L], UNIT_STATE_MANA) + 3.00)
endif
endif
set L=L + 1
endloop
endfunction
function InitTrig_Every1secSkills takes nothing returns nothing
set gg_trg_Every1secSkills=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Every1secSkills, udg_IncomeTimer)
call TriggerAddAction(gg_trg_Every1secSkills, function Trig_Every1secSkills_Actions)
endfunction
function Trig_Every5secSkills_Func001Func001Func001C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(GetEnumUnit()), udg_AI) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func001Func001C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(GetEnumUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func001A takes nothing returns nothing
if ( Trig_Every5secSkills_Func001Func001C() ) then
if ( Trig_Every5secSkills_Func001Func001Func001C() ) then
call GroupRemoveUnit(udg_ItemGroup[23], GetEnumUnit())
else
endif
else
set udg_r=( 30.00 * ( 1.00 + ( ( 100.00 - GetUnitLifePercent(GetEnumUnit()) ) * 0.01 ) ) )
call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + udg_r ))
set udg_r2=( 12.00 * ( 1.00 + ( ( 100.00 - GetUnitManaPercent(GetEnumUnit()) ) * 0.01 ) ) )
call SetUnitManaBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) + udg_r2 ))
endif
endfunction
function Trig_Every5secSkills_Func002Func001Func001C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(GetEnumUnit()), udg_AI) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func002Func001Func003C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func002Func001C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(GetEnumUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func002A takes nothing returns nothing
if ( Trig_Every5secSkills_Func002Func001C() ) then
if ( Trig_Every5secSkills_Func002Func001Func001C() ) then
call GroupRemoveUnit(udg_ItemGroup[55], GetEnumUnit())
else
endif
else
set udg_n=GetRandomInt(1, 2)
if ( Trig_Every5secSkills_Func002Func001Func003C() ) then
call SetUnitLifePercentBJ(GetEnumUnit(), ( GetUnitLifePercent(GetEnumUnit()) + 2.00 ))
else
call SetUnitManaPercentBJ(GetEnumUnit(), ( GetUnitManaPercent(GetEnumUnit()) + 2.00 ))
endif
endif
endfunction
function Trig_Every5secSkills_Func003Func001Func001C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(GetEnumUnit()), udg_AI) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func003Func001C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(GetEnumUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func003A takes nothing returns nothing
if ( Trig_Every5secSkills_Func003Func001C() ) then
if ( Trig_Every5secSkills_Func003Func001Func001C() ) then
call GroupRemoveUnit(udg_ItemGroup[29], GetEnumUnit())
else
endif
else
set udg_r=( 0.02 * ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) ) )
call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + udg_r ))
endif
endfunction
function Trig_Every5secSkills_Func004Func001Func001C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(GetEnumUnit()), udg_AI) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func004Func001C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(GetEnumUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_Every5secSkills_Func004A takes nothing returns nothing
if ( Trig_Every5secSkills_Func004Func001C() ) then
if ( Trig_Every5secSkills_Func004Func001Func001C() ) then
call GroupRemoveUnit(udg_ItemGroup[39], GetEnumUnit())
else
endif
else
set udg_r=( I2R(GetHeroStr(GetEnumUnit(), true)) * 0.60 )
call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + udg_r ))
endif
endfunction
function Trig_Every5secSkills_Actions takes nothing returns nothing
call ForGroupBJ(udg_ItemGroup[23], function Trig_Every5secSkills_Func001A)
call ForGroupBJ(udg_ItemGroup[55], function Trig_Every5secSkills_Func002A)
call ForGroupBJ(udg_ItemGroup[29], function Trig_Every5secSkills_Func003A)
call ForGroupBJ(udg_ItemGroup[39], function Trig_Every5secSkills_Func004A)
endfunction
function InitTrig_Every5secSkills takes nothing returns nothing
set gg_trg_Every5secSkills=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_Every5secSkills, udg_Every5secTimer)
call TriggerAddAction(gg_trg_Every5secSkills, function Trig_Every5secSkills_Actions)
endfunction
function ManaAmulet takes nothing returns nothing
local unit u=GetEnumUnit()
if IsDead(u) != true then
if UnitHasItemOfTypeBJ(u, 0x63636D64) == true then
call SetHeroStr(u, GetHeroStr(u, false) + 3, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + 3, true)
call SetHeroInt(u, GetHeroInt(u, false) + 3, true)
call SaveReal(udg_hash, GetHandleId(u), 2, LoadReal(udg_hash, GetHandleId(u), 2) + 1.00)
endif
endif
set u=null
endfunction
function GreenRose takes nothing returns nothing
local unit u=GetEnumUnit()
if IsDead(u) != true then
if UnitHasItemOfTypeBJ(u, 0x72616D34) == true then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", u, "origin"))
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
endif
endif
set u=null
endfunction
function VulkanRing takes nothing returns nothing
local unit u=GetEnumUnit()
local unit u3
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real dmg=750
local integer L
local player pl=GetOwningPlayer(u)
local group ug
if IsDead(u) != true then
set L=1
loop
exitwhen L > 15
set x2=PolarX(x , 520 , I2R(24 * L))
set y2=PolarY(y , 520 , I2R(24 * L))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x2, y2))
call RemoveLocation(udg_p2)
set L=L + 1
endloop
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 530, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function IntBottle takes nothing returns nothing
local unit u=GetEnumUnit()
if IsDead(u) != true then
call SetHeroInt(u, GetHeroInt(u, false) + 2, true)
else
if IsPlayerInForce(GetOwningPlayer(u), udg_AI) == true then
call GroupRemoveUnit(udg_ItemGroup[28], u)
endif
endif
set u=null
endfunction
function CrystalCave takes nothing returns nothing
local unit u=GetEnumUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real angle
local integer n
set angle=GetRandomReal(0, 360)
set x2=PolarX(x , 150 , angle)
set y2=PolarY(y , 150 , angle)
set n=GetRandomInt(1, 10)
call CreateItem(Crystals[n], x2, y2)
set angle=GetRandomReal(0, 360)
set x2=PolarX(x , 150 , angle)
set y2=PolarY(y , 150 , angle)
set n=GetRandomInt(1, 10)
call CreateItem(Crystals[n], x2, y2)
set angle=GetRandomReal(0, 360)
set x2=PolarX(x , 150 , angle)
set y2=PolarY(y , 150 , angle)
set n=GetRandomInt(1, 10)
call CreateItem(Crystals[n], x2, y2)
set n=GetRandomInt(1, 2)
if n == 2 then
set angle=GetRandomReal(0, 360)
set x2=PolarX(x , 150 , angle)
set y2=PolarY(y , 150 , angle)
set n=GetRandomInt(1, 10)
call CreateItem(Crystals[n], x2, y2)
endif
set udg_n=GetRandomInt(1, 5)
if n == 3 then
set angle=GetRandomReal(0, 360)
set x2=PolarX(x , 150 , angle)
set y2=PolarY(y , 150 , angle)
call CreateItem(0x72737073, x2, y2)
endif
set u=null
endfunction
function Trig_Every60secSkills_Actions takes nothing returns nothing
call ForGroup(udg_AllHeroes, function ManaAmulet)
call ForGroup(udg_AllHeroes, function GreenRose)
call ForGroup(udg_ItemGroup[24], function VulkanRing)
call ForGroup(udg_ItemGroup[28], function IntBottle)
call ForGroup(udg_CrystalCavesGroup, function CrystalCave)
endfunction
function InitTrig_Every60secSkills takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t, udg_Every60sec)
call TriggerAddAction(t, function Trig_Every60secSkills_Actions)
set t=null
endfunction
function Trig_UseSkills_Conditions takes nothing returns boolean
if IsUnitType(GetSpellAbilityUnit(), UNIT_TYPE_HERO) == true and GetSpellAbilityId() != 0x41303356 and GetSpellAbilityId() != 0x41304251 and GetSpellAbilityId() != 0x41304F58 and GetSpellAbilityId() != 0x41304A59 then
return true
endif
return false
endfunction
function Antinomia takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.05)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Manacatalizator takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - count)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Bolter takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=200 + udg_ItemBonusDMG[n] * 0.75
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Trig_UseSkills_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Spell_Id=GetSpellAbilityId()
local integer Id=GetHandleId(u)
local group ug
local group ug2
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local real dmg
local real heal=0
local real manaheal=0
local real r
local real x
local real y
local real x2
local real y2
local location p
local integer L
local item Item
local integer count
local integer n2
local timer t
if UnitHasItemOfTypeBJ(u, 0x736D616E) == true or UnitHasItemOfTypeBJ(u, 0x49304150) == true then
call UnitRemoveBuffs(u, false, true)
endif
if UnitHasItemOfTypeBJ(u, 0x49303657) == true then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 20)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, 20)
call TimerStart(t, 3.0, false, function Manacatalizator)
endif
if UnitHasItemOfTypeBJ(u, 0x72616D33) == true then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + 40)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, 40)
call TimerStart(t, 3.5, false, function Manacatalizator)
endif
if UnitHasItemOfTypeBJ(u, 0x67736F75) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=( GetHeroStr(u, true) + GetHeroAgi(u, true) + GetHeroInt(u, true) ) * 0.5
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 700, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(3, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", u3, "origin"))
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
endif
if UnitHasItemOfTypeBJ(u, 0x73686377) == true then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=( GetHeroStr(u, true) + GetHeroAgi(u, true) + GetHeroInt(u, true) ) * 0.50
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 750, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(7, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\RedDead.mdx", u3, "origin"))
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
call SaveReal(udg_hash, Id, 4, LoadReal(udg_hash, Id, 4) + 0.05)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 20, false, function Antinomia)
endif
if LoadInteger(udg_hash, GetHandleId(u), 9) >= 6 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=250
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 1500, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(3, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u3, "origin"))
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
endif
if Spell_Id == 0x41305333 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set dmg=100 + ( udg_ItemBonusDMG[n] * 0.5 )
set r=0
call DestroyEffect(AddSpecialEffect("war3mapImported\\Divine Edict.mdx", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 285, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set r=r + 18
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call SetUnitState(u, UNIT_STATE_LIFE, life + r)
call SetUnitState(u, UNIT_STATE_MANA, mana + r / 2)
elseif Spell_Id == 0x41304C4F then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
set L=GetRandomInt(1, 4)
if L == 1 then
call UnitAddAbility(u2, 0x41304C50)
call IssueTargetOrderById(u2, Order_curse, u3)
elseif L == 2 then
call UnitAddAbility(u2, 0x41304C51)
call IssueTargetOrderById(u2, Order_slow, u3)
elseif L == 3 then
call UnitAddAbility(u2, 0x41304C52)
call IssueTargetOrderById(u2, Order_cripple, u3)
elseif L == 4 then
call UnitAddAbility(u2, 0x41304C53)
call IssueTargetOrderById(u2, Order_faeriefire, u3)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Spell_Id == 0x41305148 then
set u2=GetSpellTargetUnit()
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false and u3 != u2 then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(3, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call UnitAddAbility(u2, 0x41305149)
call IssueTargetOrder(u2, "banish", u3)
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
elseif Spell_Id == 0x41303644 then
set u2=GetSpellTargetUnit()
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 225, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call UnitAddAbility(u2, 0x41305149)
call IssueTargetOrder(u2, "banish", u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Spell_Id == 0x41305147 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 150 + GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.05)
elseif Spell_Id == 0x4130424F then
set u2=GetSpellTargetUnit()
set t=CreateTimer()
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
call TimerStart(t, x / 1800, false, function Bolter)
elseif Spell_Id == 0x41304D59 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set u2=CreateUnit(pl, 0x6E303030, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Spell_Id == 0x41304D58 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set u2=CreateUnit(pl, 0x6E303032, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Spell_Id == 0x41305132 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set u2=CreateUnit(pl, 0x6E303031, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Spell_Id == 0x41305133 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set u2=CreateUnit(pl, 0x6E303033, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Spell_Id == 0x41305134 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call RemoveLocation(p)
set u2=CreateUnit(pl, 0x6E303155, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
endif
if ( UnitHasItemOfTypeBJ(u, 0x49303154) == true or UnitHasItemOfTypeBJ(u, 0x49303155) == true or UnitHasItemOfTypeBJ(u, 0x49303336) == true or UnitHasItemOfTypeBJ(u, 0x6863756E) == true or UnitHasItemOfTypeBJ(u, 0x636C666D) == true or UnitHasItemOfTypeBJ(u, 0x6F646566) == true ) and IsUnitInGroup(u, udg_ItemGroup[41]) == false then
set udg_u=u
call TriggerExecute(gg_trg_Pants)
endif
if UnitHasItemOfTypeBJ(u, 0x49303856) == true and IsUnitInGroup(u, udg_ItemGroup[25]) == false then
set udg_u=u
call TriggerExecute(gg_trg_ConstructSphere)
endif
if UnitHasItemOfTypeBJ(u, 0x6F736C6F) == true and IsUnitInGroup(u, udg_ItemGroup[60]) == false then
set udg_u=u
call TriggerExecute(gg_trg_ForestCrown)
endif
if UnitHasItemOfTypeBJ(u, 0x49303658) == true then
set udg_u=u
call TriggerExecute(gg_trg_BlueStaff)
endif
if UnitHasItemOfTypeBJ(u, 0x6F66726F) == true then
set udg_u=u
call TriggerExecute(gg_trg_BlueSphere)
endif
if UnitHasItemOfTypeBJ(u, 0x68736C76) == true then
call GroupAddUnit(udg_ItemGroup[42], u)
endif
if UnitHasItemOfTypeBJ(u, 0x64657363) == true then
call GroupAddUnit(udg_ItemGroup[42], u)
endif
set L=0
loop
exitwhen L >= 5
set Item=UnitItemInSlot(u, L)
if GetItemTypeId(Item) == 0x6667756E then
set heal=heal + ( GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.03 )
elseif GetItemTypeId(Item) == 0x49303834 then
set heal=heal + 50
elseif GetItemTypeId(Item) == 0x73636C70 then
set heal=heal - 35
set manaheal=manaheal + 5
elseif GetItemTypeId(Item) == 0x49303446 then
set manaheal=manaheal + 20
elseif GetItemTypeId(Item) == 0x49303947 then
set heal=heal + 7
set manaheal=manaheal + 7
elseif GetItemTypeId(Item) == 0x6F66726F then
set heal=heal + 20
set manaheal=manaheal + 30
endif
set L=L + 1
endloop
if LoadInteger(udg_hash, GetHandleId(u), 9) >= 2 then
set manaheal=manaheal + 25
endif
if LoadInteger(udg_hash, GetHandleId(u), 8) >= 5 then
set heal=heal + 100
endif
if heal > 0 then
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
elseif heal < 0 then
call SetUnitState(u, UNIT_STATE_LIFE, life - heal)
endif
if manaheal > 0 then
call SetUnitState(u, UNIT_STATE_MANA, mana + manaheal)
endif
set u=null
set u2=null
set u3=null
set ug=null
set ug2=null
set pl=null
set p=null
set Item=null
set t=null
endfunction
function InitTrig_UseSkills takes nothing returns nothing
set gg_trg_UseSkills=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_UseSkills, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_UseSkills, Condition(function Trig_UseSkills_Conditions))
call TriggerAddAction(gg_trg_UseSkills, function Trig_UseSkills_Actions)
endfunction
function Trig_BlueStaff_Actions takes nothing returns nothing
local integer n
local unit u=udg_u
local player pl=GetOwningPlayer(u)
local unit u3
local real dmg
local group ug
local real x=GetUnitX(u)
local real y=GetUnitY(u)
set n=GetRandomInt(1, 4)
if n == 1 then
if IsUnitEnemy(u, Player(0)) == true then
set dmg=225
else
set n=GetPlayerId(pl) + 1
set dmg=200 + udg_ItemBonusDMG[n] * 0.50
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set pl=null
set u3=null
set ug=null
endfunction
function InitTrig_BlueStaff takes nothing returns nothing
set gg_trg_BlueStaff=CreateTrigger()
call DisableTrigger(gg_trg_BlueStaff)
call TriggerAddAction(gg_trg_BlueStaff, function Trig_BlueStaff_Actions)
endfunction
function Trig_BlueSphere_Actions takes nothing returns nothing
local integer n
local unit u=udg_u
local player pl=GetOwningPlayer(u)
local unit u3
local real dmg
local group ug
local real x=GetUnitX(u)
local real y=GetUnitY(u)
set n=GetRandomInt(1, 4)
if n == 1 then
set n=GetPlayerId(pl) + 1
set dmg=200 + udg_ItemBonusDMG[n] * 0.75
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set pl=null
set u3=null
set ug=null
endfunction
function InitTrig_BlueSphere takes nothing returns nothing
set gg_trg_BlueSphere=CreateTrigger()
call DisableTrigger(gg_trg_BlueSphere)
call TriggerAddAction(gg_trg_BlueSphere, function Trig_BlueSphere_Actions)
endfunction
function ConstructSphere_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local timer t2=CreateTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
local integer i2=GetHandleId(u)
local real CD=10.00
local real CDCof=LoadReal(udg_hash, i2, 1)
local integer g=25
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call UnitRemoveAbility(u, 0x4130504E)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveInteger(udg_hash, GetHandleId(t2), 1, g)
call TimerStart(t2, CD, true, function ItemCooldown_End)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set u=null
set t=null
set t2=null
endfunction
function Trig_ConstructSphere_Actions takes nothing returns nothing
local unit u=udg_u
local timer t=CreateTimer()
call UnitAddAbility(u, 0x4130504E)
call GroupAddUnit(udg_ItemGroup[25], u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 4.30, true, function ConstructSphere_EndBuff)
set u=null
set t=null
endfunction
function InitTrig_ConstructSphere takes nothing returns nothing
set gg_trg_ConstructSphere=CreateTrigger()
call DisableTrigger(gg_trg_ConstructSphere)
call TriggerAddAction(gg_trg_ConstructSphere, function Trig_ConstructSphere_Actions)
endfunction
function Trig_ForestCrown_Actions takes nothing returns nothing
local unit u=udg_u
local unit u3
local unit dummy
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local group ug=CreateGroup()
local group ug2=CreateGroup()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=15.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=60
local real dmg=50 + udg_ItemBonusDMG[n] * 0.10
local real r
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
call GroupEnumUnitsInRange(ug, x, y, 700, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(4, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", u3, "origin"))
set x2=GetUnitX(u3)
set y2=GetUnitY(u3)
set dummy=CreateUnit(pl, 0x6F303130, x2, y2, 0.00)
call SaveReal(udg_hash, GetHandleId(dummy), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(dummy), 13, u)
call UnitAddAbility(dummy, 0x41304D33)
call SetUnitAbilityLevel(dummy, 0x41304D33, 2)
call IssueTargetOrderById(dummy, Order_entanglingroots, u3)
call UnitApplyTimedLife(dummy, 0x42544C46, 8.50)
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
call GroupAddUnit(udg_ItemGroup[g], u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set u3=null
set dummy=null
set ug=null
set ug2=null
set pl=null
set t=null
endfunction
function InitTrig_ForestCrown takes nothing returns nothing
set gg_trg_ForestCrown=CreateTrigger()
call DisableTrigger(gg_trg_ForestCrown)
call TriggerAddAction(gg_trg_ForestCrown, function Trig_ForestCrown_Actions)
endfunction
function Trig_Pants_Actions takes nothing returns nothing
local unit u=udg_u
local timer t=CreateTimer()
local integer i=GetHandleId(u)
local real CD=10.00
local real CDCof=LoadReal(udg_hash, i, 1)
local integer g=41
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local real r
if CDCof < 0.20 then
set CDCof=0.20
endif
set CD=CD * CDCof
if UnitHasItemOfTypeBJ(u, 0x6F646566) == true then
set r=42
elseif UnitHasItemOfTypeBJ(u, 0x636C666D) == true then
set r=34
elseif UnitHasItemOfTypeBJ(u, 0x6863756E) == true or UnitHasItemOfTypeBJ(u, 0x49303336) == true then
set r=26
elseif UnitHasItemOfTypeBJ(u, 0x49303154) == true or UnitHasItemOfTypeBJ(u, 0x49303155) == true then
set r=18
endif
call SetUnitState(u, UNIT_STATE_MANA, mana + r)
call GroupAddUnit(udg_ItemGroup[g], u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, g)
call TimerStart(t, CD, true, function ItemCooldown_End)
set u=null
set t=null
endfunction
function InitTrig_Pants takes nothing returns nothing
set gg_trg_Pants=CreateTrigger()
call DisableTrigger(gg_trg_Pants)
call TriggerAddAction(gg_trg_Pants, function Trig_Pants_Actions)
endfunction
function Trig_NewYearGift_Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem()) == 0x4930384D or GetItemTypeId(GetManipulatedItem()) == 0x49303958 or GetItemTypeId(GetManipulatedItem()) == 0x49303034
endfunction
function Trig_NewYearGift_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item Item=GetManipulatedItem()
local integer n
if GetItemTypeId(Item) == 0x4930384D then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set n=GetRandomInt(1, 9)
set Item=CreateItem(udg_BonusItems[n], x, y)
call UnitAddItem(u, Item)
elseif GetItemTypeId(Item) == 0x49303958 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set n=GetRandomInt(13, 21)
set Item=CreateItem(udg_BonusItems[n], x, y)
call UnitAddItem(u, Item)
elseif GetItemTypeId(Item) == 0x49303034 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set n=GetRandomInt(25, 33)
set Item=CreateItem(udg_BonusItems[n], x, y)
call UnitAddItem(u, Item)
endif
set u=null
set Item=null
endfunction
function InitTrig_NewYearGift takes nothing returns nothing
set gg_trg_NewYearGift=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NewYearGift, EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_NewYearGift, Condition(function Trig_NewYearGift_Conditions))
call TriggerAddAction(gg_trg_NewYearGift, function Trig_NewYearGift_Actions)
endfunction
function Trig_NewYearGift2_Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem()) == 0x49303955 or GetItemTypeId(GetManipulatedItem()) == 0x49303959 or GetItemTypeId(GetManipulatedItem()) == 0x49303036 or GetItemTypeId(GetManipulatedItem()) == 0x49304148
endfunction
function Trig_NewYearGift2_Actions takes nothing returns nothing
local unit hero=GetManipulatingUnit()
local unit u
local player pl=GetOwningPlayer(hero)
local real x=GetUnitX(hero)
local real y=GetUnitY(hero)
local item Item=GetManipulatedItem()
local integer n
if GetItemTypeId(Item) == 0x49303955 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set u=CreateUnit(pl, 0x6F30314B, x, y, 0)
set n=GetRandomInt(1, 4)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(5, 8)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(9, 12)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
call SelectUnitForPlayerSingle(u, pl)
call SaveUnitHandle(udg_hash, GetHandleId(u), 1, hero)
elseif GetItemTypeId(Item) == 0x49303959 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set u=CreateUnit(pl, 0x6F30314B, x, y, 0)
set n=GetRandomInt(13, 15)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(16, 18)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(19, 21)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
call SelectUnitForPlayerSingle(u, pl)
call SaveUnitHandle(udg_hash, GetHandleId(u), 1, hero)
elseif GetItemTypeId(Item) == 0x49303036 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set u=CreateUnit(pl, 0x6F30314B, x, y, 0)
set n=GetRandomInt(25, 27)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(28, 30)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(31, 33)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
call SelectUnitForPlayerSingle(u, pl)
call SaveUnitHandle(udg_hash, GetHandleId(u), 1, hero)
elseif GetItemTypeId(Item) == 0x49304148 then
call RemoveItem(Item)
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
set u=CreateUnit(pl, 0x6F30314B, x, y, 0)
set n=GetRandomInt(1, 4)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(5, 8)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(9, 12)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(13, 15)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(16, 18)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(19, 21)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(25, 27)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(28, 30)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
set n=GetRandomInt(31, 33)
call UnitAddAbility(u, udg_BonusItemsSkill[n])
call SelectUnitForPlayerSingle(u, pl)
call SaveUnitHandle(udg_hash, GetHandleId(u), 1, hero)
endif
set hero=null
set u=null
set pl=null
set Item=null
endfunction
function InitTrig_NewYearGift2 takes nothing returns nothing
set gg_trg_NewYearGift2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NewYearGift2, EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_NewYearGift2, Condition(function Trig_NewYearGift2_Conditions))
call TriggerAddAction(gg_trg_NewYearGift2, function Trig_NewYearGift2_Actions)
endfunction
function Trig_NewYearGiftPick_Conditions takes nothing returns boolean
return GetUnitTypeId(GetSpellAbilityUnit()) == 0x6F30314B
endfunction
function Trig_NewYearGiftPick_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit hero=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
local integer Skill=GetSpellAbilityId()
local real x=GetUnitX(hero)
local real y=GetUnitY(hero)
local item Item
local integer n=0
loop
set n=n + 1
exitwhen Skill == udg_BonusItemsSkill[n]
endloop
set Item=CreateItem(udg_BonusItems[n], x, y)
call UnitAddItem(hero, Item)
call FlushChildHashtable(udg_hash, GetHandleId(u))
call RemoveUnit(u)
set u=null
set hero=null
set Item=null
endfunction
function InitTrig_NewYearGiftPick takes nothing returns nothing
set gg_trg_NewYearGiftPick=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NewYearGiftPick, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_NewYearGiftPick, Condition(function Trig_NewYearGiftPick_Conditions))
call TriggerAddAction(gg_trg_NewYearGiftPick, function Trig_NewYearGiftPick_Actions)
endfunction
function Trig_Elixir_Conditions takes nothing returns boolean
local unit u=GetManipulatingUnit()
local player pl=GetOwningPlayer(u)
local item Item=GetManipulatedItem()
if IsPlayerInForce(pl, udg_PlayersGroup) == true then
if GetItemTypeId(Item) == 0x49303047 or GetItemTypeId(Item) == 0x49303048 or GetItemTypeId(Item) == 0x49303049 or GetItemTypeId(Item) == 0x49303053 or GetItemTypeId(Item) == 0x49303333 then
set u=null
set pl=null
set Item=null
return true
else
set u=null
set pl=null
set Item=null
return false
endif
else
set u=null
set pl=null
set Item=null
return false
endif
endfunction
function Trig_Elixir_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item
if UnitHasItemOfTypeBJ(u, 0x49303049) == true and udg_Elixir[n] < 25 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Elixir[n]=udg_Elixir[n] + 2
else
set udg_Elixir[n]=udg_Elixir[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Бездонная фляга|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir[n]) + " из 25.")
if udg_Elixir[n] >= 25 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303049))
set Item=CreateItem(0x4930304A, 0, 0)
call UnitAddItem(u, Item)
set udg_Elixir[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303053) == true and udg_Elixir2[n] < 40 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Elixir2[n]=udg_Elixir2[n] + 2
else
set udg_Elixir2[n]=udg_Elixir2[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Фляга святой воды|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir2[n]) + " из 40.")
if udg_Elixir2[n] >= 40 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303053))
set Item=CreateItem(0x49303054, 0, 0)
call UnitAddItem(u, Item)
set udg_Elixir2[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303333) == true and udg_Elixir3[n] < 40 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Elixir3[n]=udg_Elixir3[n] + 2
else
set udg_Elixir3[n]=udg_Elixir3[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Фляга огненной воды|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Elixir3[n]) + " из 40.")
if udg_Elixir3[n] >= 40 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303333))
set Item=CreateItem(0x49303334, 0, 0)
call UnitAddItem(u, Item)
set udg_Elixir3[n]=0
endif
endif
set u=null
set pl=null
set Item=null
endfunction
function InitTrig_Elixir takes nothing returns nothing
set gg_trg_Elixir=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Elixir, EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_Elixir, Condition(function Trig_Elixir_Conditions))
call TriggerAddAction(gg_trg_Elixir, function Trig_Elixir_Actions)
endfunction
function Trig_Hammer_Conditions takes nothing returns boolean
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
if IsPlayerInForce(pl, udg_PlayersGroup) == true and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_HERO) == true then
set u=null
set u2=null
set pl=null
return true
else
set u=null
set u2=null
set pl=null
return false
endif
endfunction
function Trig_Hammer_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item
if UnitHasItemOfTypeBJ(u, 0x4930305A) == true and udg_Hammer[n] < 3 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Hammer[n]=udg_Hammer[n] + 2
else
set udg_Hammer[n]=udg_Hammer[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Боевой молот|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer[n]) + " из 3.")
if udg_Hammer[n] >= 3 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x4930305A))
set Item=CreateItem(0x49303130, 0, 0)
call UnitAddItem(u, Item)
set udg_Hammer[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303131) == true and udg_Hammer2[n] < 4 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Hammer2[n]=udg_Hammer2[n] + 2
else
set udg_Hammer2[n]=udg_Hammer2[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Молот праведника|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer2[n]) + " из 4.")
if udg_Hammer2[n] >= 4 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303131))
set Item=CreateItem(0x49303132, 0, 0)
call UnitAddItem(u, Item)
set udg_Hammer2[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303331) == true and udg_Hammer3[n] < 4 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Hammer3[n]=udg_Hammer3[n] + 2
else
set udg_Hammer3[n]=udg_Hammer3[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Молот убийцы|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Hammer3[n]) + " из 4.")
if udg_Hammer3[n] >= 4 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303331))
set Item=CreateItem(0x49303332, 0, 0)
call UnitAddItem(u, Item)
set udg_Hammer3[n]=0
endif
endif
set u=null
set pl=null
set Item=null
endfunction
function InitTrig_Hammer takes nothing returns nothing
set gg_trg_Hammer=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hammer, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hammer, Condition(function Trig_Hammer_Conditions))
call TriggerAddAction(gg_trg_Hammer, function Trig_Hammer_Actions)
endfunction
function Trig_ShieldOfDeath_Conditions takes nothing returns boolean
local unit u=GetTriggerUnit()
local unit u2=GetAttacker()
local player pl=GetOwningPlayer(u)
if IsUnitType(u, UNIT_TYPE_HERO) == true and IsUnitEnemy(u2, pl) == true then
set u=null
set u2=null
set pl=null
return true
else
set u=null
set u2=null
set pl=null
return false
endif
endfunction
function Trig_ShieldOfDeath_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit u2=GetAttacker()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item
local real dmg=0.00
if UnitHasItemOfTypeBJ(u, 0x62666872) == true then
if GetUnitLifePercent(u) < 50.00 then
set dmg=90.00
else
set dmg=60.00
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303831) == true then
set dmg=80.00
elseif UnitHasItemOfTypeBJ(u, 0x4930324F) == true then
set dmg=64.00
elseif UnitHasItemOfTypeBJ(u, 0x49303237) == true or UnitHasItemOfTypeBJ(u, 0x49303239) == true then
set dmg=40.00
elseif UnitHasItemOfTypeBJ(u, 0x49303659) == true then
set dmg=36.00
elseif UnitHasItemOfTypeBJ(u, 0x49303250) == true then
set dmg=24.00
elseif UnitHasItemOfTypeBJ(u, 0x49303238) == true or UnitHasItemOfTypeBJ(u, 0x49303236) == true then
set dmg=16.00
elseif UnitHasItemOfTypeBJ(u, 0x7664646C) == true then
set dmg=12.00
endif
if dmg > 0.00 then
if LoadInteger(udg_hash, GetHandleId(u), 6) >= 3 then
set dmg=dmg * 1.20
endif
call SaveInteger(udg_hash, GetHandleId(u2), 17, 1)
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
else
set u=null
set u2=null
set pl=null
set Item=null
return
endif
if IsPlayerInForce(pl, udg_PlayersGroup) == true then
if UnitHasItemOfTypeBJ(u, 0x49303236) == true and udg_ShieldOfDeath[n] < 900 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_ShieldOfDeath[n]=udg_ShieldOfDeath[n] + 2
else
set udg_ShieldOfDeath[n]=udg_ShieldOfDeath[n] + 1
endif
if udg_ShieldOfDeath[n] >= 900 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303236))
set Item=CreateItem(0x49303237, 0, 0)
call UnitAddItem(u, Item)
set udg_ShieldOfDeath[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303238) == true and udg_ShieldOfDeath2[n] < 1350 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_ShieldOfDeath2[n]=udg_ShieldOfDeath2[n] + 2
else
set udg_ShieldOfDeath2[n]=udg_ShieldOfDeath2[n] + 1
endif
if udg_ShieldOfDeath2[n] >= 1350 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303238))
set Item=CreateItem(0x49303239, 0, 0)
call UnitAddItem(u, Item)
set udg_ShieldOfDeath2[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303250) == true and udg_ShieldOfDeath3[n] < 1350 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_ShieldOfDeath3[n]=udg_ShieldOfDeath3[n] + 2
else
set udg_ShieldOfDeath3[n]=udg_ShieldOfDeath3[n] + 1
endif
if udg_ShieldOfDeath3[n] >= 1350 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303250))
set Item=CreateItem(0x4930324F, 0, 0)
call UnitAddItem(u, Item)
set udg_ShieldOfDeath3[n]=0
endif
endif
endif
set u=null
set u2=null
set pl=null
set Item=null
endfunction
function InitTrig_ShieldOfDeath takes nothing returns nothing
set gg_trg_ShieldOfDeath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ShieldOfDeath, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ShieldOfDeath, Condition(function Trig_ShieldOfDeath_Conditions))
call TriggerAddAction(gg_trg_ShieldOfDeath, function Trig_ShieldOfDeath_Actions)
endfunction
function Trig_Spear_Conditions takes nothing returns boolean
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
if IsPlayerInForce(pl, udg_PlayersGroup) == true and IsUnitEnemy(u2, pl) == true and GetUnitLevel(u2) > 2 and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false then
set u=null
set u2=null
set pl=null
return true
else
set u=null
set u2=null
set pl=null
return false
endif
endfunction
function Trig_Spear_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local item Item
if UnitHasItemOfTypeBJ(u, 0x49303339) == true and udg_Spear[n] < 25 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Spear[n]=udg_Spear[n] + 2
else
set udg_Spear[n]=udg_Spear[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Копье стража|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear[n]) + " из 25.")
if udg_Spear[n] >= 25 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303339))
set Item=CreateItem(0x49303343, 0, 0)
call UnitAddItem(u, Item)
set udg_Spear[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303341) == true and udg_Spear2[n] < 40 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Spear2[n]=udg_Spear2[n] + 2
else
set udg_Spear2[n]=udg_Spear2[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Копье праведника|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear2[n]) + " из 40.")
if udg_Spear2[n] >= 40 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303341))
set Item=CreateItem(0x49303344, 0, 0)
call UnitAddItem(u, Item)
set udg_Spear2[n]=0
endif
elseif UnitHasItemOfTypeBJ(u, 0x49303342) == true and udg_Spear3[n] < 40 then
if UnitHasItemOfTypeBJ(u, 0x7363686C) == true or UnitHasItemOfTypeBJ(u, 0x73626F6B) == true then
set udg_Spear3[n]=udg_Spear3[n] + 2
else
set udg_Spear3[n]=udg_Spear3[n] + 1
endif
call DisplayTimedTextToPlayer(pl, 0, 0, 10, "|cFF07B4C2Предмет|r |cFFFFDC00Копье убийцы|r |cFF07B4C2прогресс задания:|r |cFFFFA900" + I2S(udg_Spear3[n]) + " из 40.")
if udg_Spear3[n] >= 40 then
call RemoveItem(GetItemOfTypeFromUnitBJ(u, 0x49303342))
set Item=CreateItem(0x49303345, 0, 0)
call UnitAddItem(u, Item)
set udg_Spear3[n]=0
endif
endif
set u=null
set pl=null
set Item=null
endfunction
function InitTrig_Spear takes nothing returns nothing
set gg_trg_Spear=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Spear, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Spear, Condition(function Trig_Spear_Conditions))
call TriggerAddAction(gg_trg_Spear, function Trig_Spear_Actions)
endfunction
function Trig_GrabItem_Func001Func002Func001Func001C takes nothing returns boolean
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303049 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303053 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303333 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x4930304A ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303054 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303334 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x67656D74 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func001Func002Func001C takes nothing returns boolean
if ( not Trig_GrabItem_Func001Func002Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func001Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func001Func004C takes nothing returns boolean
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303049 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303053 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303333 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x4930304A ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303054 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303334 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x67656D74 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func001C takes nothing returns boolean
if ( not Trig_GrabItem_Func001Func004C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func002Func002Func001Func001C takes nothing returns boolean
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x4930305A ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303131 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303331 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303130 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303132 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303332 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func002Func002Func001C takes nothing returns boolean
if ( not Trig_GrabItem_Func002Func002Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func002Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func002Func004C takes nothing returns boolean
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x4930305A ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303131 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303331 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303130 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303132 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303332 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func002C takes nothing returns boolean
if ( not Trig_GrabItem_Func002Func004C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func003Func002Func001Func001C takes nothing returns boolean
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303236 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303238 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303250 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303237 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303239 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x4930324F ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303659 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func003Func002Func001C takes nothing returns boolean
if ( not Trig_GrabItem_Func003Func002Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func003Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func003Func004C takes nothing returns boolean
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303236 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303238 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303250 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303237 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303239 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x4930324F ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303659 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303831 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x7664646C ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func003C takes nothing returns boolean
if ( not Trig_GrabItem_Func003Func004C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func004Func002Func001Func001C takes nothing returns boolean
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303339 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303341 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303342 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303343 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303344 ) ) then
return true
endif
if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303345 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func004Func002Func001C takes nothing returns boolean
if ( not Trig_GrabItem_Func004Func002Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func004Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func004Func004C takes nothing returns boolean
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303339 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303341 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303342 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303343 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303344 ) ) then
return true
endif
if ( ( GetItemTypeId(GetManipulatedItem()) == 0x49303345 ) ) then
return true
endif
return false
endfunction
function Trig_GrabItem_Func004C takes nothing returns boolean
if ( not Trig_GrabItem_Func004Func004C() ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func005Func002Func001C takes nothing returns boolean
if ( not ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x4930414A ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func005Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func005C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x4930414A ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func006Func002Func001C takes nothing returns boolean
if ( not ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x4930414C ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func006Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func006C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x4930414C ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func007Func002Func001C takes nothing returns boolean
if ( not ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49303532 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func007Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func007C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49303532 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func008Func002Func001C takes nothing returns boolean
if ( not ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 0x49304138 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func008Func003C takes nothing returns boolean
if ( not ( udg_n >= 2 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Func008C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49304138 ) ) then
return false
endif
return true
endfunction
function Trig_GrabItem_Actions takes nothing returns nothing
if ( Trig_GrabItem_Func001C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func001Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func001Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_6591")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func002C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func002Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func002Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_6592")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func003C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func003Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func003Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_6593")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func004C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func004Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func004Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_6978")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func005C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func005Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func005Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_11108")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func006C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func006Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func006Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_11111")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func007C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func007Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func007Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_11112")
call RemoveLocation(udg_p)
else
endif
else
endif
if ( Trig_GrabItem_Func008C() ) then
set udg_n=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( Trig_GrabItem_Func008Func002Func001C() ) then
set udg_n=( udg_n + 1 )
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
if ( Trig_GrabItem_Func008Func003C() ) then
set udg_p=GetUnitLoc(GetManipulatingUnit())
call SetItemPositionLoc(GetManipulatedItem(), udg_p)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 15.00, "TRIGSTR_1272")
call RemoveLocation(udg_p)
else
endif
else
endif
endfunction
function InitTrig_GrabItem takes nothing returns nothing
set gg_trg_GrabItem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GrabItem, EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_GrabItem, function Trig_GrabItem_Actions)
endfunction
function SpellFrostDragon takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local real r2=GetRandomReal(0.00, 360.00)
local integer L
local location p
if r < 6.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
call SetUnitAnimation(u, "spell")
set L=1
loop
exitwhen L > 3
set L=L + 1
set p=PolarProjectionBJ(Location(x, y), 200.00, r2 + ( 120.00 * I2R(L) ))
set u2=CreateUnit(GetOwningPlayer(u), 0x6F303130, x, y, r2 + ( 120.00 * I2R(L) ))
call SetUnitScale(u2, 1.25, 1.25, 1.25)
call UnitApplyTimedLife(u2, 0x42544C46, 2.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, 375.00)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitAddAbility(u2, 0x41305130)
call IssuePointOrderLoc(u2, "carrionswarm", p)
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
call SetUnitAnimation(u, "stand")
call UnitRemoveAbility(u, 0x4130474E)
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
endif
set t=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
endfunction
function SpellStomper takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local group ug=CreateGroup()
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local integer L
local location p
if r < 8.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
call SetUnitAnimation(u, "spell")
set L=1
loop
exitwhen L > 5
set L=L + 1
set p=PolarProjectionBJ(Location(x, y), 200.00, 72.00 * I2R(L))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", p))
endloop
set L=1
loop
exitwhen L > 8
set L=L + 1
set p=PolarProjectionBJ(Location(x, y), 350.00, 45.00 * I2R(L))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", p))
endloop
call GroupEnumUnitsInRange(ug, x, y, 400.00, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, 400.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, 800.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
call SetUnitAnimation(u, "stand")
call UnitRemoveAbility(u, 0x4130474E)
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
endif
set t=null
set u=null
set u2=null
call DestroyGroup(ug)
set ug=null
set pl=null
call RemoveLocation(p)
set p=null
endfunction
function SpellStomper_BlackDeath takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local group ug=CreateGroup()
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local integer L
local location p
if r < 30.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
set L=1
loop
exitwhen L > 24
set L=L + 1
set p=PolarProjectionBJ(Location(x, y), 30 * r + 290, 15 * I2R(L))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", p))
endloop
call GroupEnumUnitsInRange(ug, x, y, 30 * r + 300, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, 200.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, 600.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
call SetUnitAnimation(u, "stand")
call UnitRemoveAbility(u, 0x4130474E)
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
endif
set t=null
set u=null
set u2=null
call DestroyGroup(ug)
set ug=null
set pl=null
call RemoveLocation(p)
set p=null
endfunction
function KingSpawns takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local real angle=GetRandomReal(0.00, 360.00)
local integer n=GetRandomInt(1, 5)
local location p=Location(x, y)
if r < 11.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
if r < 7.00 then
set p=PolarProjectionBJ(p, 200.00, angle)
if r == 1.00 then
set u2=CreateUnitAtLoc(pl, 0x55303054, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
elseif r == 2.00 then
set u2=CreateUnitAtLoc(pl, 0x55303054, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
elseif r == 3.00 then
set u2=CreateUnitAtLoc(pl, 0x48303157, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
elseif r == 4.00 then
set u2=CreateUnitAtLoc(pl, 0x48303157, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
elseif r == 5.00 then
set u2=CreateUnitAtLoc(pl, 0x55303132, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
elseif r == 6.00 then
set u2=CreateUnitAtLoc(pl, 0x4E303457, p, angle)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
endif
call SetHeroLevel(u2, 16, false)
call PrepareEnemyHero(u2)
call GroupAddUnit(udg_AttackGroup, u2)
call IssuePointOrderLoc(u2, "attack", udg_DefPoint)
endif
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
call SetUnitAnimation(u, "stand")
call UnitRemoveAbility(u, 0x4130474E)
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
endif
set t=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
endfunction
function SpellDemon takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local group ug=CreateGroup()
local group ug2=CreateGroup()
local real x
local real y
if r < 15.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
call SetUnitAnimation(u, "spell")
set udg_u=u
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false then
call GroupAddUnit(ug2, u2)
endif
call GroupRemoveUnit(ug, u2)
endloop
loop
set u2=FirstOfGroup(ug2)
exitwhen u2 == null
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call Spellmarker(u , 1250 , 150 , GetRandomReal(5.00, 10.00) , x , y , "war3mapImported\\Flamestrike I.mdx" , 0 , null , 0)
call GroupRemoveUnit(ug2, u2)
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
call SetUnitAnimation(u, "stand")
call UnitRemoveAbility(u, 0x4130474E)
call SetUnitInvulnerable(u, false)
call PauseUnit(u, false)
endif
call DestroyGroup(ug)
set ug=null
call DestroyGroup(ug2)
set ug2=null
set t=null
set u=null
set u2=null
endfunction
function Trig_BossUltimates_Actions takes nothing returns nothing
local unit defender=GetTriggerUnit()
local timer t
if IsUnitInGroup(defender, udg_NoUltimateGroup) == true then
set defender=null
set t=null
return
endif
if GetUnitTypeId(defender) == 0x5530304E then
if GetUnitLifePercent(defender) <= 35.00 then
call UnitAddAbility(defender, 0x4130505A)
call GroupAddUnit(udg_NoUltimateGroup, defender)
endif
elseif GetUnitTypeId(defender) == 0x4E303648 then
if GetUnitLifePercent(defender) <= 35.00 then
call SetUnitVertexColor(defender, 255, 50, 50, 255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", defender, "origin"))
call UnitRemoveAbility(defender, 0x4130414F)
call UnitAddAbility(defender, 0x41304E4A)
call UnitAddAbility(defender, 0x41305430)
call SetUnitAbilityLevel(defender, 0x41305430, 3)
call GroupAddUnit(udg_NoUltimateGroup, defender)
endif
elseif GetUnitTypeId(defender) == 0x48303358 then
if GetUnitLifePercent(defender) <= 40.00 then
call GroupAddUnit(udg_NoUltimateGroup, defender)
set defender=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x7530314E, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup, defender)
call IssuePointOrderLoc(defender, "attack", udg_DefPoint)
endif
elseif GetUnitTypeId(defender) == 0x55303149 then
if GetUnitLifePercent(defender) <= 35.00 then
call UnitAddAbility(defender, 0x41305351)
call IssueImmediateOrder(defender, "locustswarm")
call GroupAddUnit(udg_NoUltimateGroup, defender)
endif
elseif GetUnitTypeId(defender) == 0x4E303542 then
if GetUnitLifePercent(defender) <= 35.00 then
call UnitAddAbility(defender, 0x4130505A)
call GroupAddUnit(udg_NoUltimateGroup, defender)
call SetUnitInvulnerable(defender, true)
call PauseUnit(defender, true)
set t=CreateTimer()
call TimerStart(t, 3.00, true, function KingSpawns)
call SaveReal(udg_hash, GetHandleId(t), 1, 0.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, defender)
endif
elseif GetUnitTypeId(defender) == 0x55303041 then
if GetUnitLifePercent(defender) <= 50.00 then
call UnitAddAbility(defender, 0x4130474E)
call GroupAddUnit(udg_NoUltimateGroup, defender)
call SetUnitInvulnerable(defender, true)
call PauseUnit(defender, true)
call SetUnitAnimation(defender, "spell")
set t=CreateTimer()
call TimerStart(t, 1.00, true, function SpellStomper)
call SaveReal(udg_hash, GetHandleId(t), 1, 0.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, defender)
endif
elseif GetUnitTypeId(defender) == 0x55647265 then
if GetUnitLifePercent(defender) <= 50.00 then
call UnitAddAbility(defender, 0x4130474E)
call GroupAddUnit(udg_NoUltimateGroup, defender)
call SetUnitInvulnerable(defender, true)
call PauseUnit(defender, true)
call QueueUnitAnimation(defender, "stand, channel")
set t=CreateTimer()
call TimerStart(t, 0.20, true, function SpellStomper_BlackDeath)
call SaveReal(udg_hash, GetHandleId(t), 1, 0.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, defender)
endif
elseif GetUnitTypeId(defender) == 0x4E303357 then
if GetUnitLifePercent(defender) <= 50.00 then
call UnitAddAbility(defender, 0x4130474E)
call GroupAddUnit(udg_NoUltimateGroup, defender)
call SetUnitInvulnerable(defender, true)
call PauseUnit(defender, true)
call SetUnitAnimation(defender, "spell")
set t=CreateTimer()
call TimerStart(t, 1.00, true, function SpellDemon)
call SaveReal(udg_hash, GetHandleId(t), 1, 0.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, defender)
endif
elseif GetUnitTypeId(defender) == 0x55303058 then
if GetUnitLifePercent(defender) <= 50.00 then
call UnitAddAbility(defender, 0x4130474E)
call GroupAddUnit(udg_NoUltimateGroup, defender)
call SetUnitInvulnerable(defender, true)
call PauseUnit(defender, true)
call SetUnitAnimation(defender, "spell")
set t=CreateTimer()
call TimerStart(t, 1.00, true, function SpellFrostDragon)
call SaveReal(udg_hash, GetHandleId(t), 1, 0.00)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, defender)
endif
endif
set defender=null
set t=null
endfunction
function InitTrig_BossUltimates takes nothing returns nothing
set gg_trg_BossUltimates=CreateTrigger()
call TriggerAddAction(gg_trg_BossUltimates, function Trig_BossUltimates_Actions)
endfunction
function Tentacles takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
if r < 500 then
set r=r + 100.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
set L=1
loop
exitwhen L > 3
set x2=GetRandomReal(x - r + ( r / 2 ), x + r)
set y2=GetRandomReal(y - r + ( r / 2 ), y + r)
set u2=CreateUnit(pl, 0x6E30334C, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 60)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", Location(x2, y2)))
set L=L + 1
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function VoidSkill takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer L
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local location p
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
if r < 15.00 then
set r=r + 1.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
set L=1
loop
exitwhen L > 3
set p=PolarProjectionBJ(Location(x, y), GetRandomReal(100.00, 200.00), GetRandomReal(0.00, 360.00))
set u2=CreateUnitAtLoc(pl, 0x6E303459, p, GetRandomReal(0, 360))
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call UnitApplyTimedLife(u2, 0x42544C46, 60)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\VoidRitual.mdx", p))
if IsUnitInGroup(u, udg_AttackGroup) == true then
call GroupAddUnit(udg_AttackGroup, u2)
call IssuePointOrderLoc(u2, "attack", udg_DefPoint)
else
call GroupAddUnit(udg_AttackGroup2, u2)
call IssuePointOrderLoc(u2, "attack", udg_DefPoint2)
endif
set L=L + 1
endloop
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
endfunction
function OrdenMage1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local location p
local location p2=Location(LoadReal(udg_hash, GetHandleId(t), 2), LoadReal(udg_hash, GetHandleId(t), 3))
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
if r < 550.00 then
set r=r + 50.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
set p=PolarProjectionBJ(p2, r, GetRandomReal(0.00, 360.00))
set u2=CreateUnitAtLoc(pl, 0x6F303130, p, 0.00)
call UnitApplyTimedLife(u2, 0x42544C46, 5.00)
call UnitAddAbility(u2, 0x41304E48)
call IssuePointOrderLoc(u2, "flamestrike", p)
call TimerStart(t, 0.10, false, function OrdenMage1)
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
endfunction
function Oracul takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2=LoadUnitHandle(udg_hash, GetHandleId(t), 2)
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real time=GetRandomReal(1.5, 3.0)
local timer t2=CreateTimer()
local integer i=GetHandleId(t2)
local integer count=LoadInteger(udg_hash, GetHandleId(t), 1)
set x=x + GetRandomReal(- 300, 300)
set y=y + GetRandomReal(- 300, 300)
call Spellmarker(u , 500 , 65 , time , x , y , "war3mapImported\\Ice Shard.mdx" , 0 , null , 0)
set count=count - 1
if count > 0 then
call SaveInteger(udg_hash, GetHandleId(t), 1, count)
call TimerStart(t, 0.10, false, function Oracul)
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Kraken takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real x2
local real y2
local real r
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 350, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, 75.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, 175.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 550, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false then
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set r=bj_RADTODEG * Atan2(y - y2, x - x2)
call KnockBackUnit(u2 , 100 , 0.5 , r , 0.03)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set count=count - 1
if count > 0 then
call SaveInteger(udg_hash, Id, 3, count)
if count == 2 then
set u2=LoadUnitHandle(udg_hash, Id, 2)
call SetUnitAnimation(u2, "death")
endif
else
set u2=LoadUnitHandle(udg_hash, Id, 2)
call RemoveUnit(u2)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function OrdenMage2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local unit u2
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local location p
local location p2=Location(LoadReal(udg_hash, GetHandleId(t), 2), LoadReal(udg_hash, GetHandleId(t), 3))
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local real ugol=AngleBetweenPoints(Location(x, y), p2)
if r < 550.00 then
set r=r + 50.00
call SaveReal(udg_hash, GetHandleId(t), 1, r)
set p=PolarProjectionBJ(Location(x, y), r * 3, ugol)
set u2=CreateUnitAtLoc(pl, 0x6F303130, p, 0.00)
call UnitApplyTimedLife(u2, 0x42544C46, 5.00)
call UnitAddAbility(u2, 0x41304E46)
call IssuePointOrderLoc(u2, "blizzard", p)
call TimerStart(t, 0.10, false, function OrdenMage2)
else
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
endif
set t=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
endfunction
function NatrezimTp takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
local unit u2=LoadUnitHandle(udg_hash, i, 2)
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real dmg=600.00
local real aoe=250.00
local group ug=CreateGroup()
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Call of Dread Green.mdx", x, y))
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, dmg * 0.50, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call SetUnitPosition(u, x, y)
call DestroyGroup(ug)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set t=null
set u=null
set u2=null
set pl=null
set ug=null
endfunction
function BlackDeathHand_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real dmg=1000
local group ug=CreateGroup()
call RemoveUnit(u2)
call GroupEnumUnitsInRange(ug, x, y, 125, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) == true then
call UnitDamageTarget(u, u2, dmg * 0.25, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u2=null
set pl=null
set ug=null
endfunction
function BlackDeathHand takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
local real x
local real y
local real x2
local real y2
local real r
local real r2
local unit u2
set count=count - 1
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
set x=GetUnitX(u)
set y=GetUnitY(u)
set r=GetRandomReal(100, 650)
set r2=GetRandomReal(0, 360)
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
set u2=CreateUnit(GetOwningPlayer(u), 0x6F30324D, x2, y2, GetRandomReal(0, 360))
set t=null
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 1.866, false, function BlackDeathHand_End)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
endif
set t=null
set u=null
set u2=null
endfunction
function Trig_EnemySkill_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local unit u4
local player pl=GetOwningPlayer(u)
local integer Skill=GetSpellAbilityId()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real r
local real r2
local location p
local location p2
local group ug=CreateGroup()
local group ug2=CreateGroup()
local integer L
local timer t=CreateTimer()
local integer i=GetHandleId(t)
if Skill == 0x4130464C then
call SaveReal(udg_hash, i, 1, 0.00)
call SaveUnitHandle(udg_hash, i, 1, u)
call TimerStart(t, 0.15, true, function Tentacles)
endif
if Skill == 0x41436463 then
set u2=GetSpellTargetUnit()
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_UNDEAD) == true and u3 != u2 then
set u4=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(u4, 0x41303543)
call IssueTargetOrderById(u4, Order_deathcoil, u3)
call UnitApplyTimedLife(u4, 0x42544C46, 2.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x4130354B and GetUnitTypeId(u) == 0x55656172 then
set p=Location(x, y)
set r=GetUnitFacing(u)
set p2=PolarProjectionBJ(p, 100, r + 90)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p2))
set u2=CreateUnitAtLoc(pl, 0x75303147, p2, r)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call GroupAddUnit(udg_AttackGroup, u2)
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
set p2=PolarProjectionBJ(p, 100, r - 90)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p2))
set u2=CreateUnitAtLoc(pl, 0x75303147, p2, r)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
endif
if Skill == 0x41304F35 and GetUnitTypeId(u) == 0x4E303457 then
call SaveReal(udg_hash, i, 1, 0.00)
call SaveUnitHandle(udg_hash, i, 1, u)
call TimerStart(t, 0.15, true, function VoidSkill)
endif
if Skill == 0x41304257 then
call TimerStart(t, 1.90, true, function NatrezimTp)
call SaveUnitHandle(udg_hash, i, 1, u)
set ug=GetRandomSubGroup(1, udg_AllHeroes)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
set x=GetUnitX(u)
set y=GetUnitY(u)
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
set r=250 * 0.0093458
set u=CreateUnit(pl, 0x6F303057, x, y, 0)
call SetUnitScale(u, r, r, r)
call SetUnitVertexColor(u, 255, 0, 0, 255)
call SaveUnitHandle(udg_hash, i, 2, u)
endif
if Skill == 0x41304652 or Skill == 0x4130534D then
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call Spellmarker(u , 850 , 145 , 1.60 , x , y , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0x6E303144 , "Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl" , 60)
set r=GetRandomReal(0, 360)
set x=x + 250 * Cos(r * bj_DEGTORAD)
set y=y + 250 * Sin(r * bj_DEGTORAD)
call Spellmarker(u , 850 , 145 , 1.60 , x , y , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0x6E303144 , "Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl" , 60)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x41304353 then
set r=150.00
set L=1
loop
exitwhen L > 18
set L=L + 1
set r2=GetRandomReal(0.00, 360.00)
set p=PolarProjectionBJ(Location(x, y), r, r2)
set r=r + 23.00
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
set u2=CreateUnitAtLoc(pl, 0x6E303253, p, r2)
call GroupAddUnit(udg_AttackGroup, u2)
call UnitApplyTimedLife(u2, 0x42726169, 60.00)
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
endloop
endif
if Skill == 0x41304E39 then
set r2=GetUnitFacing(u)
set L=1
loop
exitwhen L > 7
set L=L + 1
set p=PolarProjectionBJ(Location(x, y), 200.00, r2 - 80.00 + ( I2R(L) * 20.00 ))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p))
set u2=CreateUnitAtLoc(pl, 0x65303052, p, r2)
call GroupAddUnit(udg_AttackGroup, u2)
call UnitApplyTimedLife(u2, 0x42726169, 60.00)
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
endloop
endif
if Skill == 0x41304E49 and GetUnitTypeId(u) == 0x48303343 then
call TriggerExecute(gg_trg_SS9)
endif
if Skill == 0x41304E49 and GetUnitTypeId(u) == 0x4E303542 then
set L=1
loop
exitwhen L > 5
set L=L + 1
set r=I2R(L) * 72
set x2=x + 325 * Cos(r * bj_DEGTORAD)
set y2=y + 325 * Sin(r * bj_DEGTORAD)
call Spellmarker(u , 1650 , 230 , 3.00 , x2 , y2 , "war3mapImported\\Flamestrike II.mdx" , 0 , null , 0)
endloop
set L=1
loop
exitwhen L > 10
set L=L + 1
set r=I2R(L) * 36
set x2=x + 800 * Cos(r * bj_DEGTORAD)
set y2=y + 800 * Sin(r * bj_DEGTORAD)
call Spellmarker(u , 1650 , 230 , 3.00 , x2 , y2 , "war3mapImported\\Flamestrike II.mdx" , 0 , null , 0)
endloop
endif
if Skill == 0x41304E35 then
call UnitAddAbility(u, 0x41304E36)
call SaveUnitHandle(udg_hash, i, 1, u)
call SaveInteger(udg_hash, i, 2, 0x41304E36)
call TimerStart(t, 3, false, function RemoveBuff)
endif
if ( Skill == 0x4130434D or Skill == 0x41304E4F ) and GetUnitTypeId(u) != 0x556C6963 then
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call Spellmarker(u , 375 , 125 , 2.00 , x , y , "war3mapImported\\Blood Massacre Black.mdx" , 0 , null , 0)
set r=GetRandomReal(0, 360)
set x=x + 250 * Cos(r * bj_DEGTORAD)
set y=y + 250 * Sin(r * bj_DEGTORAD)
call Spellmarker(u , 375 , 125 , 2.00 , x , y , "war3mapImported\\Blood Massacre Black.mdx" , 0 , null , 0)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x41304E4F and GetUnitTypeId(u) == 0x556C6963 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set r=GetUnitFacing(u)
set L=1
loop
exitwhen L > 5
set r2=GetRandomReal(- 45, 45)
set x2=x + I2R(L) * 190 * Cos(( r + r2 ) * bj_DEGTORAD)
set y2=y + I2R(L) * 190 * Sin(( r + r2 ) * bj_DEGTORAD)
call Spellmarker(u , 800 , 150 , 1.9 + I2R(L) * 0.15 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
endif
if Skill == 0x4130434B then
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
call Spellmarker(u , 250 , 240 , 3.00 , x , y , "war3mapImported\\Flamestrike Starfire II.mdx" , 0 , null , 0)
endif
if Skill == 0x41304645 and GetUnitTypeId(u) == 0x48303238 then
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
set r=GetRandomReal(0, 360)
set L=1
loop
exitwhen L > 3
set x2=x + 250 * Cos(( r + I2R(L) * 120 ) * bj_DEGTORAD)
set y2=y + 250 * Sin(( r + I2R(L) * 120 ) * bj_DEGTORAD)
call Spellmarker(u , 700 , 125 , 2.50 , x2 , y2 , "war3mapImported\\Flamestrike Dark Blood I.mdx" , 0 , null , 0)
set L=L + 1
endloop
endif
if Skill == 0x41304645 and GetUnitTypeId(u) == 0x48303350 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(GetSpellTargetUnit())
set y2=GetUnitY(GetSpellTargetUnit())
set r=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set L=1
loop
exitwhen L > 8
set x2=x + I2R(L) * 120 * Cos(r * bj_DEGTORAD)
set y2=y + I2R(L) * 120 * Sin(r * bj_DEGTORAD)
call Spellmarker(u , 400 , 60 + I2R(L) * 20 , 1.8 + I2R(L) * 0.08 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
endif
if Skill == 0x41304D49 then
set r=GetUnitFacing(u)
set L=1
loop
exitwhen L > 3
set L=L + 1
set r2=GetRandomReal(40.00, 100.00)
set x2=x + r2 * Cos(( r + 180 + GetRandomReal(- 35, 35) ) * bj_DEGTORAD)
set y2=y + r2 * Sin(( r + 180 + GetRandomReal(- 35, 35) ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x68303237, x2, y2, GetRandomReal(0.00, 360.00))
call UnitApplyTimedLife(u2, 0x42544C46, GetRandomReal(4.00, 8.00))
endloop
endif
if Skill == 0x41303055 and GetUnitTypeId(u) == 0x55303048 then
set p=Location(x, y)
set r=80.00
set L=1
loop
exitwhen L > 18
set L=L + 1
set r=r + 80.00
set p2=PolarProjectionBJ(p, r, GetRandomReal(0.00, 360.00))
set u2=CreateUnitAtLoc(pl, 0x6F30304F, p, 0.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, 250.00)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitApplyTimedLife(u2, 0x42544C46, 4.50)
call IssuePointOrderByIdLoc(u2, Order_attackground, p2)
endloop
if GetUnitLifePercent(u) <= 33.00 then
set L=1
loop
exitwhen L > 10
set L=L + 1
set r=r + 180.00
set p2=PolarProjectionBJ(p, r, GetRandomReal(0.00, 360.00))
set u2=CreateUnitAtLoc(pl, 0x6F30304F, p, 0.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, 250.00)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitApplyTimedLife(u2, 0x42544C46, 4.50)
call IssuePointOrderByIdLoc(u2, Order_attackground, p2)
endloop
endif
endif
if Skill == 0x4130354B and GetUnitTypeId(u) == 0x5530304B then
set L=1
loop
exitwhen L > 5
set L=L + 1
set r=GetRandomReal(150, 450)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(150, 450)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
if GetUnitLifePercent(u) <= 33.00 then
set L=1
loop
exitwhen L > 10
set L=L + 1
set r=GetRandomReal(500, 600)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(500, 600)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
endif
endif
if Skill == 0x4130354B and GetUnitTypeId(u) == 0x4E30354C then
set p=Location(x, y)
set r=GetUnitFacing(u)
set p2=PolarProjectionBJ(p, 100, r + 90)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p2))
set u2=CreateUnitAtLoc(pl, 0x6E303349, p2, r)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call GroupAddUnit(udg_AttackGroup, u2)
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
set p2=PolarProjectionBJ(p, 100, r - 90)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", p2))
set u2=CreateUnitAtLoc(pl, 0x6E303349, p2, r)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call IssuePointOrderByIdLoc(u2, Order_attack, udg_DefPoint)
endif
if Skill == 0x41304F35 and GetUnitTypeId(u) == 0x55303149 then
set p=Location(x, y)
set r=GetUnitFacing(u)
set p2=PolarProjectionBJ(p, 150, r + 180)
set u2=CreateUnitAtLoc(pl, 0x6F30314C, p2, r)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", u2, "origin"))
call UnitApplyTimedLife(u2, 0x42544C46, 22)
endif
if Skill == 0x4130354B and ( GetUnitTypeId(u) == 0x4E303230 or GetUnitTypeId(u) == 0x4E6D616E ) then
if GetUnitTypeId(u) == 0x4E303230 then
set L=1
loop
exitwhen L > 4
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 90, I2R(L + 1) * 90)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 90, I2R(L + 1) * 90)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 90, I2R(L + 1) * 90)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
if GetUnitLifePercent(u) <= 33.00 then
set L=1
loop
exitwhen L > 8
set r=GetRandomReal(650, 750)
set r2=GetRandomReal(I2R(L) * 45, I2R(L + 1) * 45)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(650, 750)
set r2=GetRandomReal(I2R(L) * 45, I2R(L + 1) * 45)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
endif
else
set L=1
loop
exitwhen L > 3
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 120, I2R(L + 1) * 120)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 120, I2R(L + 1) * 120)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(150, 600)
set r2=GetRandomReal(I2R(L) * 120, I2R(L + 1) * 120)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
if GetUnitLifePercent(u) <= 33.00 then
set L=1
loop
exitwhen L > 6
set r=GetRandomReal(650, 750)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set r=GetRandomReal(650, 750)
set r2=GetRandomReal(I2R(L) * 60, I2R(L + 1) * 60)
set x2=PolarX(x , r , r2)
set y2=PolarY(y , r , r2)
call Spellmarker(u , 525 , 125 , 3.0 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
set L=L + 1
endloop
endif
endif
endif
if Skill == 0x41304135 then
set u2=GetSpellTargetUnit()
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
call GroupEnumUnitsInRange(ug, x, y, 250, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set r=bj_RADTODEG * Atan2(y2 - y, x2 - x)
call KnockBackUnit(u2 , 500 , 0.8 , r , 0.03)
call UnitDamageTarget(u, u2, 150, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x41303935 and GetUnitTypeId(u) == 0x55303052 then
set L=1
loop
exitwhen L > 5
set L=L + 1
set r=320
set r2=I2R(L) * 72
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 1000 , 155 , 2.3 , x2 , y2 , "war3mapImported\\Conflagrate Blue.mdx" , 0 , null , 0)
endloop
set L=1
loop
exitwhen L > 8
set L=L + 1
set r=700
set r2=I2R(L) * 45
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 1000 , 155 , 2.3 , x2 , y2 , "war3mapImported\\Conflagrate Blue.mdx" , 0 , null , 0)
endloop
endif
if Skill == 0x41303055 and GetUnitTypeId(u) == 0x6E303538 then
set L=1
loop
exitwhen L > 4
set L=L + 1
set r=300
set r2=I2R(L) * 90
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 500 , 150 , 2.2 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
endif
if Skill == 0x41303935 and GetUnitTypeId(u) == 0x4E303357 then
set L=1
loop
exitwhen L > 5
set L=L + 1
set r=270
set r2=I2R(L) * 72
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 1250 , 150 , GetRandomReal(2, 5) , x2 , y2 , "war3mapImported\\Flamestrike I.mdx" , 0 , null , 0)
endloop
set L=1
loop
exitwhen L > 8
set L=L + 1
set r=520
set r2=I2R(L) * 45
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 1250 , 150 , GetRandomReal(2, 5) , x2 , y2 , "war3mapImported\\Flamestrike I.mdx" , 0 , null , 0)
endloop
endif
if Skill == 0x41305350 and GetUnitTypeId(u) == 0x55303149 then
set L=1
loop
exitwhen L > 18
set L=L + 1
set r=600
set r2=I2R(L) * 20
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 2000 , 125 , 2.3 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
if GetUnitLifePercent(u) <= 40.00 then
set L=1
loop
exitwhen L > 10
set L=L + 1
set r=900
set r2=I2R(L) * 36
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 2000 , 125 , 2.3 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
set L=1
loop
exitwhen L > 5
set L=L + 1
set r=350
set r2=I2R(L) * 72
set x2=x + r * Cos(r2 * bj_DEGTORAD)
set y2=y + r * Sin(r2 * bj_DEGTORAD)
call Spellmarker(u , 2000 , 125 , 2.3 , x2 , y2 , "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" , 0 , null , 0)
endloop
endif
endif
if Skill == 0x41305350 and GetUnitTypeId(u) == 0x55647265 then
call SaveUnitHandle(udg_hash, i, 1, u)
if GetUnitLifePercent(u) <= 50.00 then
call TimerStart(t, 0.2, true, function BlackDeathHand)
call SaveInteger(udg_hash, i, 1, 20)
else
call TimerStart(t, 0.3, true, function BlackDeathHand)
call SaveInteger(udg_hash, i, 1, 10)
endif
endif
if Skill == 0x41305450 then
set u2=GetSpellTargetUnit()
call SaveInteger(udg_hash, i, 1, 45)
call SaveUnitHandle(udg_hash, i, 1, u)
call SaveUnitHandle(udg_hash, i, 2, u2)
call TimerStart(t, 0.10, false, function Oracul)
endif
if Skill == 0x41304E47 then
set u2=GetSpellTargetUnit()
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call SaveReal(udg_hash, i, 1, 0.00)
call SaveReal(udg_hash, i, 2, x)
call SaveReal(udg_hash, i, 3, y)
call SaveUnitHandle(udg_hash, i, 1, u)
set i=GetRandomInt(1, 2)
if i == 1 then
call TimerStart(t, 0.10, false, function OrdenMage1)
else
call TimerStart(t, 0.10, false, function OrdenMage2)
endif
endif
if Skill == 0x41304A36 and GetUnitTypeId(u) == 0x4E303648 then
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and GetUnitLevel(u2) != 0 then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set r=bj_RADTODEG * Atan2(y2 - y, x2 - x)
call KnockBackUnit(u2 , 1000 , 1.5 , r , 0.03)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x41303656 then
call GroupEnumUnitsInRange(ug, x, y, 800, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and GetUnitLevel(u2) != 0 then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set r=bj_RADTODEG * Atan2(y2 - y, x2 - x) + 180
call KnockBackUnit(u2 , 750 , 2.0 , r , 0.03)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
if Skill == 0x41304E49 and GetUnitTypeId(u) == 0x48303358 then
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false then
call GroupAddUnit(ug2, u2)
endif
call GroupRemoveUnit(ug, u2)
endloop
set ug2=GetRandomSubGroup(1, ug2)
set u2=FirstOfGroup(ug2)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set u2=CreateUnit(pl, 0x6F30314E, x2, y2, GetRandomReal(0, 360))
call SetUnitAnimation(u2, "birth")
call SaveReal(udg_hash, i, 1, x2)
call SaveReal(udg_hash, i, 2, y2)
call SaveUnitHandle(udg_hash, i, 1, u)
call SaveUnitHandle(udg_hash, i, 2, u2)
call SaveInteger(udg_hash, i, 3, 42)
call TimerStart(t, 0.5, true, function Kraken)
call DestroyGroup(ug)
call DestroyGroup(ug2)
endif
if Skill == 0x41305549 then
set u2=GetSpellTargetUnit()
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true and GetUnitLevel(u2) != 0 then
if IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set r=bj_RADTODEG * Atan2(y2 - y, x2 - x)
call KnockBackUnit(u2 , 900 , 1.0 , r , 0.03)
call UnitDamageTarget(u, u2, 450, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
set t=null
set u=null
set u2=null
set u3=null
set u4=null
set ug=null
set ug2=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
set pl=null
endfunction
function InitTrig_EnemySkill takes nothing returns nothing
set gg_trg_EnemySkill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_EnemySkill, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_EnemySkill, function Trig_EnemySkill_Actions)
endfunction
function Trig_AllBossesSkillsActivate_Func002Func002C takes nothing returns boolean
if ( ( GetUnitTypeId(udg_u) == 0x55303047 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55303048 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x6E303538 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x5530304B ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E303230 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55303052 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x5530304E ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303230 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303349 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55303130 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x6E30334A ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55303138 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55303148 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E303357 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x6E303451 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303343 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303358 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E303457 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E303542 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E30354C ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x55656172 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x556C6963 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E6D616E ) ) then
return true
endif
return false
endfunction
function Trig_AllBossesSkillsActivate_Func002C takes nothing returns boolean
if ( not Trig_AllBossesSkillsActivate_Func002Func002C() ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func003Func002C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func003C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x55303149 ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func004C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x55647265 ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func005C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x5563726C ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func006C takes nothing returns boolean
if ( not ( GetUnitTypeId(udg_u) == 0x68303242 ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func007Func001C takes nothing returns boolean
if ( ( GetUnitTypeId(udg_u) == 0x55303057 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303238 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303350 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x48303344 ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x4E303633 ) ) then
return true
endif
return false
endfunction
function Trig_AllBossesSkillsActivate_Func007C takes nothing returns boolean
if ( not Trig_AllBossesSkillsActivate_Func007Func001C() ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func008Func001C takes nothing returns boolean
if ( ( GetUnitTypeId(udg_u) == 0x5530314D ) ) then
return true
endif
if ( ( GetUnitTypeId(udg_u) == 0x756E6563 ) ) then
return true
endif
return false
endfunction
function Trig_AllBossesSkillsActivate_Func008C takes nothing returns boolean
if ( not Trig_AllBossesSkillsActivate_Func008Func001C() ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func009C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(udg_u), udg_AI) == true ) ) then
return false
endif
if ( not ( UnitHasItemOfTypeBJ(udg_u, 0x49303743) == true ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func010C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(udg_u), udg_AI) == true ) ) then
return false
endif
if ( not ( UnitHasItemOfTypeBJ(udg_u, 0x4930365A) == true ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func011C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(udg_u), udg_AI) == true ) ) then
return false
endif
if ( not ( UnitHasItemOfTypeBJ(udg_u, 0x49303431) == true ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func012C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(udg_u), udg_AI) == true ) ) then
return false
endif
if ( not ( UnitHasItemOfTypeBJ(udg_u, 0x4930414B) == true ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func013Func001C takes nothing returns boolean
if ( not ( GetUnitLifePercent(udg_u) <= 90.00 ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Func013C takes nothing returns boolean
if ( not ( IsPlayerInForce(GetOwningPlayer(udg_u), udg_AI) == true ) ) then
return false
endif
if ( not ( UnitHasItemOfTypeBJ(udg_u, 0x49303749) == true ) ) then
return false
endif
return true
endfunction
function Trig_AllBossesSkillsActivate_Actions takes nothing returns nothing
set udg_u=GetAttacker()
if ( Trig_AllBossesSkillsActivate_Func002C() ) then
call IssueImmediateOrder(udg_u, "cannibalize")
else
endif
if ( Trig_AllBossesSkillsActivate_Func003C() ) then
set udg_n=GetRandomInt(1, 2)
if ( Trig_AllBossesSkillsActivate_Func003Func002C() ) then
call IssueImmediateOrder(udg_u, "cannibalize")
else
call IssueImmediateOrder(udg_u, "roar")
endif
else
endif
if ( Trig_AllBossesSkillsActivate_Func004C() ) then
call IssueImmediateOrder(udg_u, "roar")
else
endif
if ( Trig_AllBossesSkillsActivate_Func005C() ) then
call IssueImmediateOrder(udg_u, "locustswarm")
else
endif
if ( Trig_AllBossesSkillsActivate_Func006C() ) then
set udg_p=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLoc(udg_u, "flamestrike", udg_p)
else
endif
if ( Trig_AllBossesSkillsActivate_Func007C() ) then
call IssueTargetOrderBJ(udg_u, "deathcoil", GetAttackedUnitBJ())
else
endif
if ( Trig_AllBossesSkillsActivate_Func008C() ) then
call IssueTargetOrderBJ(udg_u, "acidbomb", GetAttackedUnitBJ())
else
endif
if ( Trig_AllBossesSkillsActivate_Func009C() ) then
set udg_p=GetUnitLoc(GetAttackedUnitBJ())
call UnitUseItemPointLoc(udg_u, GetItemOfTypeFromUnitBJ(udg_u, 0x49303743), udg_p)
else
endif
if ( Trig_AllBossesSkillsActivate_Func010C() ) then
call UnitUseItemTarget(udg_u, GetItemOfTypeFromUnitBJ(udg_u, 0x4930365A), GetAttackedUnitBJ())
else
endif
if ( Trig_AllBossesSkillsActivate_Func011C() ) then
call UnitUseItem(udg_u, GetItemOfTypeFromUnitBJ(udg_u, 0x49303431))
else
endif
if ( Trig_AllBossesSkillsActivate_Func012C() ) then
call UnitUseItem(udg_u, GetItemOfTypeFromUnitBJ(udg_u, 0x4930414B))
else
endif
if ( Trig_AllBossesSkillsActivate_Func013C() ) then
if ( Trig_AllBossesSkillsActivate_Func013Func001C() ) then
call UnitUseItem(udg_u, GetItemOfTypeFromUnitBJ(udg_u, 0x49303749))
else
endif
else
endif
endfunction
function InitTrig_AllBossesSkillsActivate takes nothing returns nothing
set gg_trg_AllBossesSkillsActivate=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_AllBossesSkillsActivate, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_AllBossesSkillsActivate, function Trig_AllBossesSkillsActivate_Actions)
endfunction
function Trig_EnemyHeroDies_Conditions takes nothing returns boolean
return IsPlayerInForce(GetOwningPlayer(GetDyingUnit()), udg_AI) == true
endfunction
function Trig_EnemyHeroDies_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u2=GetKillingUnit()
local real dmg
local integer n
local integer n2=GetRandomInt(1, 3)
local integer n3
local player pl=GetOwningPlayer(u)
local player pl2=GetOwningPlayer(u2)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if IsUnitType(u, UNIT_TYPE_HERO) == true and IsPlayerInForce(pl, udg_AI) == true then
set n=GetRandomInt(1, 10)
if n == 3 then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl", x, y))
set n3=GetRandomInt(1, 12)
call CreateItem(udg_BonusItems[n3], x, y)
endif
endif
if UnitHasItemOfTypeBJ(u, 0x49303957) == true then
if UnitHasItemOfTypeBJ(u2, 0x617A6872) != true then
set dmg=GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.75
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
if GetUnitTypeId(u) == 0x4E303632 then
set u=CreateUnit(pl, 0x6F303246, x, y, 270)
call SetUnitAnimation(u, "birth")
endif
call GroupRemoveUnit(udg_ItemGroup[24], u)
set u=null
set u2=null
set pl=null
set pl2=null
endfunction
function InitTrig_EnemyHeroDies takes nothing returns nothing
set gg_trg_EnemyHeroDies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_EnemyHeroDies, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_EnemyHeroDies, Condition(function Trig_EnemyHeroDies_Conditions))
call TriggerAddAction(gg_trg_EnemyHeroDies, function Trig_EnemyHeroDies_Actions)
endfunction
function Trig_Move_Func001A takes nothing returns nothing
call IssuePointOrderLocBJ(GetEnumUnit(), "attack", udg_DefPoint)
endfunction
function Trig_Move_Func002A takes nothing returns nothing
call IssuePointOrderLocBJ(GetEnumUnit(), "attack", udg_DefPoint2)
endfunction
function Trig_Move_Func003A takes nothing returns nothing
call IssuePointOrderLocBJ(GetEnumUnit(), "attack", udg_DefPoint3)
endfunction
function Trig_Move_Actions takes nothing returns nothing
call ForGroupBJ(udg_AttackGroup, function Trig_Move_Func001A)
call ForGroupBJ(udg_AttackGroup2, function Trig_Move_Func002A)
call ForGroupBJ(udg_AttackGroup3, function Trig_Move_Func003A)
endfunction
function InitTrig_Move takes nothing returns nothing
set gg_trg_Move=CreateTrigger()
call DisableTrigger(gg_trg_Move)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Move, udg_Every20secTimer)
call TriggerAddAction(gg_trg_Move, function Trig_Move_Actions)
endfunction
function Trig_Defeat_Conditions takes nothing returns boolean
if ( not ( GetUnitTypeId(GetDyingUnit()) == 0x68303030 ) ) then
return false
endif
return true
endfunction
function Trig_Defeat_Func007A takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(), "TRIGSTR_1487")
endfunction
function Trig_Defeat_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Win)
set udg_Lose=true
call PauseTimer(udg_ExpTimer)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_1486")
call TriggerSleepAction(40.00)
call ForForce(udg_PlayersGroup, function Trig_Defeat_Func007A)
endfunction
function InitTrig_Defeat takes nothing returns nothing
set gg_trg_Defeat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Defeat, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Defeat, Condition(function Trig_Defeat_Conditions))
call TriggerAddAction(gg_trg_Defeat, function Trig_Defeat_Actions)
endfunction
function Trig_Win_Conditions takes nothing returns boolean
if ( not ( GetDyingUnit() == udg_Boss ) ) then
return false
endif
return true
endfunction
function Trig_Win_Func008A takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetEnumPlayer())
set ExpGo[udg_n - 1]=ExpGo[udg_n - 1] + udg_Reward
endfunction
function Trig_Win_Func009Func004A takes nothing returns nothing
call CustomVictoryBJ(GetEnumPlayer(), true, true)
endfunction
function Trig_Win_Func009C takes nothing returns boolean
if ( not ( udg_Modifiers[8] == true ) ) then
return false
endif
return true
endfunction
function Trig_Win_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_ExtraEnemyHero)
set udg_Reward=R2I(( I2R(udg_Reward) * udg_ModReward ))
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9628")
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "Получено очков: " + I2S(udg_Reward) ))
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9629")
call ForForce(udg_PlayersGroup, function Trig_Win_Func008A)
if ( Trig_Win_Func009C() ) then
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10036")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PauseTimer(udg_SpawnTimer[GetForLoopIndexA()])
set udg_SpawnTimerCount[GetForLoopIndexA()]=( udg_SpawnTimerCount[GetForLoopIndexA()] * 0.75 )
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call PolledWait(20.00)
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call StartTimerBJ(udg_EndlessEnemyHeroes, true, 75.00)
call TriggerExecute(gg_trg_InfinityWaves)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call PauseTimer(udg_SpawnTimer[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call DestroyTrigger(gg_trg_ExtraEnemyHero)
call PolledWait(60.00)
call ForForce(udg_PlayersGroup, function Trig_Win_Func009Func004A)
endif
endfunction
function InitTrig_Win takes nothing returns nothing
set gg_trg_Win=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Win, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Win, Condition(function Trig_Win_Conditions))
call TriggerAddAction(gg_trg_Win, function Trig_Win_Actions)
endfunction
function Trig_InfinityWaves_Func001Func001C takes nothing returns boolean
if ( ( udg_Lvl == 1 ) ) then
return true
endif
if ( ( udg_Lvl == 11 ) ) then
return true
endif
if ( ( udg_Lvl == 2 ) ) then
return true
endif
if ( ( udg_Lvl == 12 ) ) then
return true
endif
if ( ( udg_Lvl == 3 ) ) then
return true
endif
if ( ( udg_Lvl == 13 ) ) then
return true
endif
if ( ( udg_Lvl == 4 ) ) then
return true
endif
return false
endfunction
function Trig_InfinityWaves_Func001Func005A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func013A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func014A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func021A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func022A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 5, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func029A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001Func034A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func001C takes nothing returns boolean
if ( not Trig_InfinityWaves_Func001Func001C() ) then
return false
endif
return true
endfunction
function Trig_InfinityWaves_Func002Func001C takes nothing returns boolean
if ( ( udg_Lvl == 5 ) ) then
return true
endif
if ( ( udg_Lvl == 15 ) ) then
return true
endif
if ( ( udg_Lvl == 6 ) ) then
return true
endif
if ( ( udg_Lvl == 16 ) ) then
return true
endif
if ( ( udg_Lvl == 7 ) ) then
return true
endif
return false
endfunction
function Trig_InfinityWaves_Func002Func005A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002Func013A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002Func014A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 5, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002Func021A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002Func026A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func002C takes nothing returns boolean
if ( not Trig_InfinityWaves_Func002Func001C() ) then
return false
endif
return true
endfunction
function Trig_InfinityWaves_Func003Func001C takes nothing returns boolean
if ( ( udg_Lvl == 9 ) ) then
return true
endif
if ( ( udg_Lvl == 21 ) ) then
return true
endif
if ( ( udg_Lvl == 23 ) ) then
return true
endif
return false
endfunction
function Trig_InfinityWaves_Func003Func005A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func003Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 5, GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func003Func013A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func003Func018A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func003C takes nothing returns boolean
if ( not Trig_InfinityWaves_Func003Func001C() ) then
return false
endif
return true
endfunction
function Trig_InfinityWaves_Func004Func007A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func004Func012A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_InfinityWaves_Func004C takes nothing returns boolean
if ( not ( udg_Lvl == 22 ) ) then
return false
endif
return true
endfunction
function Trig_InfinityWaves_Actions takes nothing returns nothing
if ( Trig_InfinityWaves_Func001C() ) then
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10037")
set udg_WaveFase=4
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func001Func005A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func001Func006A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.50 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(300.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10777")
set udg_WaveFase=5
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func001Func013A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func001Func014A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.60 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(270.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_10778")
set udg_WaveFase=6
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func001Func021A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func001Func022A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.60 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11081")
set udg_WaveFase=7
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func001Func029A)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11082")
set udg_WaveFase=8
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func001Func034A)
else
endif
if ( Trig_InfinityWaves_Func002C() ) then
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11078")
set udg_WaveFase=5
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func002Func005A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func002Func006A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.50 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(270.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11079")
set udg_WaveFase=6
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func002Func013A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func002Func014A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.35 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11083")
set udg_WaveFase=7
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func002Func021A)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11084")
set udg_WaveFase=8
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func002Func026A)
else
endif
if ( Trig_InfinityWaves_Func003C() ) then
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11080")
set udg_WaveFase=6
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func003Func005A)
call ForForce(GetPlayersAll(), function Trig_InfinityWaves_Func003Func006A)
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.25 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11085")
set udg_WaveFase=7
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func003Func013A)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_11086")
set udg_WaveFase=8
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func003Func018A)
else
endif
if ( Trig_InfinityWaves_Func004C() ) then
set udg_ExpTimerCount=( udg_ExpTimerCount * 0.25 )
call StartTimerBJ(udg_ExpTimer, true, udg_ExpTimerCount)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8165")
set udg_WaveFase=7
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func004Func007A)
call PolledWait(240.00)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8166")
set udg_WaveFase=8
set udg_Gandikap=( udg_Gandikap + 0.06 )
call ForForce(udg_AI, function Trig_InfinityWaves_Func004Func012A)
else
endif
endfunction
function InitTrig_InfinityWaves takes nothing returns nothing
set gg_trg_InfinityWaves=CreateTrigger()
call DisableTrigger(gg_trg_InfinityWaves)
call TriggerAddAction(gg_trg_InfinityWaves, function Trig_InfinityWaves_Actions)
endfunction
function Trig_WeakCreepsUP_Func001A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_WeakCreepsUP_Actions takes nothing returns nothing
call ForForce(udg_AI, function Trig_WeakCreepsUP_Func001A)
endfunction
function InitTrig_WeakCreepsUP takes nothing returns nothing
set gg_trg_WeakCreepsUP=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_WeakCreepsUP, udg_WeakCreepsUPTimer)
call TriggerAddAction(gg_trg_WeakCreepsUP, function Trig_WeakCreepsUP_Actions)
endfunction
function Exp_Plus takes nothing returns nothing
local integer n=GetPlayerId(GetEnumPlayer())
set ExpGo[n]=ExpGo[n] + 1
endfunction
function Trig_Exp_Actions takes nothing returns nothing
call ForForce(udg_PlayersGroup, function Exp_Plus)
endfunction
function InitTrig_Exp takes nothing returns nothing
set gg_trg_Exp=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_Exp, udg_ExpTimer)
call TriggerAddAction(gg_trg_Exp, function Trig_Exp_Actions)
endfunction
function Trig_ExtraEnemyHero_Actions takes nothing returns nothing
local integer n=GetRandomInt(1, 4)
local integer a=GetRandomInt(1, 3)
local integer b
local unit u
local real r
local real x
local real y
if udg_Lvl == 1 then
set b=GetRandomInt(1, 8)
set ExtraEnemyHeroType[1]=0x55303042
set ExtraEnemyHeroType[2]=0x5530304A
set ExtraEnemyHeroType[3]=0x4E303644
set ExtraEnemyHeroType[4]=0x5563726C
elseif udg_Lvl == 2 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x4830304D
set ExtraEnemyHeroType[2]=0x45303031
set ExtraEnemyHeroType[3]=0x4E303644
set ExtraEnemyHeroType[4]=0x5563726C
elseif udg_Lvl == 3 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x45303039
set ExtraEnemyHeroType[2]=0x48303057
set ExtraEnemyHeroType[3]=0x4E303644
set ExtraEnemyHeroType[4]=0x5563726C
elseif udg_Lvl == 4 then
set b=GetRandomInt(1, 6)
set ExtraEnemyHeroType[1]=0x55303054
set ExtraEnemyHeroType[2]=0x48303157
set ExtraEnemyHeroType[3]=0x4E303644
set ExtraEnemyHeroType[4]=0x5563726C
elseif udg_Lvl == 5 then
set b=GetRandomInt(1, 6)
set ExtraEnemyHeroType[1]=0x48303151
set ExtraEnemyHeroType[2]=0x4E303252
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 6 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x45303055
set ExtraEnemyHeroType[2]=0x4E303335
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 7 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x4830315A
set ExtraEnemyHeroType[2]=0x55303057
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 11 then
set b=GetRandomInt(1, 8)
set ExtraEnemyHeroType[1]=0x4830315A
set ExtraEnemyHeroType[2]=0x55303057
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 9 then
set b=GetRandomInt(1, 5)
set ExtraEnemyHeroType[1]=0x48303350
set ExtraEnemyHeroType[2]=0x4E303541
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 12 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x55303132
set ExtraEnemyHeroType[2]=0x48303238
set ExtraEnemyHeroType[3]=0x48626C6D
set ExtraEnemyHeroType[4]=0x4E706C64
elseif udg_Lvl == 13 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x55303142
set ExtraEnemyHeroType[2]=0x48303342
set ExtraEnemyHeroType[3]=0x55656172
set ExtraEnemyHeroType[4]=0x4E303457
elseif udg_Lvl == 21 then
set b=GetRandomInt(1, 2)
set ExtraEnemyHeroType[1]=0x45303042
set ExtraEnemyHeroType[2]=0x4E30354C
set ExtraEnemyHeroType[3]=0x55656172
set ExtraEnemyHeroType[4]=0x4E303457
elseif udg_Lvl == 15 then
set b=GetRandomInt(1, 6)
set ExtraEnemyHeroType[1]=0x4830334E
set ExtraEnemyHeroType[2]=0x4E303632
set ExtraEnemyHeroType[3]=0x55656172
set ExtraEnemyHeroType[4]=0x4E303457
elseif udg_Lvl == 22 then
set b=GetRandomInt(1, 5)
set ExtraEnemyHeroType[1]=0x55646561
set ExtraEnemyHeroType[2]=0x556C6963
set ExtraEnemyHeroType[3]=0x55656172
set ExtraEnemyHeroType[4]=0x4E303457
elseif udg_Lvl == 16 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x55646561
set ExtraEnemyHeroType[2]=0x556C6963
set ExtraEnemyHeroType[3]=0x4E6D616E
set ExtraEnemyHeroType[4]=0x55616E62
elseif udg_Lvl == 23 then
set b=GetRandomInt(1, 6)
set ExtraEnemyHeroType[1]=0x4830334E
set ExtraEnemyHeroType[2]=0x4E303632
set ExtraEnemyHeroType[3]=0x4E6D616E
set ExtraEnemyHeroType[4]=0x55616E62
endif
set x=GetLocationX(udg_SpawnPoints[b])
set y=GetLocationY(udg_SpawnPoints[b])
set u=CreateUnit(AI[a], ExtraEnemyHeroType[n], x, y, 270)
call SetHeroLevel(u, 4 + udg_EnemyHeroLvl, false)
set ExtraEnemyHeroPower=ExtraEnemyHeroPower + 1
call SetHeroStr(u, GetHeroStr(u, false) + ExtraEnemyHeroPower * 2, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + ExtraEnemyHeroPower * 2, true)
call SetHeroInt(u, GetHeroInt(u, false) + ExtraEnemyHeroPower * 2, true)
set r=I2R(ExtraEnemyHeroPower)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + r)
call SetUnitManaRegeneration(u , GetUnitManaRegeneration(u) + r * 0.25)
if ExtraEnemyHeroPower > 4 then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + ( ExtraEnemyHeroPower - 4 ))
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + ( ExtraEnemyHeroPower - 4 ) * 5)
endif
if ExtraEnemyHeroPower > 9 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + ( ExtraEnemyHeroPower - 9 ) * 500)
endif
if udg_Lvl == 2 or udg_Lvl == 12 then
if b <= 2 then
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
else
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
endif
elseif udg_Lvl == 4 or udg_Lvl == 7 then
if b <= 3 then
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
endif
elseif udg_Lvl == 5 or udg_Lvl == 15 then
if b <= 4 then
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
endif
elseif udg_Lvl == 21 then
if b == 1 then
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
else
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
endif
else
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "TRIGSTR_9916")
call PrepareEnemyHero(u)
endfunction
function InitTrig_ExtraEnemyHero takes nothing returns nothing
set gg_trg_ExtraEnemyHero=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_ExtraEnemyHero, udg_ExtraEnemyHero)
call TriggerAddAction(gg_trg_ExtraEnemyHero, function Trig_ExtraEnemyHero_Actions)
endfunction
function Trig_EndlessEnemyHeroes_Func002A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_EndlessEnemyHeroes_Func003C takes nothing returns boolean
if ( not ( udg_Lvl == 1 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func004C takes nothing returns boolean
if ( not ( udg_Lvl == 11 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func005C takes nothing returns boolean
if ( not ( udg_Lvl == 2 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func006C takes nothing returns boolean
if ( not ( udg_Lvl == 12 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func007C takes nothing returns boolean
if ( not ( udg_Lvl == 3 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func008C takes nothing returns boolean
if ( not ( udg_Lvl == 13 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func009C takes nothing returns boolean
if ( not ( udg_Lvl == 4 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func010C takes nothing returns boolean
if ( not ( udg_Lvl == 5 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func011C takes nothing returns boolean
if ( not ( udg_Lvl == 15 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func012C takes nothing returns boolean
if ( not ( udg_Lvl == 16 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func013C takes nothing returns boolean
if ( not ( udg_Lvl == 6 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func014C takes nothing returns boolean
if ( not ( udg_Lvl == 7 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func015C takes nothing returns boolean
if ( not ( udg_Lvl == 9 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func016C takes nothing returns boolean
if ( not ( udg_Lvl == 21 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func017C takes nothing returns boolean
if ( not ( udg_Lvl == 22 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Func018C takes nothing returns boolean
if ( not ( udg_Lvl == 23 ) ) then
return false
endif
return true
endfunction
function Trig_EndlessEnemyHeroes_Actions takes nothing returns nothing
set udg_Gandikap=( udg_Gandikap + 0.03 )
call ForForce(udg_AI, function Trig_EndlessEnemyHeroes_Func002A)
if ( Trig_EndlessEnemyHeroes_Func003C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero1)
else
endif
if ( Trig_EndlessEnemyHeroes_Func004C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero1_Hard)
else
endif
if ( Trig_EndlessEnemyHeroes_Func005C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Up)
else
endif
if ( Trig_EndlessEnemyHeroes_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero2_Hard_Up)
else
endif
if ( Trig_EndlessEnemyHeroes_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero3)
else
endif
if ( Trig_EndlessEnemyHeroes_Func008C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero3_Hard)
else
endif
if ( Trig_EndlessEnemyHeroes_Func009C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero4)
else
endif
if ( Trig_EndlessEnemyHeroes_Func010C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero5)
else
endif
if ( Trig_EndlessEnemyHeroes_Func011C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero5_Hard)
else
endif
if ( Trig_EndlessEnemyHeroes_Func012C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero6_Hard)
else
endif
if ( Trig_EndlessEnemyHeroes_Func013C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero6)
else
endif
if ( Trig_EndlessEnemyHeroes_Func014C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero7)
else
endif
if ( Trig_EndlessEnemyHeroes_Func015C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero9)
else
endif
if ( Trig_EndlessEnemyHeroes_Func016C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero21)
else
endif
if ( Trig_EndlessEnemyHeroes_Func017C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero22)
else
endif
if ( Trig_EndlessEnemyHeroes_Func018C() ) then
call ConditionalTriggerExecute(gg_trg_CreateHero23)
else
endif
endfunction
function InitTrig_EndlessEnemyHeroes takes nothing returns nothing
set gg_trg_EndlessEnemyHeroes=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_EndlessEnemyHeroes, udg_EndlessEnemyHeroes)
call TriggerAddAction(gg_trg_EndlessEnemyHeroes, function Trig_EndlessEnemyHeroes_Actions)
endfunction
function Trig_PingEnemyHeroes_Func001A takes nothing returns nothing
set udg_p3=GetUnitLoc(GetEnumUnit())
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p3, 1.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 100)
endfunction
function Trig_PingEnemyHeroes_Actions takes nothing returns nothing
call ForGroupBJ(udg_EnemyHeroes, function Trig_PingEnemyHeroes_Func001A)
endfunction
function InitTrig_PingEnemyHeroes takes nothing returns nothing
set gg_trg_PingEnemyHeroes=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_PingEnemyHeroes, udg_IncomeTimer)
call TriggerAddAction(gg_trg_PingEnemyHeroes, function Trig_PingEnemyHeroes_Actions)
endfunction
function Trig_RefreshSpawn1_Actions takes nothing returns nothing
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
endfunction
function InitTrig_RefreshSpawn1 takes nothing returns nothing
set gg_trg_RefreshSpawn1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_RefreshSpawn1, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_RefreshSpawn1, function Trig_RefreshSpawn1_Actions)
endfunction
function Trig_RefreshSpawn2_Actions takes nothing returns nothing
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
endfunction
function InitTrig_RefreshSpawn2 takes nothing returns nothing
set gg_trg_RefreshSpawn2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_RefreshSpawn2, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_RefreshSpawn2, function Trig_RefreshSpawn2_Actions)
endfunction
function Trig_RefreshSpawn3_Actions takes nothing returns nothing
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_CrystallHP=( udg_CrystallHP + 0.10 )
call SetPlayerHandicap(Player(PLAYER_NEUTRAL_PASSIVE), udg_CrystallHP)
endfunction
function InitTrig_RefreshSpawn3 takes nothing returns nothing
set gg_trg_RefreshSpawn3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_RefreshSpawn3, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_RefreshSpawn3, function Trig_RefreshSpawn3_Actions)
endfunction
function Trig_S1_Actions takes nothing returns nothing
local unit u
local integer L
local integer L2
local integer a
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=1
loop
exitwhen L > 6
set L2=GetRandomInt(1, 8)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L2], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 3 or udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=1
loop
exitwhen L > 4
set L2=GetRandomInt(1, 8)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L2], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S1 takes nothing returns nothing
set gg_trg_S1=CreateTrigger()
call DisableTrigger(gg_trg_S1)
call TriggerRegisterTimerExpireEvent(gg_trg_S1, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S1, function Trig_S1_Actions)
endfunction
function Trig_SS1_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS1_Actions takes nothing returns nothing
if ( Trig_SS1_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303054, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS1_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303053, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS1_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS1_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS1_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS1_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303551, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_SS1 takes nothing returns nothing
set gg_trg_SS1=CreateTrigger()
call DisableTrigger(gg_trg_SS1)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS1, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS1, function Trig_SS1_Actions)
endfunction
function Trig_SSS1_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func004Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
if ( ( udg_WaveFase == 5 ) ) then
return true
endif
return false
endfunction
function Trig_SSS1_Func004Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func004C takes nothing returns boolean
if ( not Trig_SSS1_Func004Func001C() ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS1_Actions takes nothing returns nothing
if ( Trig_SSS1_Func001C() ) then
if ( Trig_SSS1_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303055, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS1_Func002C() ) then
if ( Trig_SSS1_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303056, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303057, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS1_Func003C() ) then
if ( Trig_SSS1_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS1_Func004C() ) then
if ( Trig_SSS1_Func004Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303057, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS1_Func005C() ) then
if ( Trig_SSS1_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303057, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 8)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SSS1_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_S1)
else
endif
endfunction
function InitTrig_SSS1 takes nothing returns nothing
set gg_trg_SSS1=CreateTrigger()
call DisableTrigger(gg_trg_SSS1)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS1, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS1, function Trig_SSS1_Actions)
endfunction
function Trig_CreateHero1_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Actions takes nothing returns nothing
if ( Trig_CreateHero1_Func001C() ) then
set udg_EnemyHeroType[1]=0x55303042
set udg_EnemyHeroType[2]=0x5530304A
else
endif
if ( Trig_CreateHero1_Func002C() ) then
set udg_EnemyHeroType[1]=0x45303031
set udg_EnemyHeroType[2]=0x4830304D
else
endif
if ( Trig_CreateHero1_Func003C() ) then
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x48303157
else
endif
if ( Trig_CreateHero1_Func004C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero1_Func005C() ) then
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 8)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero1_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303051, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303053, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303054, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303056, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303056, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8583")
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 13184.00, 8577.00)
set udg_SpawnPoints[4]=Location(- 10111.00, 5504.00)
set udg_SpawnPoints[5]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[6]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[7]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[8]=Location(- 8832.00, 12929.00)
endfunction
function InitTrig_CreateHero1 takes nothing returns nothing
set gg_trg_CreateHero1=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero1)
call TriggerAddAction(gg_trg_CreateHero1, function Trig_CreateHero1_Actions)
endfunction
function Trig_BossDropRune_Func002C takes nothing returns boolean
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(8) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(10) ) ) then
return true
endif
if ( ( GetOwningPlayer(GetDyingUnit()) == Player(11) ) ) then
return true
endif
return false
endfunction
function Trig_BossDropRune_Conditions takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not Trig_BossDropRune_Func002C() ) then
return false
endif
return true
endfunction
function Trig_BossDropRune_Func005C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_BossDropRune_Func006C takes nothing returns boolean
if ( not ( udg_n == 2 ) ) then
return false
endif
return true
endfunction
function Trig_BossDropRune_Func007C takes nothing returns boolean
if ( not ( udg_n == 3 ) ) then
return false
endif
return true
endfunction
function Trig_BossDropRune_Func008C takes nothing returns boolean
if ( not ( udg_n == 4 ) ) then
return false
endif
return true
endfunction
function Trig_BossDropRune_Actions takes nothing returns nothing
set udg_n=GetRandomInt(1, 4)
set udg_p=GetUnitLoc(GetDyingUnit())
if ( Trig_BossDropRune_Func005C() ) then
call CreateItemLoc(0x49303144, udg_p)
else
endif
if ( Trig_BossDropRune_Func006C() ) then
call CreateItemLoc(0x49303145, udg_p)
else
endif
if ( Trig_BossDropRune_Func007C() ) then
call CreateItemLoc(0x49303146, udg_p)
else
endif
if ( Trig_BossDropRune_Func008C() ) then
call CreateItemLoc(0x49303147, udg_p)
else
endif
call RemoveLocation(udg_p)
endfunction
function InitTrig_BossDropRune takes nothing returns nothing
set gg_trg_BossDropRune=CreateTrigger()
call DisableTrigger(gg_trg_BossDropRune)
call TriggerRegisterAnyUnitEventBJ(gg_trg_BossDropRune, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_BossDropRune, Condition(function Trig_BossDropRune_Conditions))
call TriggerAddAction(gg_trg_BossDropRune, function Trig_BossDropRune_Actions)
endfunction
function Trig_RuneActivate1_Func001C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49303147 ) ) then
return false
endif
if ( not ( RectContainsUnit(gg_rct_Event_3, GetManipulatingUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_RuneActivate1_Func002C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49303144 ) ) then
return false
endif
if ( not ( RectContainsUnit(gg_rct_Event_2, GetManipulatingUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_RuneActivate1_Func003C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49303145 ) ) then
return false
endif
if ( not ( RectContainsUnit(gg_rct_Event_1, GetManipulatingUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_RuneActivate1_Func004C takes nothing returns boolean
if ( not ( GetItemTypeId(GetManipulatedItem()) == 0x49303146 ) ) then
return false
endif
if ( not ( RectContainsUnit(gg_rct_Event_4, GetManipulatingUnit()) == true ) ) then
return false
endif
return true
endfunction
function Trig_RuneActivate1_Actions takes nothing returns nothing
if ( Trig_RuneActivate1_Func001C() ) then
call RemoveItem(GetManipulatedItem())
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 20.00, "TRIGSTR_2507")
set udg_n=GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))
set udg_ItemBonusDMG[udg_n]=( udg_ItemBonusDMG[udg_n] + 50.00 )
call AddSpecialEffectTargetUnitBJ("origin", GetManipulatingUnit(), "Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if ( Trig_RuneActivate1_Func002C() ) then
call RemoveItem(GetManipulatedItem())
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 20.00, "TRIGSTR_2504")
call AdjustPlayerStateBJ(100, GetOwningPlayer(GetManipulatingUnit()), PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped(300, GetManipulatingUnit(), true)
call AddSpecialEffectTargetUnitBJ("origin", GetManipulatingUnit(), "Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if ( Trig_RuneActivate1_Func003C() ) then
call RemoveItem(GetManipulatedItem())
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 20.00, "TRIGSTR_2505")
call ModifyHeroStat(bj_HEROSTAT_STR, GetManipulatingUnit(), bj_MODIFYMETHOD_ADD, 5)
call AddSpecialEffectTargetUnitBJ("origin", GetManipulatingUnit(), "Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if ( Trig_RuneActivate1_Func004C() ) then
call RemoveItem(GetManipulatedItem())
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), 20.00, "TRIGSTR_2506")
call ModifyHeroStat(bj_HEROSTAT_INT, GetManipulatingUnit(), bj_MODIFYMETHOD_ADD, 5)
call AddSpecialEffectTargetUnitBJ("origin", GetManipulatingUnit(), "Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
endfunction
function InitTrig_RuneActivate1 takes nothing returns nothing
set gg_trg_RuneActivate1=CreateTrigger()
call DisableTrigger(gg_trg_RuneActivate1)
call TriggerRegisterAnyUnitEventBJ(gg_trg_RuneActivate1, EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_RuneActivate1, function Trig_RuneActivate1_Actions)
endfunction
function Trig_Hard_S1_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
if udg_WaveFase == 3 or udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_Hard_S1 takes nothing returns nothing
set gg_trg_Hard_S1=CreateTrigger()
call DisableTrigger(gg_trg_Hard_S1)
call TriggerRegisterTimerExpireEvent(gg_trg_Hard_S1, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_Hard_S1, function Trig_Hard_S1_Actions)
endfunction
function Trig_Hard_SS1_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS1_Actions takes nothing returns nothing
if ( Trig_Hard_SS1_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS1_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303053, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS1_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303053, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS1_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS1_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 8)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SS1_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 8)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
endfunction
function InitTrig_Hard_SS1 takes nothing returns nothing
set gg_trg_Hard_SS1=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SS1)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SS1, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SS1, function Trig_Hard_SS1_Actions)
endfunction
function Trig_Hard_SSS1_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func004Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
if ( ( udg_WaveFase == 5 ) ) then
return true
endif
return false
endfunction
function Trig_Hard_SSS1_Func004Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func004C takes nothing returns boolean
if ( not Trig_Hard_SSS1_Func004Func001C() ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS1_Actions takes nothing returns nothing
if ( Trig_Hard_SSS1_Func001C() ) then
if ( Trig_Hard_SSS1_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS1_Func002C() ) then
if ( Trig_Hard_SSS1_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS1_Func003C() ) then
if ( Trig_Hard_SSS1_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS1_Func004C() ) then
if ( Trig_Hard_SSS1_Func004Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS1_Func005C() ) then
if ( Trig_Hard_SSS1_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 8)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SSS1_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_Hard_S1)
else
endif
endfunction
function InitTrig_Hard_SSS1 takes nothing returns nothing
set gg_trg_Hard_SSS1=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SSS1)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SSS1, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_Hard_SSS1, function Trig_Hard_SSS1_Actions)
endfunction
function Trig_CreateHero1_Hard_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero1_Hard_Actions takes nothing returns nothing
if ( Trig_CreateHero1_Hard_Func001C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero1_Hard_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero1_Hard_Func003C() ) then
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
else
endif
if ( Trig_CreateHero1_Hard_Func004C() ) then
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
else
endif
if ( Trig_CreateHero1_Hard_Func005C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 8)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero1_Hard_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=16
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303056, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Hard_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=22
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Hard_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Hard_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Hard_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero1_Hard_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8593")
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 13184.00, 8577.00)
set udg_SpawnPoints[4]=Location(- 10111.00, 5504.00)
set udg_SpawnPoints[5]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[6]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[7]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[8]=Location(- 8832.00, 12929.00)
endfunction
function InitTrig_CreateHero1_Hard takes nothing returns nothing
set gg_trg_CreateHero1_Hard=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero1_Hard)
call TriggerAddAction(gg_trg_CreateHero1_Hard, function Trig_CreateHero1_Hard_Actions)
endfunction
function Trig_S2_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set L=L + 1
endloop
elseif udg_WaveFase == 3 or udg_WaveFase == 4 or udg_WaveFase == 5 then
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set L=L + 1
endloop
elseif udg_WaveFase >= 6 then
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S2 takes nothing returns nothing
set gg_trg_S2=CreateTrigger()
call DisableTrigger(gg_trg_S2)
call TriggerRegisterTimerExpireEvent(gg_trg_S2, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S2, function Trig_S2_Actions)
endfunction
function Trig_SS2_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS2_Func002Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 2 ) ) then
return true
endif
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
return false
endfunction
function Trig_SS2_Func002C takes nothing returns boolean
if ( not Trig_SS2_Func002Func001C() ) then
return false
endif
return true
endfunction
function Trig_SS2_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS2_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase >= 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS2_Actions takes nothing returns nothing
if ( Trig_SS2_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS2_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS2_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS2_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_SS2 takes nothing returns nothing
set gg_trg_SS2=CreateTrigger()
call DisableTrigger(gg_trg_SS2)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS2, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS2, function Trig_SS2_Actions)
endfunction
function Trig_SSS2_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func002Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 2 ) ) then
return true
endif
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
return false
endfunction
function Trig_SSS2_Func002Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func002C takes nothing returns boolean
if ( not Trig_SSS2_Func002Func001C() ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func003Func002C takes nothing returns boolean
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
if ( ( udg_WaveFase == 5 ) ) then
return true
endif
return false
endfunction
function Trig_SSS2_Func003C takes nothing returns boolean
if ( not Trig_SSS2_Func003Func002C() ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func004Func003C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Func005C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS2_Actions takes nothing returns nothing
if ( Trig_SSS2_Func001C() ) then
if ( Trig_SSS2_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS2_Func002C() ) then
if ( Trig_SSS2_Func002Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS2_Func003C() ) then
if ( Trig_SSS2_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS2_Func004C() ) then
if ( Trig_SSS2_Func004Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303436, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 2)
if ( Trig_SSS2_Func004Func003C() ) then
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS2_Func005C() ) then
call ConditionalTriggerExecute(gg_trg_S2)
else
endif
endfunction
function InitTrig_SSS2 takes nothing returns nothing
set gg_trg_SSS2=CreateTrigger()
call DisableTrigger(gg_trg_SSS2)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS2, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS2, function Trig_SSS2_Actions)
endfunction
function Trig_CreateHero2_Up_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Up_Actions takes nothing returns nothing
if ( Trig_CreateHero2_Up_Func001C() ) then
set udg_EnemyHeroType[1]=0x45303031
set udg_EnemyHeroType[2]=0x4830304D
else
endif
if ( Trig_CreateHero2_Up_Func002C() ) then
set udg_EnemyHeroType[1]=0x48303151
set udg_EnemyHeroType[2]=0x4E303252
else
endif
if ( Trig_CreateHero2_Up_Func003C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero2_Up_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero2_Up_Func005C() ) then
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 2)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
if ( Trig_CreateHero2_Up_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303144, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Up_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Up_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Up_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Up_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Up_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8588")
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHero2_Up takes nothing returns nothing
set gg_trg_CreateHero2_Up=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero2_Up)
call TriggerAddAction(gg_trg_CreateHero2_Up, function Trig_CreateHero2_Up_Actions)
endfunction
function Trig_CreateHero2_Down_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Down_Actions takes nothing returns nothing
if ( Trig_CreateHero2_Down_Func001C() ) then
set udg_EnemyHeroType[1]=0x45303031
set udg_EnemyHeroType[2]=0x4830304D
else
endif
if ( Trig_CreateHero2_Down_Func002C() ) then
set udg_EnemyHeroType[1]=0x48303151
set udg_EnemyHeroType[2]=0x4E303252
else
endif
if ( Trig_CreateHero2_Down_Func003C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero2_Down_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero2_Down_Func005C() ) then
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(3, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
if ( Trig_CreateHero2_Down_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303144, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Down_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Down_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Down_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Down_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Down_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3773")
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHero2_Down takes nothing returns nothing
set gg_trg_CreateHero2_Down=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero2_Down)
call TriggerAddAction(gg_trg_CreateHero2_Down, function Trig_CreateHero2_Down_Actions)
endfunction
function Trig_Event2_Func001A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Event2_Func011A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Event2_Func021A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Event2_Func031A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Event2_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(gg_rct_E1, function Trig_Event2_Func001A)
set udg_p=GetRectCenter(gg_rct_E1)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(- 1075.00, 13153.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E2, function Trig_Event2_Func011A)
set udg_p=GetRectCenter(gg_rct_E2)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(- 894.00, 8103.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E3, function Trig_Event2_Func021A)
set udg_p=GetRectCenter(gg_rct_E3)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(5632.00, 8192.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E4, function Trig_Event2_Func031A)
set udg_p=GetRectCenter(gg_rct_E4)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(5504.00, 13055.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x75303043, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
endfunction
function InitTrig_Event2 takes nothing returns nothing
set gg_trg_Event2=CreateTrigger()
call DisableTrigger(gg_trg_Event2)
call TriggerAddAction(gg_trg_Event2, function Trig_Event2_Actions)
endfunction
function Trig_MidWay2_Conditions takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackGroup) == false ) ) then
return false
endif
return true
endfunction
function Trig_MidWay2_Func001C takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackGroup2) == true ) ) then
return false
endif
return true
endfunction
function Trig_MidWay2_Func002C takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackGroup3) == true ) ) then
return false
endif
return true
endfunction
function Trig_MidWay2_Actions takes nothing returns nothing
if ( Trig_MidWay2_Func001C() ) then
call GroupRemoveUnitSimple(GetEnteringUnit(), udg_AttackGroup2)
call GroupAddUnitSimple(GetEnteringUnit(), udg_AttackGroup)
else
endif
if ( Trig_MidWay2_Func002C() ) then
call GroupRemoveUnitSimple(GetEnteringUnit(), udg_AttackGroup3)
call GroupAddUnitSimple(GetEnteringUnit(), udg_AttackGroup)
else
endif
endfunction
function InitTrig_MidWay2 takes nothing returns nothing
set gg_trg_MidWay2=CreateTrigger()
call DisableTrigger(gg_trg_MidWay2)
call TriggerRegisterEnterRectSimple(gg_trg_MidWay2, gg_rct_Lvl2MidUp)
call TriggerRegisterEnterRectSimple(gg_trg_MidWay2, gg_rct_Lvl2MidDown)
call TriggerAddCondition(gg_trg_MidWay2, Condition(function Trig_MidWay2_Conditions))
call TriggerAddAction(gg_trg_MidWay2, function Trig_MidWay2_Actions)
endfunction
function Trig_Hard_S2_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
if udg_WaveFase == 1 then
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set L=L + 1
endloop
endif
if udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set L=L + 1
endloop
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 2
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint3)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_Hard_S2 takes nothing returns nothing
set gg_trg_Hard_S2=CreateTrigger()
call DisableTrigger(gg_trg_Hard_S2)
call TriggerRegisterTimerExpireEvent(gg_trg_Hard_S2, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_Hard_S2, function Trig_Hard_S2_Actions)
endfunction
function Trig_Hard_SS2_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS2_Func002Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 2 ) ) then
return true
endif
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
return false
endfunction
function Trig_Hard_SS2_Func002C takes nothing returns boolean
if ( not Trig_Hard_SS2_Func002Func001C() ) then
return false
endif
return true
endfunction
function Trig_Hard_SS2_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS2_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase >= 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS2_Actions takes nothing returns nothing
if ( Trig_Hard_SS2_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS2_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS2_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS2_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_Hard_SS2 takes nothing returns nothing
set gg_trg_Hard_SS2=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SS2)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SS2, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SS2, function Trig_Hard_SS2_Actions)
endfunction
function Trig_Hard_SSS2_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func002Func002C takes nothing returns boolean
if ( ( udg_WaveFase == 2 ) ) then
return true
endif
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
return false
endfunction
function Trig_Hard_SSS2_Func002C takes nothing returns boolean
if ( not Trig_Hard_SSS2_Func002Func002C() ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func003Func003C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func004Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func004Func004C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase >= 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Func005C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS2_Actions takes nothing returns nothing
if ( Trig_Hard_SSS2_Func001C() ) then
if ( Trig_Hard_SSS2_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS2_Func002C() ) then
if ( Trig_Hard_SSS2_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS2_Func003C() ) then
if ( Trig_Hard_SSS2_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303336, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303336, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 2)
if ( Trig_Hard_SSS2_Func003Func003C() ) then
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_Hard_SSS2_Func004C() ) then
if ( Trig_Hard_SSS2_Func004Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303336, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303336, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 2)
if ( Trig_Hard_SSS2_Func004Func004C() ) then
call CreateNUnitsAtLoc(1, 0x6E303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(1, 2)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call CreateNUnitsAtLoc(1, 0x6E303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetRandomInt(3, 4)], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_Hard_SSS2_Func005C() ) then
call ConditionalTriggerExecute(gg_trg_Hard_S2)
else
endif
endfunction
function InitTrig_Hard_SSS2 takes nothing returns nothing
set gg_trg_Hard_SSS2=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SSS2)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SSS2, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_Hard_SSS2, function Trig_Hard_SSS2_Actions)
endfunction
function Trig_CreateHero2_Hard_Up_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Up_Actions takes nothing returns nothing
if ( Trig_CreateHero2_Hard_Up_Func001C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero2_Hard_Up_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
else
endif
if ( Trig_CreateHero2_Hard_Up_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
else
endif
if ( Trig_CreateHero2_Hard_Up_Func004C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
else
endif
if ( Trig_CreateHero2_Hard_Up_Func005C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x4E303457
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 2)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
if ( Trig_CreateHero2_Hard_Up_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Up_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Up_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Up_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Up_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Up_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8597")
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHero2_Hard_Up takes nothing returns nothing
set gg_trg_CreateHero2_Hard_Up=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero2_Hard_Up)
call TriggerAddAction(gg_trg_CreateHero2_Hard_Up, function Trig_CreateHero2_Hard_Up_Actions)
endfunction
function Trig_CreateHero2_Hard_Down_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero2_Hard_Down_Actions takes nothing returns nothing
if ( Trig_CreateHero2_Hard_Down_Func001C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero2_Hard_Down_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
else
endif
if ( Trig_CreateHero2_Hard_Down_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
else
endif
if ( Trig_CreateHero2_Hard_Down_Func004C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
else
endif
if ( Trig_CreateHero2_Hard_Down_Func005C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x4E303457
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(3, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
if ( Trig_CreateHero2_Hard_Down_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Down_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Down_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Down_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Down_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero2_Hard_Down_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_4081")
set udg_SpawnPoints[1]=Location(- 2639.00, 12118.00)
set udg_SpawnPoints[2]=Location(7166.00, 12222.00)
set udg_SpawnPoints[3]=Location(- 2674.00, 9077.00)
set udg_SpawnPoints[4]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHero2_Hard_Down takes nothing returns nothing
set gg_trg_CreateHero2_Hard_Down=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero2_Hard_Down)
call TriggerAddAction(gg_trg_CreateHero2_Hard_Down, function Trig_CreateHero2_Hard_Down_Actions)
endfunction
function Trig_Hard_Event2_Func001A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Hard_Event2_Func010A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Hard_Event2_Func019A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Hard_Event2_Func028A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Hard_Event2_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(gg_rct_E1, function Trig_Hard_Event2_Func001A)
set udg_p=GetRectCenter(gg_rct_E1)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(- 1075.00, 13153.00)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E2, function Trig_Hard_Event2_Func010A)
set udg_p=GetRectCenter(gg_rct_E2)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(- 894.00, 8103.00)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E3, function Trig_Hard_Event2_Func019A)
set udg_p=GetRectCenter(gg_rct_E3)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(5632.00, 8192.00)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
call EnumDestructablesInRectAll(gg_rct_E4, function Trig_Hard_Event2_Func028A)
set udg_p=GetRectCenter(gg_rct_E4)
call PingMinimapLocForForceEx(GetPlayersAll(), udg_p, 5.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 0.00, 0.00)
call RemoveLocation(udg_p)
set udg_p=Location(5504.00, 13055.00)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call RemoveLocation(udg_p)
endfunction
function InitTrig_Hard_Event2 takes nothing returns nothing
set gg_trg_Hard_Event2=CreateTrigger()
call DisableTrigger(gg_trg_Hard_Event2)
call TriggerAddAction(gg_trg_Hard_Event2, function Trig_Hard_Event2_Actions)
endfunction
function Trig_S3_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S3 takes nothing returns nothing
set gg_trg_S3=CreateTrigger()
call DisableTrigger(gg_trg_S3)
call TriggerRegisterTimerExpireEvent(gg_trg_S3, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S3, function Trig_S3_Actions)
endfunction
function Trig_SS3_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS3_Actions takes nothing returns nothing
if ( Trig_SS3_Func001C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS3_Func002C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS3_Func003C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS3_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS3_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS3_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
endfunction
function InitTrig_SS3 takes nothing returns nothing
set gg_trg_SS3=CreateTrigger()
call DisableTrigger(gg_trg_SS3)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS3, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS3, function Trig_SS3_Actions)
endfunction
function Trig_SSS3_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func006Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS3_Actions takes nothing returns nothing
if ( Trig_SSS3_Func001C() ) then
if ( Trig_SSS3_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303157, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS3_Func002C() ) then
if ( Trig_SSS3_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303144, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS3_Func003C() ) then
if ( Trig_SSS3_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303144, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS3_Func004C() ) then
if ( Trig_SSS3_Func004Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303134, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS3_Func005C() ) then
if ( Trig_SSS3_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303134, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS3_Func006C() ) then
if ( Trig_SSS3_Func006Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303134, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SSS3_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_S3)
else
endif
endfunction
function InitTrig_SSS3 takes nothing returns nothing
set gg_trg_SSS3=CreateTrigger()
call DisableTrigger(gg_trg_SSS3)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS3, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS3, function Trig_SSS3_Actions)
endfunction
function Trig_CreateHero3_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Actions takes nothing returns nothing
if ( Trig_CreateHero3_Func001C() ) then
set udg_EnemyHeroType[1]=0x48303151
set udg_EnemyHeroType[2]=0x4E303252
else
endif
if ( Trig_CreateHero3_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x48303157
else
endif
if ( Trig_CreateHero3_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303335
set udg_EnemyHeroType[2]=0x45303055
else
endif
if ( Trig_CreateHero3_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero3_Func005C() ) then
set udg_EnemyHeroType[1]=0x4E303457
set udg_EnemyHeroType[2]=0x48303157
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero3_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303137, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303143, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8589")
set udg_SpawnPoints[1]=Location(- 12854.00, - 10937.00)
set udg_SpawnPoints[2]=Location(- 12854.00, - 13134.00)
set udg_SpawnPoints[3]=Location(- 3505.00, - 10929.00)
set udg_SpawnPoints[4]=Location(- 3505.00, - 13134.00)
endfunction
function InitTrig_CreateHero3 takes nothing returns nothing
set gg_trg_CreateHero3=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero3)
call TriggerAddAction(gg_trg_CreateHero3, function Trig_CreateHero3_Actions)
endfunction
function Trig_Event3_Func002A takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetEnumPlayer())
set ExpGo[udg_n - 1]=ExpGo[udg_n - 1] + 50
endfunction
function Trig_Event3_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_4624")
call ForForce(udg_PlayersGroup, function Trig_Event3_Func002A)
endfunction
function InitTrig_Event3 takes nothing returns nothing
set gg_trg_Event3=CreateTrigger()
call DisableTrigger(gg_trg_Event3)
call TriggerRegisterUnitEvent(gg_trg_Event3, gg_unit_u00O_0224, EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Event3, function Trig_Event3_Actions)
endfunction
function Trig_Hard_S3_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set L=L + 1
endloop
if udg_WaveFase == 1 then
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
elseif udg_WaveFase == 2 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 4
set B=1
loop
exitwhen B > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=B + 1
endloop
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_Hard_S3 takes nothing returns nothing
set gg_trg_Hard_S3=CreateTrigger()
call DisableTrigger(gg_trg_Hard_S3)
call TriggerRegisterTimerExpireEvent(gg_trg_Hard_S3, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_Hard_S3, function Trig_Hard_S3_Actions)
endfunction
function Trig_Hard_SS3_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS3_Actions takes nothing returns nothing
if ( Trig_Hard_SS3_Func001C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS3_Func002C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS3_Func003C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SS3_Func004C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SS3_Func005C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SS3_Func006C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
endfunction
function InitTrig_Hard_SS3 takes nothing returns nothing
set gg_trg_Hard_SS3=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SS3)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SS3, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SS3, function Trig_Hard_SS3_Actions)
endfunction
function Trig_Hard_SSS3_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func004Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
if ( ( udg_WaveFase == 5 ) ) then
return true
endif
return false
endfunction
function Trig_Hard_SSS3_Func004Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func004C takes nothing returns boolean
if ( not Trig_Hard_SSS3_Func004Func001C() ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS3_Actions takes nothing returns nothing
if ( Trig_Hard_SSS3_Func001C() ) then
if ( Trig_Hard_SSS3_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS3_Func002C() ) then
if ( Trig_Hard_SSS3_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SSS3_Func003C() ) then
if ( Trig_Hard_SSS3_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SSS3_Func004C() ) then
if ( Trig_Hard_SSS3_Func004Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SSS3_Func005C() ) then
if ( Trig_Hard_SSS3_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_Hard_SSS3_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_Hard_S3)
else
endif
endfunction
function InitTrig_Hard_SSS3 takes nothing returns nothing
set gg_trg_Hard_SSS3=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SSS3)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SSS3, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_Hard_SSS3, function Trig_Hard_SSS3_Actions)
endfunction
function Trig_CreateHero3_Hard_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero3_Hard_Actions takes nothing returns nothing
if ( Trig_CreateHero3_Hard_Func001C() ) then
set udg_EnemyHeroType[1]=0x55303142
set udg_EnemyHeroType[2]=0x48303342
else
endif
if ( Trig_CreateHero3_Hard_Func002C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
else
endif
if ( Trig_CreateHero3_Hard_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E30354C
set udg_EnemyHeroType[2]=0x45303042
else
endif
if ( Trig_CreateHero3_Hard_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x4E303457
else
endif
if ( Trig_CreateHero3_Hard_Func005C() ) then
set udg_EnemyHeroType[1]=0x5530304B
set udg_EnemyHeroType[2]=0x48303349
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero3_Hard_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303052, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303143, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Hard_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Hard_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Hard_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Hard_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero3_Hard_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_135")
set udg_SpawnPoints[1]=Location(- 12854.00, - 10937.00)
set udg_SpawnPoints[2]=Location(- 12854.00, - 13134.00)
set udg_SpawnPoints[3]=Location(- 3505.00, - 10929.00)
set udg_SpawnPoints[4]=Location(- 3505.00, - 13134.00)
endfunction
function InitTrig_CreateHero3_Hard takes nothing returns nothing
set gg_trg_CreateHero3_Hard=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero3_Hard)
call TriggerAddAction(gg_trg_CreateHero3_Hard, function Trig_CreateHero3_Hard_Actions)
endfunction
function Trig_SkillBoss3_Hard_Conditions takes nothing returns boolean
if ( not ( GetUnitLifePercent(udg_Boss) <= 40.00 ) ) then
return false
endif
return true
endfunction
function Trig_SkillBoss3_Hard_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_SkillBoss3_HardSummon)
call SetUnitInvulnerable(udg_Boss, true)
call PauseUnit(udg_Boss, true)
call UnitAddAbility(udg_Boss, 0x4130474E)
call SetUnitAnimation(udg_Boss, "spell")
call StartTimerBJ(udg_BossTimer, true, 1.50)
call PolledWait(18.10)
call PauseTimer(udg_BossTimer)
call ResetUnitAnimation(udg_Boss)
call UnitRemoveAbility(udg_Boss, 0x4130474E)
call SetUnitInvulnerable(udg_Boss, false)
call PauseUnit(udg_Boss, false)
call DestroyTrigger(gg_trg_SkillBoss3_HardSummon)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_SkillBoss3_Hard takes nothing returns nothing
set gg_trg_SkillBoss3_Hard=CreateTrigger()
call DisableTrigger(gg_trg_SkillBoss3_Hard)
call TriggerRegisterTimerExpireEvent(gg_trg_SkillBoss3_Hard, udg_IncomeTimer)
call TriggerAddCondition(gg_trg_SkillBoss3_Hard, Condition(function Trig_SkillBoss3_Hard_Conditions))
call TriggerAddAction(gg_trg_SkillBoss3_Hard, function Trig_SkillBoss3_Hard_Actions)
endfunction
function Trig_SkillBoss3_HardSummon_Actions takes nothing returns nothing
call SetUnitAnimation(udg_Boss, "spell")
set udg_p2=GetUnitLoc(udg_Boss)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x6E303144, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x6E303143, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x75303137, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_p=PolarProjectionBJ(udg_p2, GetRandomReal(50.00, 150.00), GetRandomDirectionDeg())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", udg_p))
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endfunction
function InitTrig_SkillBoss3_HardSummon takes nothing returns nothing
set gg_trg_SkillBoss3_HardSummon=CreateTrigger()
call DisableTrigger(gg_trg_SkillBoss3_HardSummon)
call TriggerRegisterTimerExpireEvent(gg_trg_SkillBoss3_HardSummon, udg_BossTimer)
call TriggerAddAction(gg_trg_SkillBoss3_HardSummon, function Trig_SkillBoss3_HardSummon_Actions)
endfunction
function Trig_Hard_Event3_Func002A takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetEnumPlayer())
set ExpGo[udg_n - 1]=ExpGo[udg_n - 1] + 100
endfunction
function Trig_Hard_Event3_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_139")
call ForForce(udg_PlayersGroup, function Trig_Hard_Event3_Func002A)
endfunction
function InitTrig_Hard_Event3 takes nothing returns nothing
set gg_trg_Hard_Event3=CreateTrigger()
call DisableTrigger(gg_trg_Hard_Event3)
call TriggerRegisterUnitEvent(gg_trg_Hard_Event3, gg_unit_u00O_0224, EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Hard_Event3, function Trig_Hard_Event3_Actions)
endfunction
function Trig_S4_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=4
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303053, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303053, udg_SpawnPoints[4], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
elseif udg_WaveFase == 3 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303053, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303053, udg_SpawnPoints[4], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=1
loop
exitwhen L > 2
set B=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=GetRandomInt(4, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase == 4 or udg_WaveFase == 5 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303338, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303338, udg_SpawnPoints[4], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=1
loop
exitwhen L > 2
set B=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=GetRandomInt(4, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase >= 6 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303338, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303338, udg_SpawnPoints[4], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=1
loop
exitwhen L > 2
set B=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334F, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set B=GetRandomInt(4, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334F, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S4 takes nothing returns nothing
set gg_trg_S4=CreateTrigger()
call DisableTrigger(gg_trg_S4)
call TriggerRegisterTimerExpireEvent(gg_trg_S4, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S4, function Trig_S4_Actions)
endfunction
function Trig_SS4_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS4_Actions takes nothing returns nothing
if ( Trig_SS4_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS4_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS4_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS4_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS4_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS4_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303234, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
endfunction
function InitTrig_SS4 takes nothing returns nothing
set gg_trg_SS4=CreateTrigger()
call DisableTrigger(gg_trg_SS4)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS4, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS4, function Trig_SS4_Actions)
endfunction
function Trig_SSS4_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func003Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
return false
endfunction
function Trig_SSS4_Func003Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func003C takes nothing returns boolean
if ( not Trig_SSS4_Func003Func001C() ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS4_Actions takes nothing returns nothing
if ( Trig_SSS4_Func001C() ) then
if ( Trig_SSS4_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS4_Func002C() ) then
if ( Trig_SSS4_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS4_Func003C() ) then
if ( Trig_SSS4_Func003Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS4_Func004C() ) then
if ( Trig_SSS4_Func004Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS4_Func005C() ) then
if ( Trig_SSS4_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E30345A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(4, 6)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS4_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_S4)
else
endif
endfunction
function InitTrig_SSS4 takes nothing returns nothing
set gg_trg_SSS4=CreateTrigger()
call DisableTrigger(gg_trg_SSS4)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS4, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SSS4, function Trig_SSS4_Actions)
endfunction
function Trig_CreateHero4_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func030C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func031C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func032C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func033C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func034C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Func035C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero4_Actions takes nothing returns nothing
if ( Trig_CreateHero4_Func001C() ) then
set udg_EnemyHeroType[1]=0x48303151
set udg_EnemyHeroType[2]=0x4E303252
else
endif
if ( Trig_CreateHero4_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x48303157
else
endif
if ( Trig_CreateHero4_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303335
set udg_EnemyHeroType[2]=0x45303055
else
endif
if ( Trig_CreateHero4_Func004C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero4_Func005C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 2 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 3)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero4_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303551, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(1, 2)
set udg_p2=udg_SpawnPoints[GetRandomInt(4, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call SetUnitManaPercentBJ(GetLastCreatedUnit(), 100)
if ( Trig_CreateHero4_Func030C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func031C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func032C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func033C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303551, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func034C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero4_Func035C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p2)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8590")
set udg_SpawnPoints[1]=Location(- 9886.00, - 5388.00)
set udg_SpawnPoints[2]=Location(- 9784.00, - 1915.00)
set udg_SpawnPoints[3]=Location(- 8562.00, 308.00)
set udg_SpawnPoints[4]=Location(- 11928.00, 1304.00)
set udg_SpawnPoints[5]=Location(- 11622.00, - 2007.00)
set udg_SpawnPoints[6]=Location(- 12975.00, - 4100.00)
endfunction
function InitTrig_CreateHero4 takes nothing returns nothing
set gg_trg_CreateHero4=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero4)
call TriggerAddAction(gg_trg_CreateHero4, function Trig_CreateHero4_Actions)
endfunction
function Trig_S5_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=7
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S5 takes nothing returns nothing
set gg_trg_S5=CreateTrigger()
call DisableTrigger(gg_trg_S5)
call TriggerRegisterTimerExpireEvent(gg_trg_S5, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S5, function Trig_S5_Actions)
endfunction
function Trig_SS5_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS5_Actions takes nothing returns nothing
if ( Trig_SS5_Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS5_Func002C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS5_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS5_Func004C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS5_Func005C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS5_Func006C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_SS5 takes nothing returns nothing
set gg_trg_SS5=CreateTrigger()
call DisableTrigger(gg_trg_SS5)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS5, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS5, function Trig_SS5_Actions)
endfunction
function Trig_SSS5_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func003Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 3 ) ) then
return true
endif
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
return false
endfunction
function Trig_SSS5_Func003Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func003C takes nothing returns boolean
if ( not Trig_SSS5_Func003Func001C() ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS5_Actions takes nothing returns nothing
if ( Trig_SSS5_Func001C() ) then
if ( Trig_SSS5_Func001Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303137, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303137, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303142, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303142, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
endif
else
endif
if ( Trig_SSS5_Func002C() ) then
if ( Trig_SSS5_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS5_Func003C() ) then
if ( Trig_SSS5_Func003Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS5_Func004C() ) then
if ( Trig_SSS5_Func004Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS5_Func005C() ) then
if ( Trig_SSS5_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303454, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS5_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_S5)
else
endif
endfunction
function InitTrig_SSS5 takes nothing returns nothing
set gg_trg_SSS5=CreateTrigger()
call DisableTrigger(gg_trg_SSS5)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS5, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SSS5, function Trig_SSS5_Actions)
endfunction
function Trig_CreateHero5_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase >= 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func026C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func027C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Func028C takes nothing returns boolean
if ( not ( udg_WaveFase >= 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Actions takes nothing returns nothing
if ( Trig_CreateHero5_Func001C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x48303157
set udg_EnemyHeroType[3]=0x4830315A
set udg_EnemyHeroType[4]=0x48303157
set udg_EnemyHeroType[5]=0x48303238
set udg_EnemyHeroType[6]=0x55303132
else
endif
if ( Trig_CreateHero5_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
set udg_EnemyHeroType[3]=0x55303132
set udg_EnemyHeroType[4]=0x48303238
set udg_EnemyHeroType[5]=0x4E303541
set udg_EnemyHeroType[6]=0x48303350
else
endif
if ( Trig_CreateHero5_Func003C() ) then
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
set udg_EnemyHeroType[3]=0x48303350
set udg_EnemyHeroType[4]=0x4E303541
set udg_EnemyHeroType[5]=0x4E30354C
set udg_EnemyHeroType[6]=0x45303042
else
endif
if ( Trig_CreateHero5_Func004C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
set udg_EnemyHeroType[3]=0x45303042
set udg_EnemyHeroType[4]=0x4E30354C
set udg_EnemyHeroType[5]=0x4E303457
set udg_EnemyHeroType[6]=0x4E303457
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 6)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero5_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303055, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(1, 6)
set udg_p2=udg_SpawnPoints[GetRandomInt(5, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call SetUnitManaPercentBJ(GetLastCreatedUnit(), 100)
if ( Trig_CreateHero5_Func026C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303055, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Func027C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303058, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Func028C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p2)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8592")
set udg_SpawnPoints[1]=Location(- 3138.00, 3475.00)
set udg_SpawnPoints[2]=Location(2623.00, 3475.00)
set udg_SpawnPoints[3]=Location(- 3343.00, - 1012.00)
set udg_SpawnPoints[4]=Location(2832.00, - 1012.00)
set udg_SpawnPoints[5]=Location(- 3341.00, 6029.00)
set udg_SpawnPoints[6]=Location(2821.00, 6029.00)
set udg_SpawnPoints[7]=Location(- 3394.00, 1592.00)
set udg_SpawnPoints[8]=Location(2898.00, 1592.00)
endfunction
function InitTrig_CreateHero5 takes nothing returns nothing
set gg_trg_CreateHero5=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero5)
call TriggerAddAction(gg_trg_CreateHero5, function Trig_CreateHero5_Actions)
endfunction
function Trig_Cube5_Conditions takes nothing returns boolean
if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackGroup2) == true ) ) then
return false
endif
return true
endfunction
function Trig_Cube5_Actions takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnteringUnit(), udg_AttackGroup2)
call GroupAddUnitSimple(GetEnteringUnit(), udg_AttackGroup)
endfunction
function InitTrig_Cube5 takes nothing returns nothing
set gg_trg_Cube5=CreateTrigger()
call DisableTrigger(gg_trg_Cube5)
call TriggerRegisterEnterRectSimple(gg_trg_Cube5, gg_rct_Cube)
call TriggerAddCondition(gg_trg_Cube5, Condition(function Trig_Cube5_Conditions))
call TriggerAddAction(gg_trg_Cube5, function Trig_Cube5_Actions)
endfunction
function Trig_Hard_S5_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase == 3 or udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=5
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=7
loop
exitwhen L > 8
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_Hard_S5 takes nothing returns nothing
set gg_trg_Hard_S5=CreateTrigger()
call DisableTrigger(gg_trg_Hard_S5)
call TriggerRegisterTimerExpireEvent(gg_trg_Hard_S5, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_Hard_S5, function Trig_Hard_S5_Actions)
endfunction
function Trig_Hard_SS5_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS5_Actions takes nothing returns nothing
if ( Trig_Hard_SS5_Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS5_Func002C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS5_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS5_Func004C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS5_Func005C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS5_Func006C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303355, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_Hard_SS5 takes nothing returns nothing
set gg_trg_Hard_SS5=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SS5)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SS5, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SS5, function Trig_Hard_SS5_Actions)
endfunction
function Trig_Hard_SSS5_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func004Func001C takes nothing returns boolean
if ( ( udg_WaveFase == 4 ) ) then
return true
endif
if ( ( udg_WaveFase == 5 ) ) then
return true
endif
return false
endfunction
function Trig_Hard_SSS5_Func004Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func004C takes nothing returns boolean
if ( not Trig_Hard_SSS5_Func004Func001C() ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS5_Actions takes nothing returns nothing
if ( Trig_Hard_SSS5_Func001C() ) then
if ( Trig_Hard_SSS5_Func001Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=2
loop
exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303050, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS5_Func002C() ) then
if ( Trig_Hard_SSS5_Func002Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS5_Func003C() ) then
if ( Trig_Hard_SSS5_Func003Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(7, 8)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(7, 8)
call CreateNUnitsAtLoc(1, 0x6E303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_Hard_SSS5_Func004C() ) then
if ( Trig_Hard_SSS5_Func004Func002C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(7, 8)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(7, 8)
call CreateNUnitsAtLoc(1, 0x6E303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_Hard_SSS5_Func005C() ) then
if ( Trig_Hard_SSS5_Func005Func001C() ) then
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30324E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=7
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 4)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(5, 6)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=5
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(7, 8)
call CreateNUnitsAtLoc(1, 0x6E30334E, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_Hard_SSS5_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_Hard_S5)
else
endif
endfunction
function InitTrig_Hard_SSS5 takes nothing returns nothing
set gg_trg_Hard_SSS5=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SSS5)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SSS5, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SSS5, function Trig_Hard_SSS5_Actions)
endfunction
function Trig_CreateHero5_Hard_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase >= 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func026C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func027C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Func028C takes nothing returns boolean
if ( not ( udg_WaveFase >= 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero5_Hard_Actions takes nothing returns nothing
if ( Trig_CreateHero5_Hard_Func001C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
set udg_EnemyHeroType[3]=0x4E303541
set udg_EnemyHeroType[4]=0x48303350
set udg_EnemyHeroType[5]=0x4E303457
else
endif
if ( Trig_CreateHero5_Hard_Func002C() ) then
set udg_EnemyHeroType[1]=0x4E303457
set udg_EnemyHeroType[2]=0x55303048
set udg_EnemyHeroType[3]=0x4E303457
set udg_EnemyHeroType[4]=0x55303048
set udg_EnemyHeroType[5]=0x48303349
else
endif
if ( Trig_CreateHero5_Hard_Func003C() ) then
set udg_EnemyHeroType[1]=0x5530304B
set udg_EnemyHeroType[2]=0x48303349
set udg_EnemyHeroType[3]=0x5530304B
set udg_EnemyHeroType[4]=0x48303349
set udg_EnemyHeroType[5]=0x4E303230
else
endif
if ( Trig_CreateHero5_Hard_Func004C() ) then
set udg_EnemyHeroType[1]=0x4E303230
set udg_EnemyHeroType[2]=0x48303344
set udg_EnemyHeroType[3]=0x4E303230
set udg_EnemyHeroType[4]=0x48303344
set udg_EnemyHeroType[5]=0x55303041
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 5)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero5_Hard_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Hard_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Hard_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(1, 5)
set udg_p2=udg_SpawnPoints[GetRandomInt(5, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call SetUnitManaPercentBJ(GetLastCreatedUnit(), 100)
if ( Trig_CreateHero5_Hard_Func026C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303159, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Hard_Func027C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero5_Hard_Func028C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p2, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p2)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3001")
set udg_SpawnPoints[1]=Location(- 3138.00, 3475.00)
set udg_SpawnPoints[2]=Location(2623.00, 3475.00)
set udg_SpawnPoints[3]=Location(- 3343.00, - 1012.00)
set udg_SpawnPoints[4]=Location(2832.00, - 1012.00)
set udg_SpawnPoints[5]=Location(- 3341.00, 6029.00)
set udg_SpawnPoints[6]=Location(2821.00, 6029.00)
set udg_SpawnPoints[7]=Location(- 3394.00, 1592.00)
set udg_SpawnPoints[8]=Location(2898.00, 1592.00)
endfunction
function InitTrig_CreateHero5_Hard takes nothing returns nothing
set gg_trg_CreateHero5_Hard=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero5_Hard)
call TriggerAddAction(gg_trg_CreateHero5_Hard, function Trig_CreateHero5_Hard_Actions)
endfunction
function Trig_S6_Actions takes nothing returns nothing
local unit u
local integer L
local integer n
local integer a
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set n=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303234, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set n=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303234, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303234, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303234, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334F, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S6 takes nothing returns nothing
set gg_trg_S6=CreateTrigger()
call DisableTrigger(gg_trg_S6)
call TriggerRegisterTimerExpireEvent(gg_trg_S6, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S6, function Trig_S6_Actions)
endfunction
function Trig_SS6_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS6_Actions takes nothing returns nothing
if ( Trig_SS6_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS6_Func002C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS6_Func003C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS6_Func004C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS6_Func005C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS6_Func006C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303253, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_SS6 takes nothing returns nothing
set gg_trg_SS6=CreateTrigger()
call DisableTrigger(gg_trg_SS6)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS6, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS6, function Trig_SS6_Actions)
endfunction
function Trig_SSS6_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func006Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS6_Actions takes nothing returns nothing
if ( Trig_SSS6_Func001C() ) then
if ( Trig_SSS6_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func002C() ) then
if ( Trig_SSS6_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303250, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func003C() ) then
if ( Trig_SSS6_Func003Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303532, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func004C() ) then
if ( Trig_SSS6_Func004Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303532, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func005C() ) then
if ( Trig_SSS6_Func005Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303532, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func006C() ) then
if ( Trig_SSS6_Func006Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303532, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS6_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_S6)
else
endif
endfunction
function InitTrig_SSS6 takes nothing returns nothing
set gg_trg_SSS6=CreateTrigger()
call DisableTrigger(gg_trg_SSS6)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS6, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS6, function Trig_SSS6_Actions)
endfunction
function Trig_CreateHero6_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Actions takes nothing returns nothing
if ( Trig_CreateHero6_Func001C() ) then
set udg_EnemyHeroType[1]=0x55303054
set udg_EnemyHeroType[2]=0x48303157
else
endif
if ( Trig_CreateHero6_Func002C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero6_Func003C() ) then
set udg_EnemyHeroType[1]=0x55303132
set udg_EnemyHeroType[2]=0x48303238
else
endif
if ( Trig_CreateHero6_Func004C() ) then
set udg_EnemyHeroType[1]=0x48303350
set udg_EnemyHeroType[2]=0x4E303541
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 3)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero6_Func013C() ) then
call CreateNUnitsAtLoc(1, 0x6E303238, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero6_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303258, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E30325A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero6_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x7530304D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E30325A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8598")
set udg_SpawnPoints[1]=Location(434.00, - 10935.00)
set udg_SpawnPoints[2]=Location(- 1605.00, - 7126.00)
set udg_SpawnPoints[3]=Location(- 6078.00, - 7325.00)
endfunction
function InitTrig_CreateHero6 takes nothing returns nothing
set gg_trg_CreateHero6=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero6)
call TriggerAddAction(gg_trg_CreateHero6, function Trig_CreateHero6_Actions)
endfunction
function Trig_Hard_S6_Actions takes nothing returns nothing
local unit u
local integer L
local integer n
local integer a
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set n=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303436, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set n=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303233, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303233, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303233, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set n=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30324C, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
endif
set u=null
endfunction
function InitTrig_Hard_S6 takes nothing returns nothing
set gg_trg_Hard_S6=CreateTrigger()
call DisableTrigger(gg_trg_Hard_S6)
call TriggerRegisterTimerExpireEvent(gg_trg_Hard_S6, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_Hard_S6, function Trig_Hard_S6_Actions)
endfunction
function Trig_Hard_SS6_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SS6_Actions takes nothing returns nothing
if ( Trig_Hard_SS6_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS6_Func002C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303634, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS6_Func003C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303634, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303635, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS6_Func004C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303634, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303635, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS6_Func005C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303634, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303635, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_Hard_SS6_Func006C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303634, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303635, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303245, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303257, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endfunction
function InitTrig_Hard_SS6 takes nothing returns nothing
set gg_trg_Hard_SS6=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SS6)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SS6, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_Hard_SS6, function Trig_Hard_SS6_Actions)
endfunction
function Trig_Hard_SSS6_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func006Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_Hard_SSS6_Actions takes nothing returns nothing
if ( Trig_Hard_SSS6_Func001C() ) then
if ( Trig_Hard_SSS6_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func002C() ) then
if ( Trig_Hard_SSS6_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func003C() ) then
if ( Trig_Hard_SSS6_Func003Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303636, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303434, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func004C() ) then
if ( Trig_Hard_SSS6_Func004Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303636, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303434, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func005C() ) then
if ( Trig_Hard_SSS6_Func005Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303636, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303434, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func006C() ) then
if ( Trig_Hard_SSS6_Func006Func001C() ) then
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303636, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303530, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303434, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 3)
call CreateNUnitsAtLoc(1, 0x6E303533, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303531, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303547, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_Hard_SSS6_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_S6)
else
endif
endfunction
function InitTrig_Hard_SSS6 takes nothing returns nothing
set gg_trg_Hard_SSS6=CreateTrigger()
call DisableTrigger(gg_trg_Hard_SSS6)
call TriggerRegisterTimerExpireEventBJ(gg_trg_Hard_SSS6, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_Hard_SSS6, function Trig_Hard_SSS6_Actions)
endfunction
function Trig_CreateHero6_Hard_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase >= 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero6_Hard_Actions takes nothing returns nothing
if ( Trig_CreateHero6_Hard_Func001C() ) then
set udg_EnemyHeroType[1]=0x55646561
set udg_EnemyHeroType[2]=0x556C6963
else
endif
if ( Trig_CreateHero6_Hard_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x5530304B
else
endif
if ( Trig_CreateHero6_Hard_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303648
set udg_EnemyHeroType[2]=0x5530304E
else
endif
if ( Trig_CreateHero6_Hard_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303058
set udg_EnemyHeroType[2]=0x55303130
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 3)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero6_Hard_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Hard_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Hard_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E30325A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero6_Hard_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30324D, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero6_Hard_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7923")
set udg_SpawnPoints[1]=Location(14758.00, - 6815.00)
set udg_SpawnPoints[2]=Location(16415.00, - 12317.00)
set udg_SpawnPoints[3]=Location(23767.00, - 7637.00)
endfunction
function InitTrig_CreateHero6_Hard takes nothing returns nothing
set gg_trg_CreateHero6_Hard=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero6_Hard)
call TriggerAddAction(gg_trg_CreateHero6_Hard, function Trig_CreateHero6_Hard_Actions)
endfunction
function Trig_S7_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303334, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303334, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
if udg_WaveFase == 2 then
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303336, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303336, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
elseif udg_WaveFase >= 5 then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303336, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=3
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=L + 1
endloop
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303336, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint2)
endif
set u=null
endfunction
function InitTrig_S7 takes nothing returns nothing
set gg_trg_S7=CreateTrigger()
call DisableTrigger(gg_trg_S7)
call TriggerRegisterTimerExpireEvent(gg_trg_S7, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S7, function Trig_S7_Actions)
endfunction
function Trig_SS7_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS7_Actions takes nothing returns nothing
if ( Trig_SS7_Func001C() ) then
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS7_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS7_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS7_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS7_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
if ( Trig_SS7_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 2)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303337, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set udg_n=GetRandomInt(3, 4)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
endif
endfunction
function InitTrig_SS7 takes nothing returns nothing
set gg_trg_SS7=CreateTrigger()
call DisableTrigger(gg_trg_SS7)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS7, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS7, function Trig_SS7_Actions)
endfunction
function Trig_SSS7_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func005Func002C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase >= 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Func006C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS7_Actions takes nothing returns nothing
if ( Trig_SSS7_Func001C() ) then
if ( Trig_SSS7_Func001Func001C() ) then
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS7_Func002C() ) then
if ( Trig_SSS7_Func002Func001C() ) then
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=3
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS7_Func003C() ) then
if ( Trig_SSS7_Func003Func001C() ) then
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS7_Func004C() ) then
if ( Trig_SSS7_Func004Func001C() ) then
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS7_Func005C() ) then
if ( Trig_SSS7_Func005Func002C() ) then
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x65303051, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x65303051, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303059, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
set udg_n=GetRandomInt(1, 2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(3, 4)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303339, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303247, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
endif
else
endif
if ( Trig_SSS7_Func006C() ) then
call ConditionalTriggerExecute(gg_trg_S7)
else
endif
endfunction
function InitTrig_SSS7 takes nothing returns nothing
set gg_trg_SSS7=CreateTrigger()
call DisableTrigger(gg_trg_SSS7)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS7, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SSS7, function Trig_SSS7_Actions)
endfunction
function Trig_CreateHero7_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func012C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func013Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func014Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func015Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func015Func001Func004C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func015Func001Func006C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func016Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func016Func001Func004C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func016Func001Func006C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func017Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func017Func001Func004C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func017Func001Func006C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func018Func001Func002C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func018Func001Func004C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func018Func001Func006C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func018Func003C takes nothing returns boolean
if ( not ( udg_n > 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero7_Actions takes nothing returns nothing
if ( Trig_CreateHero7_Func001C() ) then
set udg_EnemyHeroType[1]=0x4830315A
set udg_EnemyHeroType[2]=0x55303057
else
endif
if ( Trig_CreateHero7_Func002C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
else
endif
if ( Trig_CreateHero7_Func003C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
else
endif
if ( Trig_CreateHero7_Func004C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x4E303457
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_n2=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[udg_n]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n2], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
if ( Trig_CreateHero7_Func012C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
if ( Trig_CreateHero7_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func013Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero7_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func014Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero7_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func015Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func015Func001Func004C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303259, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func015Func001Func006C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero7_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func016Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func016Func001Func004C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func016Func001Func006C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero7_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func017Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func017Func001Func004C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func017Func001Func006C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero7_Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func018Func001Func002C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303347, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func018Func001Func004C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
call CreateNUnitsAtLoc(1, 0x6E303233, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func018Func001Func006C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E30334E, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
if ( Trig_CreateHero7_Func018Func003C() ) then
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
else
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9481")
set udg_SpawnPoints[1]=Location(5394.00, 5642.00)
set udg_SpawnPoints[2]=Location(5394.00, - 3440.00)
set udg_SpawnPoints[3]=Location(9507.00, 5762.00)
set udg_SpawnPoints[4]=Location(9492.00, - 3217.00)
endfunction
function InitTrig_CreateHero7 takes nothing returns nothing
set gg_trg_CreateHero7=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero7)
call TriggerAddAction(gg_trg_CreateHero7, function Trig_CreateHero7_Actions)
endfunction
function Trig_infernal_rain_Conditions takes nothing returns boolean
return GetSpellAbilityId() == IRSkill
endfunction
function Trig_infernal_rain_Move takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local unit dammy=LoadUnitHandle(udg_hash, h, 2)
local unit TempUn
local group g
local real fly=GetUnitFlyHeight(dammy)
local real uron
if fly > 20 then
call SetUnitFlyHeight(dammy, fly - 15, 0)
else
set g=CreateGroup()
call GroupEnumUnitsInRange(g, GetUnitX(dammy), GetUnitY(dammy), 140, null)
set uron=IRDamage1 * GetHeroInt(GT, true) + IRDamage2 * GetUnitAbilityLevel(GT, IRSkill)
loop
set TempUn=FirstOfGroup(g)
exitwhen TempUn == null
if not IsUnitType(TempUn, UNIT_TYPE_STRUCTURE) and not IsUnitType(TempUn, UNIT_TYPE_DEAD) and IsPlayerEnemy(GetOwningPlayer(dammy), GetOwningPlayer(TempUn)) then
call UnitDamageTarget(GT, TempUn, uron, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl", TempUn, "origin"))
endif
call GroupRemoveUnit(g, TempUn)
endloop
call DestroyEffect(AddSpecialEffect(IREffetBoom, GetUnitX(dammy), GetUnitY(dammy)))
call RemoveUnit(dammy)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
call DestroyGroup(g)
endif
set t=null
set GT=null
set dammy=null
set g=null
set TempUn=null
endfunction
function Trig_infernal_rain_Create takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local timer t1
local integer h1
local integer kol=LoadInteger(udg_hash, h, 2)
if kol > 0 then
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GT), IRDammy1, LoadReal(udg_hash, h, 3) + GetRandomInt(- 1 * IRRangSkill, IRRangSkill), LoadReal(udg_hash, h, 4) + GetRandomInt(- 1 * IRRangSkill, IRRangSkill), 0)
call UnitAddAbility(bj_lastCreatedUnit, 0x416D7266)
call UnitRemoveAbility(bj_lastCreatedUnit, 0x416D7266)
set t1=CreateTimer()
set h1=GetHandleId(t1)
call SaveUnitHandle(udg_hash, h1, 1, GT)
call SaveUnitHandle(udg_hash, h1, 2, bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffect("Doodads\\BlackCitadel\\Props\\RuneArt\\RuneArt1.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit)))
call TimerStart(t1, 0.015, true, function Trig_infernal_rain_Move)
call SaveInteger(udg_hash, h, 2, kol - 1)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
set t=null
set t1=null
set GT=null
endfunction
function Trig_infernal_rain_Actions takes nothing returns nothing
local unit GT=GetTriggerUnit()
local timer t=CreateTimer()
local integer h=GetHandleId(t)
call SaveUnitHandle(udg_hash, h, 1, GT)
call SaveInteger(udg_hash, h, 2, IRKolShar)
call SaveReal(udg_hash, h, 3, GetUnitX(GT))
call SaveReal(udg_hash, h, 4, GetUnitY(GT))
call TimerStart(t, 0.2, true, function Trig_infernal_rain_Create)
set GT=null
set t=null
endfunction
function InitTrig_SkillBoss7 takes nothing returns nothing
set gg_trg_SkillBoss7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SkillBoss7, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SkillBoss7, Condition(function Trig_infernal_rain_Conditions))
call TriggerAddAction(gg_trg_SkillBoss7, function Trig_infernal_rain_Actions)
endfunction
function Trig_S8_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
if udg_Lvl == 1 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 2 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 3 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 4 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 5 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 6 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 7 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303334, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303247, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 8 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303142, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 9 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303244, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 10 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303337, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303339, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 11 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303157, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 12 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303232, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303548, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303548, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303131, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 13 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303249, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303249, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 14 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303251, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303531, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 15 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303144, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303338, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
endfunction
function InitTrig_S8 takes nothing returns nothing
set gg_trg_S8=CreateTrigger()
call DisableTrigger(gg_trg_S8)
call TriggerRegisterTimerExpireEvent(gg_trg_S8, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S8, function Trig_S8_Actions)
endfunction
function Trig_SS8_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
if udg_Lvl == 1 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303054, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 2 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303049, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 3 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303131, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 4 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303043, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303134, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 5 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30324C, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303052, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303052, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 6 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303257, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303245, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303248, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 7 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303146, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303536, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 8 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303059, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 9 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303058, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303055, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 10 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303450, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30344F, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303348, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 11 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303635, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30315A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 12 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303255, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303159, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 13 then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30324D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303059, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303152, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 14 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303254, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303245, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303535, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 15 then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
endfunction
function InitTrig_SS8 takes nothing returns nothing
set gg_trg_SS8=CreateTrigger()
call DisableTrigger(gg_trg_SS8)
call TriggerRegisterTimerExpireEvent(gg_trg_SS8, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS8, function Trig_SS8_Actions)
endfunction
function Trig_SSS8_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
if udg_Lvl == 1 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303057, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303137, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303535, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303535, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303050, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_Lvl == 2 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303544, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30315A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303458, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303356, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_Lvl == 3 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303056, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303630, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303630, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303548, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303548, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_Lvl == 4 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303158, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303031, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303436, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303436, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_Lvl == 5 then
if udg_Modifiers[9] != true then
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303250, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303250, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303059, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303530, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303530, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 6 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303235, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303255, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303258, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30315A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334B, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30325A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 7 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303339, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30324E, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303349, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303349, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303349, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303236, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303236, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 8 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303253, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303253, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303146, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304F, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303532, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 9 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30314D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303233, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303131, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303347, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303347, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303434, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 10 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303345, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303346, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303451, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
set L=GetRandomInt(1, 2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303453, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(3, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303453, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 11 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303337, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303246, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303246, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6F303152, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303243, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303533, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 12 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354B, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 13 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303537, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303146, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303346, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303342, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303530, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 4)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303636, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 14 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303634, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30315A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303256, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303256, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303533, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303533, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303242, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E736C72, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303538, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
elseif udg_Lvl == 15 then
if udg_Modifiers[9] != true then
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E626477, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303356, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x756F6273, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 3
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303236, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303430, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304F, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
endif
if udg_Modifiers[1] == true then
call TriggerExecute(gg_trg_S8)
endif
endfunction
function InitTrig_SSS8 takes nothing returns nothing
set gg_trg_SSS8=CreateTrigger()
call DisableTrigger(gg_trg_SSS8)
call TriggerRegisterTimerExpireEvent(gg_trg_SSS8, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS8, function Trig_SSS8_Actions)
endfunction
function Trig_CreateHero8_Actions takes nothing returns nothing
local unit u
local player pl=GetLocalPlayer()
local integer n
local integer L
if udg_Lvl == 1 then
set n=GetRandomInt(1, 4)
set L=1
loop
exitwhen L > 4
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x75303056, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 2 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x7530304D, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303144, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 3 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303347, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303145, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_Lvl == 4 then
set n=GetRandomInt(1, 4)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303146, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303157, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 5 then
set n=GetRandomInt(1, 3)
elseif udg_Lvl == 6 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303254, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E30334F, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 7 then
set n=GetRandomInt(1, 4)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303233, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303338, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 8 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 10
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303259, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 9 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303634, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 10 then
set n=GetRandomInt(1, 4)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x68303341, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x68303347, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 11 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303547, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 12 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 8
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303551, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 13 then
set n=GetRandomInt(1, 4)
set L=1
loop
exitwhen L > 8
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x75303147, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 14 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 2
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303342, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303635, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_Lvl == 15 then
set n=GetRandomInt(1, 3)
set L=1
loop
exitwhen L > 3
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303349, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), 0x6E303547, udg_SpawnPoints[n], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
set u=CreateUnitAtLoc(ForcePickRandomPlayer(udg_AI), udg_EnemyHeroType[1], udg_SpawnPoints[n], 270)
call SetHeroLevel(u, 3 + udg_Lvl, false)
if udg_EnemyHeroType[1] == 0x55303048 and udg_Lvl == 5 then
call SetHeroStr(u, GetHeroStr(u, false) - 15, true)
call SetHeroAgi(u, GetHeroAgi(u, false) - 15, true)
call SetHeroInt(u, GetHeroInt(u, false) - 15, true)
elseif udg_EnemyHeroType[1] == 0x4E303230 and udg_Lvl == 8 then
call SetHeroStr(u, GetHeroStr(u, false) - 15, true)
call SetHeroAgi(u, GetHeroAgi(u, false) - 15, true)
call SetHeroInt(u, GetHeroInt(u, false) - 15, true)
endif
call PrepareEnemyHero(u)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
if udg_EnemyHeroType[1] == 0x55303047 and udg_Lvl == 5 then
call DisplayTimedTextToPlayer(pl, 0, 0, 30, "|cFFE60000Появились вражеские герои!|r")
else
call DisplayTimedTextToPlayer(pl, 0, 0, 30, "|cFFE60000Появился вражеский герой!|r")
endif
set u=null
set pl=null
endfunction
function InitTrig_CreateHero8 takes nothing returns nothing
set gg_trg_CreateHero8=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero8)
call TriggerAddAction(gg_trg_CreateHero8, function Trig_CreateHero8_Actions)
endfunction
function Trig_ExtraEnemyHero_8_lvl_Actions takes nothing returns nothing
local integer a=GetRandomInt(1, 3)
local integer b
local unit u
local real r
local real x
local real y
if udg_Lvl == 1 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x4E303644
elseif udg_Lvl == 2 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x5563726C
elseif udg_Lvl == 3 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x45303039
elseif udg_Lvl == 4 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x55303054
elseif udg_Lvl == 5 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x48303157
elseif udg_Lvl == 6 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x48626C6D
elseif udg_Lvl == 7 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x4E706C64
elseif udg_Lvl == 8 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x55303057
elseif udg_Lvl == 9 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x48303238
elseif udg_Lvl == 10 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x55303142
elseif udg_Lvl == 11 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x4E303457
elseif udg_Lvl == 12 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x4E30354C
elseif udg_Lvl == 13 then
set b=GetRandomInt(1, 4)
set ExtraEnemyHeroType[1]=0x55656172
elseif udg_Lvl == 14 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x4830334E
elseif udg_Lvl == 15 then
set b=GetRandomInt(1, 3)
set ExtraEnemyHeroType[1]=0x55646561
endif
set x=GetLocationX(udg_SpawnPoints[b])
set y=GetLocationY(udg_SpawnPoints[b])
set u=CreateUnit(AI[a], ExtraEnemyHeroType[1], x, y, 270)
call SetHeroLevel(u, 4 + udg_Lvl, false)
set ExtraEnemyHeroPower=ExtraEnemyHeroPower + 1
call SetHeroStr(u, GetHeroStr(u, false) + ExtraEnemyHeroPower * 2, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + ExtraEnemyHeroPower * 2, true)
call SetHeroInt(u, GetHeroInt(u, false) + ExtraEnemyHeroPower * 2, true)
set r=I2R(ExtraEnemyHeroPower)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + r)
call SetUnitManaRegeneration(u , GetUnitManaRegeneration(u) + r * 0.25)
if ExtraEnemyHeroPower > 4 then
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + ( ExtraEnemyHeroPower - 4 ))
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + ( ExtraEnemyHeroPower - 4 ) * 5)
endif
if ExtraEnemyHeroPower > 9 then
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + ( ExtraEnemyHeroPower - 9 ) * 500)
endif
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "TRIGSTR_9916")
call PrepareEnemyHero(u)
endfunction
function InitTrig_ExtraEnemyHero_8_lvl takes nothing returns nothing
set gg_trg_ExtraEnemyHero_8_lvl=CreateTrigger()
call DisableTrigger(gg_trg_ExtraEnemyHero_8_lvl)
call TriggerRegisterTimerExpireEvent(gg_trg_ExtraEnemyHero_8_lvl, udg_ExtraEnemyHero)
call TriggerAddAction(gg_trg_ExtraEnemyHero_8_lvl, function Trig_ExtraEnemyHero_8_lvl_Actions)
endfunction
function Trig_Event8_Func002A takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetEnumPlayer())
set ExpGo[udg_n - 1]=ExpGo[udg_n - 1] + 50
endfunction
function Trig_Event8_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_4040")
call ForForce(udg_PlayersGroup, function Trig_Event8_Func002A)
endfunction
function InitTrig_Event8 takes nothing returns nothing
set gg_trg_Event8=CreateTrigger()
call DisableTrigger(gg_trg_Event8)
call TriggerRegisterUnitEvent(gg_trg_Event8, gg_unit_n044_0602, EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Event8, function Trig_Event8_Actions)
endfunction
function Trig_WavesEnd_Conditions takes nothing returns boolean
return IsUnitGroupDeadBJ(udg_AttackGroup) == true and udg_Lose == false
endfunction
function Victory takes nothing returns nothing
call CustomVictoryBJ(GetEnumPlayer(), true, true)
endfunction
function Trig_WavesEnd_Actions takes nothing returns nothing
local integer n
local integer L
local real r
local integer uId
call DestroyTimerDialog(udg_EventTimerWindow)
call DestroyTimer(udg_EndWaveTimer)
call DisableTrigger(GetTriggeringTrigger())
call DestroyTrigger(udg_RemoveWave)
call SetUnitState(udg_Tron, UNIT_STATE_LIFE, GetUnitState(udg_Tron, UNIT_STATE_MAX_LIFE))
call ShowUnit(udg_Tron, false)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "|cFF00C850Волна [" + I2S(udg_Lvl) + "/" + I2S(udg_MaxWave) + "] завершена!|r")
set udg_Reward=R2I(I2R(udg_Reward) * udg_ModReward)
set n=0
loop
exitwhen n > 7
set ExpGo[n]=ExpGo[n] + udg_Reward
set n=n + 1
endloop
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "Получено очков: " + I2S(udg_Reward))
if udg_Lvl == udg_MaxWave then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "Поздравляем! Вы прошли все волны!")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "У вас есть 60 секунд, чтобы сохранить свои очки командой \"-save\".")
call PolledWait(60.00)
call ForForce(udg_PlayersGroup, function Victory)
return
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30.00, "Готовьтесь к следующей волне!")
set udg_Lvl=udg_Lvl + 1
if udg_Lvl == 2 then
call ShowUnit(gg_unit_n000_0663, true)
call ShowUnit(gg_unit_n000_0658, true)
call ShowUnit(gg_unit_n002_0668, true)
call ShowUnit(gg_unit_n002_0669, true)
call ShowUnit(gg_unit_n002_0670, true)
call ShowUnit(gg_unit_n001_0671, true)
call ShowUnit(gg_unit_n001_0672, true)
call ShowUnit(gg_unit_n068_0679, true)
call ShowUnit(gg_unit_n000_0673, true)
call ShowUnit(gg_unit_n000_0674, true)
call ShowUnit(gg_unit_n000_0675, true)
call ShowUnit(gg_unit_n000_0677, true)
call ShowUnit(gg_unit_n01G_0617, true)
call ShowUnit(gg_unit_h00R_0644, true)
call ShowUnit(gg_unit_o00K_0642, true)
call ShowUnit(gg_unit_o00L_0641, true)
set L=GetRandomInt(1, 4)
if L == 1 then
set uId=0x6E303558
elseif L == 2 then
set uId=0x6E303557
elseif L == 3 then
set uId=0x6E303559
else
set uId=0x6E30355A
endif
call CreateUnit(Player(15), uId, 11362, - 3400, 270)
call EnableTrigger(gg_trg_Wave2)
set udg_Tron=gg_unit_h000_0591
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12705.00, - 4420.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(12436.00, - 1299.00)
set udg_SpawnPoints[2]=Location(9366.00, - 5355.00)
set udg_SpawnPoints[3]=Location(13759.00, - 6665.00)
set r=60.00
elseif udg_Lvl == 3 then
call ShowUnit(gg_unit_n000_0600, true)
call ShowUnit(gg_unit_n000_0608, true)
call ShowUnit(gg_unit_n000_0599, true)
call ShowUnit(gg_unit_n000_0598, true)
call ShowUnit(gg_unit_n000_0596, true)
call ShowUnit(gg_unit_n000_0597, true)
call ShowUnit(gg_unit_n000_0615, true)
call ShowUnit(gg_unit_n068_0616, true)
call ShowUnit(gg_unit_n001_0614, true)
call ShowUnit(gg_unit_n001_0613, true)
call ShowUnit(gg_unit_n002_0611, true)
call ShowUnit(gg_unit_n002_0612, true)
call ShowUnit(gg_unit_n003_0595, true)
call ShowUnit(gg_unit_o00K_0702, true)
call ShowUnit(gg_unit_o00L_0701, true)
call ShowUnit(gg_unit_n01G_0618, true)
call ShowUnit(gg_unit_h00R_0704, true)
set L=GetRandomInt(1, 4)
if L == 1 then
set uId=0x6E303331
elseif L == 2 then
set uId=0x6E303332
elseif L == 3 then
set uId=0x6E303333
else
set uId=0x6E303354
endif
call CreateUnit(Player(15), uId, 7043, - 7726, 270)
call EnableTrigger(gg_trg_Wave3)
set udg_Tron=gg_unit_h000_0593
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(5856.00, - 5856.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(5207.00, - 10462.00)
set udg_SpawnPoints[2]=Location(8324.00, - 9641.00)
set udg_SpawnPoints[3]=Location(9374.00, - 5351.00)
set r=60.00
elseif udg_Lvl == 4 then
call ShowUnit(gg_unit_n000_0625, true)
call ShowUnit(gg_unit_n000_0635, true)
call ShowUnit(gg_unit_n002_0638, true)
call ShowUnit(gg_unit_n001_0637, true)
call EnableTrigger(gg_trg_Wave4)
set udg_Tron=gg_unit_h000_0592
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12223.00, - 12649.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(9380.00, - 13680.00)
set udg_SpawnPoints[2]=Location(9096.00, - 10680.00)
set udg_SpawnPoints[3]=Location(9852.00, - 9189.00)
set udg_SpawnPoints[4]=Location(13749.00, - 6645.00)
set r=50.00
elseif udg_Lvl == 5 then
call ShowUnit(gg_unit_n003_0639, true)
call ShowUnit(gg_unit_n002_0640, true)
call ShowUnit(gg_unit_n000_0643, true)
call ShowUnit(gg_unit_n000_0646, true)
call ShowUnit(gg_unit_n000_0645, true)
set L=GetRandomInt(1, 4)
if L == 1 then
set uId=0x6E303331
elseif L == 2 then
set uId=0x6E303332
elseif L == 3 then
set uId=0x6E303333
else
set uId=0x6E303354
endif
call CreateUnit(Player(15), uId, 12750, - 7230, 270)
call EnableTrigger(gg_trg_Wave5)
set udg_Tron=gg_unit_h000_0591
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12705.00, - 4420.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(12436.00, - 1299.00)
set udg_SpawnPoints[2]=Location(9366.00, - 5355.00)
set udg_SpawnPoints[3]=Location(13759.00, - 6665.00)
set r=40.00
elseif udg_Lvl == 6 then
call ShowUnit(gg_unit_n01U_0647, true)
call ShowUnit(gg_unit_n001_0648, true)
call ShowUnit(gg_unit_n000_0649, true)
call ShowUnit(gg_unit_n000_0657, true)
call EnableTrigger(gg_trg_Wave6)
set udg_Tron=gg_unit_h000_0593
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(5856.00, - 5856.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(5207.00, - 10462.00)
set udg_SpawnPoints[2]=Location(8324.00, - 9641.00)
set udg_SpawnPoints[3]=Location(9374.00, - 5351.00)
set r=40.00
elseif udg_Lvl == 7 then
call ShowUnit(gg_unit_n000_0680, true)
call ShowUnit(gg_unit_n068_0681, true)
call ShowUnit(gg_unit_n068_0682, true)
call ShowUnit(gg_unit_n002_0684, true)
call ShowUnit(gg_unit_n002_0683, true)
call EnableTrigger(gg_trg_Wave7)
set udg_Tron=gg_unit_h000_0592
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12223.00, - 12649.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(9380.00, - 13680.00)
set udg_SpawnPoints[2]=Location(9096.00, - 10680.00)
set udg_SpawnPoints[3]=Location(9852.00, - 9189.00)
set udg_SpawnPoints[4]=Location(13749.00, - 6645.00)
set r=40.00
elseif udg_Lvl == 8 then
call ShowUnit(gg_unit_n01U_0685, true)
call ShowUnit(gg_unit_n000_0687, true)
call ShowUnit(gg_unit_n000_0691, true)
call EnableTrigger(gg_trg_Wave8)
set udg_Tron=gg_unit_h000_0591
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12705.00, - 4420.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(12436.00, - 1299.00)
set udg_SpawnPoints[2]=Location(9366.00, - 5355.00)
set udg_SpawnPoints[3]=Location(13759.00, - 6665.00)
set r=40.00
elseif udg_Lvl == 9 then
call ShowUnit(gg_unit_n068_0686, true)
call ShowUnit(gg_unit_n000_0688, true)
call ShowUnit(gg_unit_n000_0689, true)
call ShowUnit(gg_unit_n000_0692, true)
call ShowUnit(gg_unit_n000_0690, true)
set L=GetRandomInt(1, 4)
if L == 1 then
set uId=0x6E303331
elseif L == 2 then
set uId=0x6E303332
elseif L == 3 then
set uId=0x6E303333
else
set uId=0x6E303354
endif
call CreateUnit(Player(15), uId, 7347, - 7158, 270)
call EnableTrigger(gg_trg_Wave9)
set udg_Tron=gg_unit_h000_0593
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(5856.00, - 5856.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(5207.00, - 10462.00)
set udg_SpawnPoints[2]=Location(8324.00, - 9641.00)
set udg_SpawnPoints[3]=Location(9374.00, - 5351.00)
set r=40.00
elseif udg_Lvl == 10 then
call ShowUnit(gg_unit_n002_0693, true)
call ShowUnit(gg_unit_n000_0694, true)
call ShowUnit(gg_unit_n000_0695, true)
call ShowUnit(gg_unit_n000_0697, true)
call EnableTrigger(gg_trg_Wave10)
set udg_Tron=gg_unit_h000_0592
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12223.00, - 12649.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(9380.00, - 13680.00)
set udg_SpawnPoints[2]=Location(9096.00, - 10680.00)
set udg_SpawnPoints[3]=Location(9852.00, - 9189.00)
set udg_SpawnPoints[4]=Location(13749.00, - 6645.00)
set r=40.00
elseif udg_Lvl == 11 then
call ShowUnit(gg_unit_n000_0705, true)
call ShowUnit(gg_unit_n068_0698, true)
call EnableTrigger(gg_trg_Wave11)
set udg_Tron=gg_unit_h000_0591
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12705.00, - 4420.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(12436.00, - 1299.00)
set udg_SpawnPoints[2]=Location(9366.00, - 5355.00)
set udg_SpawnPoints[3]=Location(13759.00, - 6665.00)
set r=40.00
elseif udg_Lvl == 12 then
call ShowUnit(gg_unit_n000_0706, true)
call ShowUnit(gg_unit_n000_0707, true)
call EnableTrigger(gg_trg_Wave12)
set udg_Tron=gg_unit_h000_0593
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(5856.00, - 5856.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(5207.00, - 10462.00)
set udg_SpawnPoints[2]=Location(8324.00, - 9641.00)
set udg_SpawnPoints[3]=Location(9374.00, - 5351.00)
set r=40.00
elseif udg_Lvl == 13 then
call EnableTrigger(gg_trg_Wave13)
set udg_Tron=gg_unit_h000_0592
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12223.00, - 12649.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(9380.00, - 13680.00)
set udg_SpawnPoints[2]=Location(9096.00, - 10680.00)
set udg_SpawnPoints[3]=Location(9852.00, - 9189.00)
set udg_SpawnPoints[4]=Location(13749.00, - 6645.00)
set r=40.00
elseif udg_Lvl == 14 then
call EnableTrigger(gg_trg_Wave14)
set udg_Tron=gg_unit_h000_0591
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(12705.00, - 4420.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(12436.00, - 1299.00)
set udg_SpawnPoints[2]=Location(9366.00, - 5355.00)
set udg_SpawnPoints[3]=Location(13759.00, - 6665.00)
set r=40.00
elseif udg_Lvl == 15 then
call EnableTrigger(gg_trg_Wave15)
set udg_Tron=gg_unit_h000_0593
call ShowUnit(udg_Tron, true)
set udg_DefPoint=GetUnitLoc(udg_Tron)
set L=1
loop
exitwhen L > 8
set udg_SpawnHeroPoint[L]=Location(5856.00, - 5856.00)
set L=L + 1
endloop
set udg_SpawnPoints[1]=Location(5207.00, - 10462.00)
set udg_SpawnPoints[2]=Location(8324.00, - 9641.00)
set udg_SpawnPoints[3]=Location(9374.00, - 5351.00)
set r=40.00
endif
call TimerStart(udg_EventTimer, r, false, null)
set udg_EventTimerWindow=CreateTimerDialogBJ(udg_EventTimer, "Волна [" + I2S(udg_Lvl) + "/" + I2S(udg_MaxWave) + "]")
call TimerDialogDisplay(udg_EventTimerWindow, true)
call PingMinimapLocForForceEx(bj_FORCE_ALL_PLAYERS, udg_DefPoint, r, bj_MINIMAPPINGSTYLE_SIMPLE, 0.00, 100.00, 0.00)
endfunction
function InitTrig_WavesEnd takes nothing returns nothing
set gg_trg_WavesEnd=CreateTrigger()
call DisableTrigger(gg_trg_WavesEnd)
call TriggerRegisterAnyUnitEventBJ(gg_trg_WavesEnd, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_WavesEnd, Condition(function Trig_WavesEnd_Conditions))
call TriggerAddAction(gg_trg_WavesEnd, function Trig_WavesEnd_Actions)
endfunction
function Trig_EndWaveTimer_Actions takes nothing returns nothing
call TriggerExecute(gg_trg_WavesEnd)
endfunction
function InitTrig_EndWaveTimer takes nothing returns nothing
set gg_trg_EndWaveTimer=CreateTrigger()
call DisableTrigger(gg_trg_EndWaveTimer)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
call TriggerAddAction(gg_trg_EndWaveTimer, function Trig_EndWaveTimer_Actions)
endfunction
function Trig_Wave2_Func007A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave2_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave2_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call ForForce(udg_AI, function Trig_Wave2_Func007A)
if ( Trig_Wave2_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=75
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x55303042
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x5530304A
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave2 takes nothing returns nothing
set gg_trg_Wave2=CreateTrigger()
call DisableTrigger(gg_trg_Wave2)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave2, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave2, function Trig_Wave2_Actions)
endfunction
function Trig_Wave3_Func007A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave3_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave3_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6F303130, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(), 0x53303034)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304B46)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D56)
call UnitAddAbility(GetLastCreatedUnit(), 0x41304D57)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call ForForce(udg_AI, function Trig_Wave3_Func007A)
if ( Trig_Wave3_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=100
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x48303057
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x45303039
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave3 takes nothing returns nothing
set gg_trg_Wave3=CreateTrigger()
call DisableTrigger(gg_trg_Wave3)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave3, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave3, function Trig_Wave3_Actions)
endfunction
function Trig_Wave4_Func003A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 1, GetEnumPlayer())
endfunction
function Trig_Wave4_Func009A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave4_Func010C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave4_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_487")
set udg_WaveFase=2
call ForForce(GetPlayersAll(), function Trig_Wave4_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave4_Func009A)
if ( Trig_Wave4_Func010C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=125
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x45303031
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x4830304D
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave4 takes nothing returns nothing
set gg_trg_Wave4=CreateTrigger()
call DisableTrigger(gg_trg_Wave4)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave4, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave4, function Trig_Wave4_Actions)
endfunction
function Trig_Wave5_Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave5_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave5_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave5_Func006A)
if ( Trig_Wave5_Func007C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=200
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x55303047
call ConditionalTriggerExecute(gg_trg_CreateHero8)
set udg_EnemyHeroType[1]=0x5530314D
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(70.00)
set udg_EnemyHeroType[1]=0x55303048
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 80.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave5 takes nothing returns nothing
set gg_trg_Wave5=CreateTrigger()
call DisableTrigger(gg_trg_Wave5)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave5, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave5, function Trig_Wave5_Actions)
endfunction
function Trig_Wave6_Func007A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave6_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave6_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_Gandikap=( udg_Gandikap + 0.02 )
call ForForce(udg_AI, function Trig_Wave6_Func007A)
if ( Trig_Wave6_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=225
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x48303151
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x4E303252
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave6 takes nothing returns nothing
set gg_trg_Wave6=CreateTrigger()
call DisableTrigger(gg_trg_Wave6)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave6, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave6, function Trig_Wave6_Actions)
endfunction
function Trig_Wave7_Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave7_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave7_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave7_Func006A)
if ( Trig_Wave7_Func007C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=250
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x4E303335
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x45303055
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(20.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 40.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave7 takes nothing returns nothing
set gg_trg_Wave7=CreateTrigger()
call DisableTrigger(gg_trg_Wave7)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave7, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave7, function Trig_Wave7_Actions)
endfunction
function Trig_Wave8_Func003A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 2, GetEnumPlayer())
endfunction
function Trig_Wave8_Func009A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave8_Func010C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave8_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_488")
set udg_WaveFase=3
call ForForce(GetPlayersAll(), function Trig_Wave8_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave8_Func009A)
if ( Trig_Wave8_Func010C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=275
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x4830315A
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x4E303230
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 80.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave8 takes nothing returns nothing
set gg_trg_Wave8=CreateTrigger()
call DisableTrigger(gg_trg_Wave8)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave8, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave8, function Trig_Wave8_Actions)
endfunction
function Trig_Wave9_Func007A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave9_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave9_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_Gandikap=( udg_Gandikap + 0.02 )
call ForForce(udg_AI, function Trig_Wave9_Func007A)
if ( Trig_Wave9_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=300
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x55303132
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x5530304B
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 80.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave9 takes nothing returns nothing
set gg_trg_Wave9=CreateTrigger()
call DisableTrigger(gg_trg_Wave9)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave9, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave9, function Trig_Wave9_Actions)
endfunction
function Trig_Wave10_Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave10_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave10_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave10_Func006A)
if ( Trig_Wave10_Func007C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=375
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x48303342
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x48303344
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 85.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave10 takes nothing returns nothing
set gg_trg_Wave10=CreateTrigger()
call DisableTrigger(gg_trg_Wave10)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave10, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave10, function Trig_Wave10_Actions)
endfunction
function Trig_Wave11_Func003A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 3, GetEnumPlayer())
endfunction
function Trig_Wave11_Func010A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave11_Func011C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave11_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_1235")
set udg_WaveFase=4
call ForForce(GetPlayersAll(), function Trig_Wave11_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_Gandikap=( udg_Gandikap + 0.02 )
call ForForce(udg_AI, function Trig_Wave11_Func010A)
if ( Trig_Wave11_Func011C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=450
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x48303157
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x48303349
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(30.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 85.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave11 takes nothing returns nothing
set gg_trg_Wave11=CreateTrigger()
call DisableTrigger(gg_trg_Wave11)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave11, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave11, function Trig_Wave11_Actions)
endfunction
function Trig_Wave12_Func006A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave12_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave12_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave12_Func006A)
if ( Trig_Wave12_Func007C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=525
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x45303042
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x55303148
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(30.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 85.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave12 takes nothing returns nothing
set gg_trg_Wave12=CreateTrigger()
call DisableTrigger(gg_trg_Wave12)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave12, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave12, function Trig_Wave12_Actions)
endfunction
function Trig_Wave13_Func003A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303132, 4, GetEnumPlayer())
endfunction
function Trig_Wave13_Func009A takes nothing returns nothing
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave13_Func010C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave13_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_3519")
set udg_WaveFase=5
call ForForce(GetPlayersAll(), function Trig_Wave13_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
call ForForce(udg_AI, function Trig_Wave13_Func009A)
if ( Trig_Wave13_Func010C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=600
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x4E303541
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x55303041
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 85.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave13 takes nothing returns nothing
set gg_trg_Wave13=CreateTrigger()
call DisableTrigger(gg_trg_Wave13)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave13, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave13, function Trig_Wave13_Actions)
endfunction
function Trig_Wave14_Func007A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
endfunction
function Trig_Wave14_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave14_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_Gandikap=( udg_Gandikap + 0.02 )
call ForForce(udg_AI, function Trig_Wave14_Func007A)
if ( Trig_Wave14_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=700
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x4E303632
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x55303058
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 100.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave14 takes nothing returns nothing
set gg_trg_Wave14=CreateTrigger()
call DisableTrigger(gg_trg_Wave14)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave14, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave14, function Trig_Wave14_Actions)
endfunction
function Trig_Wave15_Func007A takes nothing returns nothing
call SetPlayerHandicap(GetEnumPlayer(), udg_Gandikap)
call SetPlayerTechResearchedSwap(0x52303051, ( GetPlayerTechCountSimple(0x52303051, GetEnumPlayer()) + 1 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303242, ( GetPlayerTechCountSimple(0x52303242, GetEnumPlayer()) + 2 ), GetEnumPlayer())
call SetPlayerTechResearchedSwap(0x52303145, ( GetPlayerTechCountSimple(0x52303145, GetEnumPlayer()) + 2 ), GetEnumPlayer())
endfunction
function Trig_Wave15_Func008C takes nothing returns boolean
if ( not ( udg_Modifiers[7] == true ) ) then
return false
endif
return true
endfunction
function Trig_Wave15_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, ( "|cFFE60000Волна [" + ( I2S(udg_Lvl) + ( "/" + ( I2S(udg_MaxWave) + "]" ) ) ) ))
call StartTimerBJ(udg_SpawnTimer[1], false, udg_SpawnTimerCount[1])
call StartTimerBJ(udg_SpawnTimer[2], false, udg_SpawnTimerCount[2])
call StartTimerBJ(udg_SpawnTimer[3], false, udg_SpawnTimerCount[3])
set udg_Gandikap=( udg_Gandikap + 0.02 )
call ForForce(udg_AI, function Trig_Wave15_Func007A)
if ( Trig_Wave15_Func008C() ) then
call StartTimerBJ(udg_ExtraEnemyHero, false, 80.00)
else
endif
set udg_Reward=800
call PolledWait(100.00)
set udg_EnemyHeroType[1]=0x48303350
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(60.00)
set udg_EnemyHeroType[1]=0x4E303357
call ConditionalTriggerExecute(gg_trg_CreateHero8)
call PolledWait(40.00)
call PauseTimer(udg_SpawnTimer[1])
call PauseTimer(udg_SpawnTimer[2])
call PauseTimer(udg_SpawnTimer[3])
set udg_RemoveWave=GetTriggeringTrigger()
call EnableTrigger(gg_trg_WavesEnd)
set udg_EndWaveTimer=CreateTimer()
call StartTimerBJ(udg_EndWaveTimer, false, 300.00)
call TriggerRegisterTimerExpireEvent(gg_trg_EndWaveTimer, udg_EndWaveTimer)
endfunction
function InitTrig_Wave15 takes nothing returns nothing
set gg_trg_Wave15=CreateTrigger()
call DisableTrigger(gg_trg_Wave15)
call TriggerRegisterTimerExpireEvent(gg_trg_Wave15, udg_EventTimer)
call TriggerAddAction(gg_trg_Wave15, function Trig_Wave15_Actions)
endfunction
function Trig_S9_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
if udg_WaveFase == 1 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303337, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 2 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303337, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303338, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_WaveFase == 4 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303338, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase == 5 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303339, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 6 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303051, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
set u=null
endfunction
function InitTrig_S9 takes nothing returns nothing
set gg_trg_S9=CreateTrigger()
call DisableTrigger(gg_trg_S9)
call TriggerRegisterTimerExpireEvent(gg_trg_S9, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S9, function Trig_S9_Actions)
endfunction
function Trig_SS9_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS9_Actions takes nothing returns nothing
if ( Trig_SS9_Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303450, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_SS9_Func002C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303450, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS9_Func003C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303452, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS9_Func004C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303452, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS9_Func005C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303452, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_SS9_Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303553, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
endfunction
function InitTrig_SS9 takes nothing returns nothing
set gg_trg_SS9=CreateTrigger()
call DisableTrigger(gg_trg_SS9)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS9, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS9, function Trig_SS9_Actions)
endfunction
function Trig_SSS9_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func006Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS9_Actions takes nothing returns nothing
if ( Trig_SSS9_Func001C() ) then
if ( Trig_SSS9_Func001Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x65303051, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x65303051, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS9_Func002C() ) then
if ( Trig_SSS9_Func002Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
else
endif
if ( Trig_SSS9_Func003C() ) then
if ( Trig_SSS9_Func003Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_SSS9_Func004C() ) then
if ( Trig_SSS9_Func004Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_SSS9_Func005C() ) then
if ( Trig_SSS9_Func005Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30314D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_SSS9_Func006C() ) then
if ( Trig_SSS9_Func006Func001C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303243, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303246, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303131, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303139, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303341, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303346, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x68303348, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[GetForLoopIndexA()], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_n=GetRandomInt(1, 5)
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[udg_n], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
endif
else
endif
if ( Trig_SSS9_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_S9)
else
endif
endfunction
function InitTrig_SSS9 takes nothing returns nothing
set gg_trg_SSS9=CreateTrigger()
call DisableTrigger(gg_trg_SSS9)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS9, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS9, function Trig_SSS9_Actions)
endfunction
function Trig_CreateHero9_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func012C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero9_Actions takes nothing returns nothing
if ( Trig_CreateHero9_Func001C() ) then
set udg_EnemyHeroType[1]=0x4E303541
set udg_EnemyHeroType[2]=0x48303350
else
endif
if ( Trig_CreateHero9_Func002C() ) then
set udg_EnemyHeroType[1]=0x45303042
set udg_EnemyHeroType[2]=0x4E30354C
else
endif
if ( Trig_CreateHero9_Func003C() ) then
set udg_EnemyHeroType[1]=0x55303048
set udg_EnemyHeroType[2]=0x4E303457
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 5)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero9_Func012C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303341, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero9_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303450, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero9_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303341, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero9_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303452, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303451, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero9_Func016C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x68303345, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero9_Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303454, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7456")
set udg_SpawnPoints[1]=Location(15746.00, - 3728.00)
set udg_SpawnPoints[2]=Location(15034.00, 62.00)
set udg_SpawnPoints[3]=Location(12222.00, 1723.00)
set udg_SpawnPoints[4]=Location(13118.00, 6972.00)
set udg_SpawnPoints[5]=Location(15418.00, 9027.00)
endfunction
function InitTrig_CreateHero9 takes nothing returns nothing
set gg_trg_CreateHero9=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero9)
call TriggerAddAction(gg_trg_CreateHero9, function Trig_CreateHero9_Actions)
endfunction
function Trig_SkillBoss9_Func001C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(udg_Boss) == true ) ) then
return false
endif
return true
endfunction
function Trig_SkillBoss9_Actions takes nothing returns nothing
if ( Trig_SkillBoss9_Func001C() ) then
call DestroyTrigger(gg_trg_SkillBoss9_dmg)
call DestroyTrigger(GetTriggeringTrigger())
else
endif
call SetUnitInvulnerable(udg_Boss, true)
call PauseUnit(udg_Boss, true)
call UnitAddAbility(udg_Boss, 0x4130474E)
call SetUnitAnimation(udg_Boss, "spell")
call StartTimerBJ(udg_BossTimer, true, 1.00)
call PolledWait(4.10)
call PauseTimer(udg_BossTimer)
call ResetUnitAnimation(udg_Boss)
call UnitRemoveAbility(udg_Boss, 0x4130474E)
call SetUnitInvulnerable(udg_Boss, false)
call PauseUnit(udg_Boss, false)
endfunction
function InitTrig_SkillBoss9 takes nothing returns nothing
set gg_trg_SkillBoss9=CreateTrigger()
call DisableTrigger(gg_trg_SkillBoss9)
call TriggerRegisterTimerExpireEvent(gg_trg_SkillBoss9, udg_Every40sec)
call TriggerAddAction(gg_trg_SkillBoss9, function Trig_SkillBoss9_Actions)
endfunction
function Trig_SkillBoss9_dmg_Func005002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_SkillBoss9_dmg_Func005002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Boss)) == true )
endfunction
function Trig_SkillBoss9_dmg_Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_SkillBoss9_dmg_Func005002003001(), Trig_SkillBoss9_dmg_Func005002003002())
endfunction
function Trig_SkillBoss9_dmg_Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Boss, GetEnumUnit(), 1250.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_SkillBoss9_dmg_Actions takes nothing returns nothing
call SetUnitAnimation(udg_Boss, "spell")
set udg_p=GetUnitLoc(udg_Boss)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_p2=PolarProjectionBJ(udg_p, 200.00, ( 72.00 * I2R(GetForLoopIndexA()) ))
call AddSpecialEffectLocBJ(udg_p2, "Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_p2=PolarProjectionBJ(udg_p, 350.00, ( 45.00 * I2R(GetForLoopIndexA()) ))
call AddSpecialEffectLocBJ(udg_p2, "Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set udg_ug=GetUnitsInRangeOfLocMatching(400.00, udg_p, Condition(function Trig_SkillBoss9_dmg_Func005002003))
call ForGroupBJ(udg_ug, function Trig_SkillBoss9_dmg_Func006A)
call DestroyGroup(udg_ug)
endfunction
function InitTrig_SkillBoss9_dmg takes nothing returns nothing
set gg_trg_SkillBoss9_dmg=CreateTrigger()
call DisableTrigger(gg_trg_SkillBoss9_dmg)
call TriggerRegisterTimerExpireEvent(gg_trg_SkillBoss9_dmg, udg_BossTimer)
call TriggerAddAction(gg_trg_SkillBoss9_dmg, function Trig_SkillBoss9_dmg_Actions)
endfunction
function Trig_S21_Actions takes nothing returns nothing
local unit u
local integer a
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x65303054, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
if udg_WaveFase == 2 or udg_WaveFase == 3 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
elseif udg_WaveFase == 4 or udg_WaveFase == 5 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
elseif udg_WaveFase >= 6 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[1], 270)
call GroupAddUnit(udg_AttackGroup2, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint2)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303534, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[2], 270)
call GroupAddUnit(udg_AttackGroup3, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint3)
endif
set u=null
endfunction
function InitTrig_S21 takes nothing returns nothing
set gg_trg_S21=CreateTrigger()
call DisableTrigger(gg_trg_S21)
call TriggerRegisterTimerExpireEvent(gg_trg_S21, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S21, function Trig_S21_Actions)
endfunction
function Trig_SS21_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SS21_Actions takes nothing returns nothing
if ( Trig_SS21_Func001C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
if ( Trig_SS21_Func002C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
if ( Trig_SS21_Func003C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
if ( Trig_SS21_Func004C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
if ( Trig_SS21_Func005C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
if ( Trig_SS21_Func006C() ) then
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303536, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303145, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303255, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303342, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303537, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
endif
endfunction
function InitTrig_SS21 takes nothing returns nothing
set gg_trg_SS21=CreateTrigger()
call DisableTrigger(gg_trg_SS21)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SS21, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS21, function Trig_SS21_Actions)
endfunction
function Trig_SSS21_Func001Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func002Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func003Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func004Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func004C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func005Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func005C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func006Func001C takes nothing returns boolean
if ( not ( udg_Modifiers[9] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func006C takes nothing returns boolean
if ( not ( udg_WaveFase >= 6 ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Func007C takes nothing returns boolean
if ( not ( udg_Modifiers[1] == true ) ) then
return false
endif
return true
endfunction
function Trig_SSS21_Actions takes nothing returns nothing
if ( Trig_SSS21_Func001C() ) then
if ( Trig_SSS21_Func001Func001C() ) then
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func002C() ) then
if ( Trig_SSS21_Func002Func001C() ) then
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303242, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303236, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func003C() ) then
if ( Trig_SSS21_Func003Func001C() ) then
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func004C() ) then
if ( Trig_SSS21_Func004Func001C() ) then
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func005C() ) then
if ( Trig_SSS21_Func005Func001C() ) then
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func006C() ) then
if ( Trig_SSS21_Func006Func001C() ) then
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303430, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303256, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30334D, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303356, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
else
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303538, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303539, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6F303152, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303453, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
endif
else
endif
if ( Trig_SSS21_Func007C() ) then
call ConditionalTriggerExecute(gg_trg_S21)
else
endif
endfunction
function InitTrig_SSS21 takes nothing returns nothing
set gg_trg_SSS21=CreateTrigger()
call DisableTrigger(gg_trg_SSS21)
call TriggerRegisterTimerExpireEventBJ(gg_trg_SSS21, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS21, function Trig_SSS21_Actions)
endfunction
function Trig_CreateHeroDuo21_Func005C takes nothing returns boolean
if ( not ( udg_EnemyHeroType[1] == 0x55303041 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHeroDuo21_Func011C takes nothing returns boolean
if ( not ( udg_EnemyHeroType[1] == 0x55303041 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHeroDuo21_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHeroDuo21_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHeroDuo21_Actions takes nothing returns nothing
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[1], ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 3 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
if ( Trig_CreateHeroDuo21_Func005C() ) then
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 30)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 50)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 25)
else
endif
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[1], ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 3 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
if ( Trig_CreateHeroDuo21_Func011C() ) then
call ModifyHeroStat(bj_HEROSTAT_STR, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 30)
call ModifyHeroStat(bj_HEROSTAT_AGI, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 50)
call ModifyHeroStat(bj_HEROSTAT_INT, GetLastCreatedUnit(), bj_MODIFYMETHOD_SUB, 25)
else
endif
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
if ( Trig_CreateHeroDuo21_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHeroDuo21_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9784")
set udg_SpawnPoints[1]=Location(7166.00, 12222.00)
set udg_SpawnPoints[2]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHeroDuo21 takes nothing returns nothing
set gg_trg_CreateHeroDuo21=CreateTrigger()
call DisableTrigger(gg_trg_CreateHeroDuo21)
call TriggerAddAction(gg_trg_CreateHeroDuo21, function Trig_CreateHeroDuo21_Actions)
endfunction
function Trig_CreateHero21_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func006C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func007C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func008C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func009C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func010C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func011C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func017C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func018C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func019C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func020C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func021C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007Func022C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Func007C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero21_Actions takes nothing returns nothing
if ( Trig_CreateHero21_Func001C() ) then
set udg_EnemyHeroType[1]=0x4E30354C
set udg_EnemyHeroType[2]=0x45303042
else
endif
if ( Trig_CreateHero21_Func002C() ) then
set udg_EnemyHeroType[1]=0x5530304B
set udg_EnemyHeroType[2]=0x48303349
else
endif
if ( Trig_CreateHero21_Func003C() ) then
set udg_EnemyHeroType[1]=0x4E303230
set udg_EnemyHeroType[2]=0x48303344
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_n2=GetRandomInt(1, 2)
if ( Trig_CreateHero21_Func007C() ) then
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n2], ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 3 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
if ( Trig_CreateHero21_Func007Func017C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func018C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func019C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func020C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func021C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func022C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[1], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup2)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint2)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
else
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n2], ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 3 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
if ( Trig_CreateHero21_Func007Func006C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303349, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func007C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30334B, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x68303347, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func008C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303535, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E30324C, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func009C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303254, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303235, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x6E303248, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func010C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303143, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero21_Func007Func011C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30344F, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
call CreateNUnitsAtLoc(1, 0x75303146, ForcePickRandomPlayer(udg_AI), udg_SpawnPoints[2], bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup3)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint3)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
endif
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_9805")
set udg_SpawnPoints[1]=Location(7166.00, 12222.00)
set udg_SpawnPoints[2]=Location(7031.00, 9184.00)
endfunction
function InitTrig_CreateHero21 takes nothing returns nothing
set gg_trg_CreateHero21=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero21)
call TriggerAddAction(gg_trg_CreateHero21, function Trig_CreateHero21_Actions)
endfunction
function Trig_S22_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=GetRandomInt(1, 2)
if L == 1 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303545, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303545, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E6D7272, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E6D7272, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
if udg_WaveFase == 3 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
elseif udg_WaveFase >= 4 then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303548, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303545, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E6D7272, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=null
endfunction
function InitTrig_S22 takes nothing returns nothing
set gg_trg_S22=CreateTrigger()
call DisableTrigger(gg_trg_S22)
call TriggerRegisterTimerExpireEvent(gg_trg_S22, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S22, function Trig_S22_Actions)
endfunction
function Trig_SS22_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303544, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75676172, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75676172, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
if udg_WaveFase >= 3 then
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303147, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303147, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase >= 4 then
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303255, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303458, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase >= 5 then
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303255, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303146, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase >= 5 then
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303545, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E6D7272, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set u=null
endfunction
function InitTrig_SS22 takes nothing returns nothing
set gg_trg_SS22=CreateTrigger()
call DisableTrigger(gg_trg_SS22)
call TriggerRegisterTimerExpireEvent(gg_trg_SS22, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS22, function Trig_SS22_Actions)
endfunction
function Trig_SSS22_Actions takes nothing returns nothing
local unit u
local integer L
local integer a
if udg_WaveFase == 2 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303532, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_WaveFase == 3 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303347, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303532, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
endif
elseif udg_WaveFase == 4 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x68303347, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354B, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303532, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
endif
elseif udg_WaveFase == 5 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303451, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354B, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30314D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
endif
elseif udg_WaveFase >= 6 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303143, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303451, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30354B, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303552, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
else
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303546, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30314D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303549, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=L + 1
endloop
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303434, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
set L=GetRandomInt(1, 5)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E30334A, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderLoc(u, "attack", udg_DefPoint)
endif
endif
if udg_Modifiers[1] == true then
call TriggerExecute(gg_trg_S22)
endif
set u=null
endfunction
function InitTrig_SSS22 takes nothing returns nothing
set gg_trg_SSS22=CreateTrigger()
call DisableTrigger(gg_trg_SSS22)
call TriggerRegisterTimerExpireEvent(gg_trg_SSS22, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS22, function Trig_SSS22_Actions)
endfunction
function Trig_CreateHero22_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func011C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func012C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero22_Actions takes nothing returns nothing
if ( Trig_CreateHero22_Func001C() ) then
set udg_EnemyHeroType[1]=0x4E303230
set udg_EnemyHeroType[2]=0x48303344
else
endif
if ( Trig_CreateHero22_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303052
set udg_EnemyHeroType[2]=0x5530304E
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 5)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero22_Func011C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x75303049, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x6E303158, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero22_Func012C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E30315A, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero22_Func013C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call CreateNUnitsAtLoc(1, 0x75303146, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
else
endif
if ( Trig_CreateHero22_Func014C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303458, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x6E303338, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
call CreateNUnitsAtLoc(1, 0x75303059, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero22_Func015C() ) then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x7530304F, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_611")
set udg_SpawnPoints[1]=Location(15746.00, - 3728.00)
set udg_SpawnPoints[2]=Location(15034.00, 62.00)
set udg_SpawnPoints[3]=Location(12222.00, 1723.00)
set udg_SpawnPoints[4]=Location(13118.00, 6972.00)
set udg_SpawnPoints[5]=Location(15418.00, 9027.00)
endfunction
function InitTrig_CreateHero22 takes nothing returns nothing
set gg_trg_CreateHero22=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero22)
call TriggerAddAction(gg_trg_CreateHero22, function Trig_CreateHero22_Actions)
endfunction
function Trig_CreateHero22_extra_Actions takes nothing returns nothing
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(3, 9)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 2)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_WaveFase
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303545, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(3, 9)
set udg_p=udg_SpawnPoints[GetRandomInt(2, 3)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_WaveFase
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303545, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(3, 9)
set udg_p=udg_SpawnPoints[GetRandomInt(3, 4)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_WaveFase
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303545, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
set udg_n=GetRandomInt(3, 9)
set udg_p=udg_SpawnPoints[GetRandomInt(4, 5)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_WaveFase
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1, 0x6E303545, ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_7279")
set udg_SpawnPoints[1]=Location(15746.00, - 3728.00)
set udg_SpawnPoints[2]=Location(15034.00, 62.00)
set udg_SpawnPoints[3]=Location(12222.00, 1723.00)
set udg_SpawnPoints[4]=Location(13118.00, 6972.00)
set udg_SpawnPoints[5]=Location(15418.00, 9027.00)
endfunction
function InitTrig_CreateHero22_extra takes nothing returns nothing
set gg_trg_CreateHero22_extra=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero22_extra)
call TriggerAddAction(gg_trg_CreateHero22_extra, function Trig_CreateHero22_extra_Actions)
endfunction
function Trig_S23_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7567686F, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
if udg_WaveFase >= 2 then
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75637279, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
if udg_WaveFase >= 6 then
set L=GetRandomInt(1, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304D, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_WaveFase >= 4 then
set L=GetRandomInt(1, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303139, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase >= 7 then
set L=GetRandomInt(1, 6)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303147, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
set u=null
endfunction
function InitTrig_S23 takes nothing returns nothing
set gg_trg_S23=CreateTrigger()
call DisableTrigger(gg_trg_S23)
call TriggerRegisterTimerExpireEvent(gg_trg_S23, udg_SpawnTimer[1])
call TriggerAddAction(gg_trg_S23, function Trig_S23_Actions)
endfunction
function Trig_SS23_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set B=GetRandomInt(1, 6)
set L=1
loop
exitwhen L > 5
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7561636F, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75736864, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
if udg_WaveFase == 2 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303043, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303043, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303146, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_WaveFase >= 3 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x756D7477, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x756D7477, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303146, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase == 4 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7562616E, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7562616E, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase == 5 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303339, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303339, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
elseif udg_WaveFase >= 6 then
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303341, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
set u=null
endfunction
function InitTrig_SS23 takes nothing returns nothing
set gg_trg_SS23=CreateTrigger()
call DisableTrigger(gg_trg_SS23)
call TriggerRegisterTimerExpireEvent(gg_trg_SS23, udg_SpawnTimer[2])
call TriggerAddAction(gg_trg_SS23, function Trig_SS23_Actions)
endfunction
function Trig_SSS23_Actions takes nothing returns nothing
local unit u
local integer L
local integer B
local integer a
set B=GetRandomInt(1, 6)
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303049, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7530304F, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
else
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x756E6563, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x7561626F, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
endif
if udg_WaveFase == 2 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75736B65, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303349, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
endif
if udg_WaveFase == 3 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303145, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x756E6563, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
endif
if udg_WaveFase == 4 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 4
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303649, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303158, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
endif
if udg_WaveFase == 5 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303547, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 6
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303356, udg_SpawnPoints[L], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
endif
if udg_WaveFase >= 6 then
if udg_Modifiers[9] == true then
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x6E303635, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
else
set L=1
loop
exitwhen L > 2
set a=GetRandomInt(1, 3)
set u=CreateUnitAtLoc(AI[a], 0x75303059, udg_SpawnPoints[B], 270)
call GroupAddUnit(udg_AttackGroup, u)
call IssuePointOrderByIdLoc(u, Order_attack, udg_DefPoint)
set L=L + 1
endloop
endif
endif
if udg_Modifiers[1] == true then
call TriggerExecute(gg_trg_S23)
endif
set u=null
endfunction
function InitTrig_SSS23 takes nothing returns nothing
set gg_trg_SSS23=CreateTrigger()
call DisableTrigger(gg_trg_SSS23)
call TriggerRegisterTimerExpireEvent(gg_trg_SSS23, udg_SpawnTimer[3])
call TriggerAddAction(gg_trg_SSS23, function Trig_SSS23_Actions)
endfunction
function Trig_CreateHero23_Func001C takes nothing returns boolean
if ( not ( udg_WaveFase == 6 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func002C takes nothing returns boolean
if ( not ( udg_WaveFase == 7 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func003C takes nothing returns boolean
if ( not ( udg_WaveFase == 8 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func012C takes nothing returns boolean
if ( not ( udg_WaveFase == 1 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func013C takes nothing returns boolean
if ( not ( udg_WaveFase == 2 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func014C takes nothing returns boolean
if ( not ( udg_WaveFase == 3 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func015C takes nothing returns boolean
if ( not ( udg_WaveFase == 4 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Func016C takes nothing returns boolean
if ( not ( udg_WaveFase == 5 ) ) then
return false
endif
return true
endfunction
function Trig_CreateHero23_Actions takes nothing returns nothing
if ( Trig_CreateHero23_Func001C() ) then
set udg_EnemyHeroType[1]=0x4E303230
set udg_EnemyHeroType[2]=0x48303344
else
endif
if ( Trig_CreateHero23_Func002C() ) then
set udg_EnemyHeroType[1]=0x55303052
set udg_EnemyHeroType[2]=0x5530304E
else
endif
if ( Trig_CreateHero23_Func003C() ) then
set udg_EnemyHeroType[1]=0x55303148
set udg_EnemyHeroType[2]=0x55303058
else
endif
set udg_EnemyHeroLvl=( udg_EnemyHeroLvl + 1 )
set udg_n=GetRandomInt(1, 2)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
if ( Trig_CreateHero23_Func012C() ) then
set udg_EnemyHeroType[3]=0x55303042
set udg_EnemyHeroType[4]=0x5530304A
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(3, 4)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero23_Func013C() ) then
set udg_EnemyHeroType[3]=0x45303031
set udg_EnemyHeroType[4]=0x4830304D
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(3, 4)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero23_Func014C() ) then
set udg_EnemyHeroType[3]=0x48303151
set udg_EnemyHeroType[4]=0x4E303252
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(3, 4)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero23_Func015C() ) then
set udg_EnemyHeroType[3]=0x55303057
set udg_EnemyHeroType[4]=0x4830315A
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(3, 4)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_CreateHero23_Func016C() ) then
set udg_EnemyHeroType[3]=0x4E303541
set udg_EnemyHeroType[4]=0x48303350
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_n=GetRandomInt(3, 4)
set udg_p=udg_SpawnPoints[GetRandomInt(1, 6)]
call CreateNUnitsAtLoc(1, udg_EnemyHeroType[udg_n], ForcePickRandomPlayer(udg_AI), udg_p, bj_UNIT_FACING)
call SetHeroLevelBJ(GetLastCreatedUnit(), ( 4 + udg_EnemyHeroLvl ), false)
call PrepareEnemyHero(GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(), udg_AttackGroup)
call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", udg_DefPoint)
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
call RemoveLocation(udg_p)
call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_8870")
set udg_SpawnPoints[1]=Location(- 10111.00, 12928.00)
set udg_SpawnPoints[2]=Location(- 13184.00, 9856.00)
set udg_SpawnPoints[3]=Location(- 8832.00, 5504.00)
set udg_SpawnPoints[4]=Location(- 5761.00, 8576.00)
set udg_SpawnPoints[5]=Location(- 5761.00, 9858.00)
set udg_SpawnPoints[6]=Location(- 8832.00, 12929.00)
endfunction
function InitTrig_CreateHero23 takes nothing returns nothing
set gg_trg_CreateHero23=CreateTrigger()
call DisableTrigger(gg_trg_CreateHero23)
call TriggerAddAction(gg_trg_CreateHero23, function Trig_CreateHero23_Actions)
endfunction
function CloseHeroes takes nothing returns nothing
local unit u=GetEnteringUnit()
local player pl=GetEnumPlayer()
call SetPlayerTechMaxAllowed(pl, GetUnitTypeId(u), 0)
set u=null
set pl=null
endfunction
function Hero45_Move takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real dist=LoadReal(udg_hash, Id, 3)
local real x2=GetUnitX(u)
local real y2=GetUnitY(u)
local real heal
set x=DistanceNative(x , y , x2 , y2)
if LoadInteger(udg_hash, GetHandleId(u), 21) == 1 then
set heal=( 9 + 9 * I2R(GetUnitAbilityLevel(u, 0x4130384D)) + udg_ItemBonusDMG[n] * 0.05 ) * 0.10
if x > 10.00 then
set y=1.00 + ( x - 10.00 ) * 0.02
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + heal * y)
else
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + heal)
endif
endif
if LoadInteger(udg_hash, GetHandleId(u), 20) != 1 then
set dist=dist + x
if dist >= 500.00 then
set dist=0
call SaveInteger(udg_hash, GetHandleId(u), 20, 1)
endif
endif
if x > 10.00 then
set y=1.00 + ( x - 10.00 ) * 0.015
else
set y=1
endif
call SaveReal(udg_hash, GetHandleId(u), 20, 300 * y)
call SaveReal(udg_hash, Id, 1, x2)
call SaveReal(udg_hash, Id, 2, y2)
call SaveReal(udg_hash, Id, 3, dist)
set t=null
set u=null
endfunction
function Trig_HeroPick_Actions takes nothing returns nothing
local unit u=GetEnteringUnit()
local player pl=GetOwningPlayer(u)
local string name=GetPlayerName(pl)
local integer n=GetPlayerId(pl) + 1
local multiboarditem mbitem=null
local integer random
local timer t
local integer Id
if IsPlayerInForce(pl, udg_RandomCheck) == true then
call RemoveUnit(u)
set u=null
set pl=null
set mbitem=null
return
else
call ForceAddPlayer(udg_RandomCheck, pl)
endif
call ForForce(udg_PlayersGroup, function CloseHeroes)
call GroupAddUnit(udg_AllHeroes, u)
call RemoveUnit(Wisps[n])
set udg_Hero[n]=u
call SetUnitPositionLoc(u, udg_SpawnHeroPoint[n])
if GetLocalPlayer() == pl then
call ClearSelection()
call SelectUnit(u, true)
call PanCameraToTimed(GetLocationX(udg_SpawnHeroPoint[n]), GetLocationY(udg_SpawnHeroPoint[n]), 0)
endif
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 7.00, "|cFF07B4C2Игрок|r |cFFFFDC00" + ( GetPlayerName(pl) + ( "|r |cFF07B4C2выбрал героя|r |cFFFFA900" + ( GetUnitName(u) ) ) ))
if GetUnitTypeId(u) == 0x45303035 then
set udg_RHcheck[1]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills1, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4830304C then
set udg_RHcheck[2]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x48303050 then
set udg_RHcheck[3]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4830304E then
if name == "pingvin02" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x48303430, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[4]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills4, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4E30305A then
set udg_RHcheck[5]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills5, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4830304F then
if name == "pingvin02" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x48686B6C, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[6]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills6, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x48303058 then
set udg_RHcheck[7]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills7, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x48303132 then
set udg_RHcheck[8]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills8, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4830305A then
set udg_RHcheck[9]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills9, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4E303137 then
set udg_RHcheck[10]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills10, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4E303130 then
set udg_RHcheck[11]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills11, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303051 then
set udg_RHcheck[12]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x48303144 then
if name == "Mortemka" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x486C6772, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
set MarshalUnits[1]=0x68303044
set MarshalUnits[2]=0x68303045
set MarshalUnits[3]=0x65303130
set MarshalUnits[4]=0x6830304B
set MarshalUnits[5]=0x68737074
set MarshalUnits[6]=0x68303046
set MarshalUnits[7]=0x686D7072
set MarshalUnits[8]=0x68303355
set MarshalUnits[9]=0x68303356
set MarshalUnits[10]=0x65303132
set MarshalUnits[11]=0x68303359
else
set MarshalUnits[1]=0x68303352
set MarshalUnits[2]=0x65303045
set MarshalUnits[3]=0x68303353
set MarshalUnits[4]=0x68303047
set MarshalUnits[5]=0x6E303044
set MarshalUnits[6]=0x6E303135
set MarshalUnits[7]=0x6E303442
set MarshalUnits[8]=0x68303258
set MarshalUnits[9]=0x6530305A
set MarshalUnits[10]=0x68303354
set MarshalUnits[11]=0x6E303637
endif
set udg_RHcheck[13]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills13, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x48303145 then
set udg_RHcheck[14]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills14, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4E303156 then
set udg_RHcheck[15]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills15, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x48303147 then
if ( name == "Lorit" or name == "playofwar" or name == "kadet_bl00d" ) and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x48767764, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[16]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills16, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x45303041 then
set udg_RHcheck[17]=true
call SaveUnitHandle(udg_hash, GetHandleId(pl), 6, u)
call SaveInteger(udg_hash, GetHandleId(pl), 8, 1)
call TriggerRegisterUnitEvent(gg_trg_HeroSkills17, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4E303245 then
set udg_RHcheck[18]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills18, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303143 then
set udg_RHcheck[19]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills19, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroLvlUp19, u, EVENT_UNIT_HERO_LEVEL)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4E30314B then
set udg_RHcheck[20]=true
call SaveBoolean(udg_hash, GetHandleId(u), 1, false)
call TriggerRegisterUnitEvent(gg_trg_HeroSkills20, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x48303146 then
set udg_RHcheck[21]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills21, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4E303150 then
if ( name == "Lorit" or name == "XxRiKxX123" or name == "ItsWho" or name == "LATINICASNOWMAN" ) and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x4E303645, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[22]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills22, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroGiveSkills22, u, EVENT_UNIT_HERO_SKILL)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303149 then
if ( name == "Lorit" or name == "LATINICASNOWMAN" ) and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x48616D67, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[23]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills23, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroW23_Stop, u, EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(gg_trg_HeroW23, u, EVENT_UNIT_SPELL_CAST)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4E303237 then
set udg_RHcheck[24]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills24, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroSkillCheck24, u, EVENT_UNIT_SPELL_CAST)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4F303135 then
set udg_RHcheck[25]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills25, u, EVENT_UNIT_SPELL_EFFECT)
call SaveInteger(udg_hash, GetHandleId(u), 26, 1)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4E30324B then
call TriggerRegisterUnitEvent(gg_trg_HeroSkills26, u, EVENT_UNIT_SPELL_EFFECT)
set udg_RHcheck[26]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x55303051 then
if ( name == "Lorit" or name == "Danandan_03" ) and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x4E62726E, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
call TriggerRegisterUnitEvent(gg_trg_HeroSkills27, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroGiveSkills27, u, EVENT_UNIT_HERO_SKILL)
set udg_RHcheck[27]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303148 then
set udg_RHcheck[28]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills28, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x48303234 then
set udg_RHcheck[29]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills29, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroCheckSkills29, u, EVENT_UNIT_SPELL_CAST)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303235 then
if ( name == "Lorit" or name == "LATINICASNOWMAN" or name == "XxRiKxX123" or name == "kadet_bl00d" or name == "playofwar" ) and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x48617266, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[30]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills30, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroSkillE30, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x55303131 then
set udg_RHcheck[31]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills31, u, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_HeroSkillR31, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4F30314D then
set udg_RuneDefender=u
call SaveReal(udg_hash, GetHandleId(u), 2, 15.00)
set udg_RHcheck[32]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills32, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4F30314F then
if name == "pingvin02" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x45303133, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[33]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills33, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4E303352 then
if name == "Bykaki" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x4E666972, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 25.00)
call GroupAddUnit(udg_AllHeroes, u)
else
call SaveReal(udg_hash, GetHandleId(u), 2, 25.00)
endif
set udg_RHcheck[34]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills34, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4E303353 then
set udg_StormPanda=u
set udg_RHcheck[35]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4530304D then
set udg_Moon=u
set udg_RHcheck[36]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4530304F then
if name == "Bykaki" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x45303134, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[37]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills37, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x4F303232 then
set udg_Kilrogg=u
call TimerStart(udg_KilroggTimer[3], 1.00, true, null)
set udg_RHcheck[38]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x55303144 then
set udg_Dreadlord=u
set udg_RHcheck[39]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4E303554 then
set udg_RHcheck[40]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills40, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4E303642 then
set udg_RHcheck[41]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills41, u, EVENT_UNIT_SPELL_EFFECT)
call SaveInteger(udg_hash, GetHandleId(pl), 10, 1)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x4830335A then
set udg_RHcheck[42]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills42, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x486D6B67 then
set udg_RHcheck[43]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills43, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4830324C then
set udg_Legat=u
set udg_RHcheck[44]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "STR")
elseif GetUnitTypeId(u) == 0x4E70626D then
set udg_RHcheck[45]=true
call TriggerRegisterUnitEvent(gg_trg_HeroSkills45, u, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
call SaveReal(udg_hash, GetHandleId(u), 20, 300)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 0.10, true, function Hero45_Move)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, GetUnitX(u))
call SaveReal(udg_hash, Id, 2, GetUnitY(u))
call SaveReal(udg_hash, Id, 3, 0)
elseif GetUnitTypeId(u) == 0x48303259 then
set udg_Bard=u
set udg_RHcheck[46]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
elseif GetUnitTypeId(u) == 0x45303053 then
set udg_Silver=u
call EnableTrigger(gg_trg_HeroKills49)
set udg_RHcheck[49]=true
call SaveStr(udg_hash, GetHandleId(u), 1, "AGI")
elseif GetUnitTypeId(u) == 0x48303159 then
if name == "teod0r" and LoadInteger(udg_hash, GetHandleId(pl), 11) == 1 then
call GroupRemoveUnit(udg_AllHeroes, u)
call ReplaceUnitBJ(u, 0x486A6169, bj_UNIT_STATE_METHOD_RELATIVE)
set u=bj_lastReplacedUnit
set udg_Hero[n]=u
set mbitem=MultiboardGetItem(udg_Board, n, 1)
call MultiboardSetItemIcon(mbitem, LoadStr(udg_hash, 1, GetUnitTypeId(u)))
call MultiboardReleaseItem(mbitem)
call SaveReal(udg_hash, GetHandleId(u), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u), 2, 45.00)
call GroupAddUnit(udg_AllHeroes, u)
endif
set udg_RHcheck[51]=true
call TriggerRegisterUnitEvent(gg_trg_HeroW51_Stop, u, EVENT_UNIT_SPELL_ENDCAST)
call SaveStr(udg_hash, GetHandleId(u), 1, "INT")
endif
call TriggerRegisterUnitEvent(gg_trg_ChangePoints, u, EVENT_UNIT_SPELL_EFFECT)
if udg_PlayersCount <= 4 then
set Id=T2_CreateItem()
call UnitAddItemById(u, Id)
endif
if ExpGo[n - 1] >= 1400000 then
set Id=T2_CreateItem()
call UnitAddItemById(u, Id)
elseif ExpGo[n - 1] >= 400000 then
set Id=T1_CreateItem()
call UnitAddItemById(u, Id)
endif
if ExpGo[n - 1] >= 1000000 then
call DisableTrigger(gg_trg_AddStat)
call SetHeroStr(u, GetHeroStr(u, false) + 3, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + 3, true)
call SetHeroInt(u, GetHeroInt(u, false) + 3, true)
call EnableTrigger(gg_trg_AddStat)
elseif ExpGo[n - 1] >= 600000 then
call DisableTrigger(gg_trg_AddStat)
call SetHeroStr(u, GetHeroStr(u, false) + 2, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + 2, true)
call SetHeroInt(u, GetHeroInt(u, false) + 2, true)
call EnableTrigger(gg_trg_AddStat)
elseif ExpGo[n - 1] >= 275000 then
call DisableTrigger(gg_trg_AddStat)
call SetHeroStr(u, GetHeroStr(u, false) + 1, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + 1, true)
call SetHeroInt(u, GetHeroInt(u, false) + 1, true)
call EnableTrigger(gg_trg_AddStat)
endif
if name == "Brovastik_kg" or name == "DarkSheep" or name == "Baspente" or name == "MAN0-1" or name == "LATINICASNOWMAN" then
set random=GetRandomInt(1, 3)
if random == 1 then
call UnitAddItemById(u, 0x4930384D)
elseif random == 2 then
call UnitAddItemById(u, 0x49303958)
else
call UnitAddItemById(u, 0x49303034)
endif
elseif name == "Pingvin987" or name == "Kuala_Oleg" or name == "cruz3rswd" or name == "XxRiKxX123" or name == "teod0r#2722" then
set random=GetRandomInt(1, 3)
if random == 1 then
call UnitAddItemById(u, 0x49303955)
elseif random == 2 then
call UnitAddItemById(u, 0x49303959)
else
call UnitAddItemById(u, 0x49303036)
endif
elseif name == "Lorit" or name == "playofwar" or name == "ItsWho" or name == "kadet_bl00d" or name == "teod0r" or name == "texnopriestt" or name == "Alllayar" or name == "Mortemka" or name == "pingvin02" or name == "gordik0101" or name == "KymaHask" or name == "Bykaki" or name == "Geforce_RXT" or name == "Fedozzz" or name == "jokerrr3943" then
call UnitAddItemById(u, 0x49304148)
endif
set u=null
set pl=null
set mbitem=null
set t=null
endfunction
function InitTrig_HeroPick takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t, gg_rct_PickHero)
call TriggerAddAction(t, function Trig_HeroPick_Actions)
set t=null
endfunction
function Trig_RandomHero_Conditions takes nothing returns boolean
return IsPlayerInForce(GetTriggerPlayer(), udg_RandomCheck) == false
endfunction
function RandomAll takes integer n returns nothing
local integer array RH
local integer RH_max
local integer L
local real x=GetRectCenterX(gg_rct_PickHero)
local real y=GetRectCenterY(gg_rct_PickHero)
local unit u
set RH[1]=0x45303035
set RH[2]=0x4830304C
set RH[3]=0x48303050
set RH[4]=0x4830304E
set RH[5]=0x4E30305A
set RH[6]=0x4830304F
set RH[7]=0x48303058
set RH[8]=0x48303132
set RH[9]=0x4830305A
set RH[10]=0x4E303137
set RH[11]=0x4E303130
set RH[12]=0x48303051
set RH[13]=0x48303144
set RH[14]=0x48303145
set RH[15]=0x4E303156
set RH[16]=0x48303147
set RH[17]=0x45303041
set RH[18]=0x4E303245
set RH_max=18
if ExpGo[n] >= 400 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303143
endif
if ExpGo[n] >= 800 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E30314B
endif
if ExpGo[n] >= 1200 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303146
endif
if ExpGo[n] >= 1600 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303150
endif
if ExpGo[n] >= 2000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303149
endif
if ExpGo[n] >= 2500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303237
endif
if ExpGo[n] >= 3000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F303135
endif
if ExpGo[n] >= 4000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E30324B
endif
if ExpGo[n] >= 5000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303051
endif
if ExpGo[n] >= 6500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303148
endif
if ExpGo[n] >= 8000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303234
endif
if ExpGo[n] >= 10000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303235
endif
if ExpGo[n] >= 12500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303131
endif
if ExpGo[n] >= 15000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F30314D
endif
if ExpGo[n] >= 17500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F30314F
endif
if ExpGo[n] >= 20000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303352
endif
if ExpGo[n] >= 25000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303353
endif
if ExpGo[n] >= 30000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4530304D
endif
if ExpGo[n] >= 35000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4530304F
endif
if ExpGo[n] >= 40000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F303232
endif
if ExpGo[n] >= 45000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303144
endif
if ExpGo[n] >= 50000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303554
endif
if ExpGo[n] >= 60000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303642
endif
if ExpGo[n] >= 75000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4830335A
endif
if ExpGo[n] >= 90000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x486D6B67
endif
if ExpGo[n] >= 105000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4830324C
endif
if ExpGo[n] >= 125000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E70626D
endif
if ExpGo[n] >= 150000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303259
endif
if ExpGo[n] >= 225000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x45303053
endif
if ExpGo[n] >= 300000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303159
endif
loop
set L=GetRandomInt(1, RH_max)
exitwhen udg_RHcheck[L] == false
endloop
if ExpGo[n] >= 1900000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 250)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 250 ед. золота за выбор случайного героя!|r")
elseif ExpGo[n] >= 250000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 200)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 200 ед. золота за выбор случайного героя!|r")
else
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 150)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 150 ед. золота за выбор случайного героя!|r")
endif
set u=CreateUnit(Player(n), RH[L], x, y, 270)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
set u=null
endfunction
function Trig_RandomHero_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl)
call RandomAll(n)
set pl=null
endfunction
function InitTrig_RandomHero takes nothing returns nothing
set gg_trg_RandomHero=CreateTrigger()
call DisableTrigger(gg_trg_RandomHero)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(0), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(1), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(2), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(3), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(4), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(5), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(6), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(7), "-random", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(0), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(1), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(2), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(3), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(4), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(5), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(6), "-r", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero, Player(7), "-r", true)
call TriggerAddCondition(gg_trg_RandomHero, Condition(function Trig_RandomHero_Conditions))
call TriggerAddAction(gg_trg_RandomHero, function Trig_RandomHero_Actions)
endfunction
function Trig_RandomHero_Str_Conditions takes nothing returns boolean
return IsPlayerInForce(GetTriggerPlayer(), udg_RandomCheck) == false
endfunction
function RandomStr takes integer n returns nothing
local integer array RH
local integer RH_max
local integer L
local real x=GetRectCenterX(gg_rct_PickHero)
local real y=GetRectCenterY(gg_rct_PickHero)
local unit u
local integer RH_limit=1
set RH[1]=0x4830304C
set RH[2]=0x48303050
set RH[3]=0x4830305A
set RH[4]=0x4E303137
set RH[5]=0x48303144
set RH[6]=0x4E303156
set RH_max=6
if ExpGo[n] >= 400 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303143
endif
if ExpGo[n] >= 2500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303237
endif
if ExpGo[n] >= 4000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E30324B
endif
if ExpGo[n] >= 6500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303148
endif
if ExpGo[n] >= 10000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303235
endif
if ExpGo[n] >= 15000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F30314D
endif
if ExpGo[n] >= 40000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F303232
endif
if ExpGo[n] >= 90000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x486D6B67
endif
if ExpGo[n] >= 105000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4830324C
endif
loop
set L=GetRandomInt(1, RH_max)
if udg_RHcheck[L] == true then
set RH_limit=RH_limit + 1
if RH_limit == RH_max then
call DisplayTimedTextToPlayer(Player(n), 0, 0, 10, "|cFFFF0000Нет доступных героев!|r")
set u=null
return
endif
endif
exitwhen udg_RHcheck[L] == false
endloop
if ExpGo[n] >= 1900000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 150)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 150 ед. золота за выбор случайного героя!|r")
elseif ExpGo[n] >= 250000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 125)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 125 ед. золота за выбор случайного героя!|r")
else
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 100)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 100 ед. золота за выбор случайного героя!|r")
endif
set u=CreateUnit(Player(n), RH[L], x, y, 270)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
set u=null
endfunction
function Trig_RandomHero_Str_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl)
call RandomStr(n)
set pl=null
endfunction
function InitTrig_RandomHero_Str takes nothing returns nothing
set gg_trg_RandomHero_Str=CreateTrigger()
call DisableTrigger(gg_trg_RandomHero_Str)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(0), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(1), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(2), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(3), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(4), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(5), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(6), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(7), "-random str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(0), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(1), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(2), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(3), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(4), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(5), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(6), "-r str", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Str, Player(7), "-r str", true)
call TriggerAddCondition(gg_trg_RandomHero_Str, Condition(function Trig_RandomHero_Str_Conditions))
call TriggerAddAction(gg_trg_RandomHero_Str, function Trig_RandomHero_Str_Actions)
endfunction
function Trig_RandomHero_Agi_Conditions takes nothing returns boolean
return IsPlayerInForce(GetTriggerPlayer(), udg_RandomCheck) == false
endfunction
function RandomAgi takes integer n returns nothing
local integer array RH
local integer RH_max
local integer L
local real x=GetRectCenterX(gg_rct_PickHero)
local real y=GetRectCenterY(gg_rct_PickHero)
local unit u
local integer RH_limit=1
set RH[1]=0x45303035
set RH[2]=0x4830304E
set RH[3]=0x4E30305A
set RH[4]=0x4E303130
set RH[5]=0x48303147
set RH[6]=0x4E303245
set RH_max=6
if ExpGo[n] >= 1600 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303150
endif
if ExpGo[n] >= 3000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F303135
endif
if ExpGo[n] >= 5000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303051
endif
if ExpGo[n] >= 8000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303234
endif
if ExpGo[n] >= 17500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4F30314F
endif
if ExpGo[n] >= 30000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4530304D
endif
if ExpGo[n] >= 45000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303144
endif
if ExpGo[n] >= 50000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303554
endif
if ExpGo[n] >= 60000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303642
endif
if ExpGo[n] >= 125000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E70626D
endif
if ExpGo[n] >= 225000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x45303053
endif
loop
set L=GetRandomInt(1, RH_max)
if udg_RHcheck[L] == true then
set RH_limit=RH_limit + 1
if RH_limit == RH_max then
call DisplayTimedTextToPlayer(Player(n), 0, 0, 10, "|cFFFF0000Нет доступных героев!|r")
set u=null
return
endif
endif
exitwhen udg_RHcheck[L] == false
endloop
if ExpGo[n] >= 1900000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 150)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 150 ед. золота за выбор случайного героя!|r")
elseif ExpGo[n] >= 250000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 125)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 125 ед. золота за выбор случайного героя!|r")
else
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 100)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 100 ед. золота за выбор случайного героя!|r")
endif
set u=CreateUnit(Player(n), RH[L], x, y, 270)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
set u=null
endfunction
function Trig_RandomHero_Agi_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl)
call RandomAgi(n)
set pl=null
endfunction
function InitTrig_RandomHero_Agi takes nothing returns nothing
set gg_trg_RandomHero_Agi=CreateTrigger()
call DisableTrigger(gg_trg_RandomHero_Agi)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(0), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(1), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(2), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(3), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(4), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(5), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(6), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(7), "-random agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(0), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(1), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(2), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(3), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(4), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(5), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(6), "-r agi", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Agi, Player(7), "-r agi", true)
call TriggerAddCondition(gg_trg_RandomHero_Agi, Condition(function Trig_RandomHero_Agi_Conditions))
call TriggerAddAction(gg_trg_RandomHero_Agi, function Trig_RandomHero_Agi_Actions)
endfunction
function Trig_RandomHero_Int_Conditions takes nothing returns boolean
return IsPlayerInForce(GetTriggerPlayer(), udg_RandomCheck) == false
endfunction
function RandomInt takes integer n returns nothing
local integer array RH
local integer RH_max
local integer L
local real x=GetRectCenterX(gg_rct_PickHero)
local real y=GetRectCenterY(gg_rct_PickHero)
local unit u
local integer RH_limit=1
set RH[1]=0x4830304F
set RH[2]=0x48303058
set RH[3]=0x48303132
set RH[4]=0x48303051
set RH[5]=0x48303145
set RH[6]=0x45303041
set RH_max=6
if ExpGo[n] >= 800 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E30314B
endif
if ExpGo[n] >= 1200 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303146
endif
if ExpGo[n] >= 2000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303149
endif
if ExpGo[n] >= 12500 then
set RH_max=RH_max + 1
set RH[RH_max]=0x55303131
endif
if ExpGo[n] >= 20000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303352
endif
if ExpGo[n] >= 25000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4E303353
endif
if ExpGo[n] >= 35000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4530304F
endif
if ExpGo[n] >= 75000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x4830335A
endif
if ExpGo[n] >= 150000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303259
endif
if ExpGo[n] >= 300000 then
set RH_max=RH_max + 1
set RH[RH_max]=0x48303159
endif
loop
set L=GetRandomInt(1, RH_max)
if udg_RHcheck[L] == true then
set RH_limit=RH_limit + 1
if RH_limit == RH_max then
call DisplayTimedTextToPlayer(Player(n), 0, 0, 10, "|cFFFF0000Нет доступных героев!|r")
set u=null
return
endif
endif
exitwhen udg_RHcheck[L] == false
endloop
if ExpGo[n] >= 1900000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 150)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 150 ед. золота за выбор случайного героя!|r")
elseif ExpGo[n] >= 250000 then
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 125)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 125 ед. золота за выбор случайного героя!|r")
else
call SetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(n), PLAYER_STATE_RESOURCE_GOLD) + 100)
call DisplayTimedTextToPlayer(Player(n), 0, 0, 20, "|cFFFFDC00Вы получили 100 ед. золота за выбор случайного героя!|r")
endif
set u=CreateUnit(Player(n), RH[L], x, y, 270)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MAX_MANA))
set u=null
endfunction
function Trig_RandomHero_Int_Actions takes nothing returns nothing
local player pl=GetTriggerPlayer()
local integer n=GetPlayerId(pl)
call RandomInt(n)
set pl=null
endfunction
function InitTrig_RandomHero_Int takes nothing returns nothing
set gg_trg_RandomHero_Int=CreateTrigger()
call DisableTrigger(gg_trg_RandomHero_Int)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(0), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(1), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(2), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(3), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(4), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(5), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(6), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(7), "-random int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(0), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(1), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(2), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(3), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(4), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(5), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(6), "-r int", true)
call TriggerRegisterPlayerChatEvent(gg_trg_RandomHero_Int, Player(7), "-r int", true)
call TriggerAddCondition(gg_trg_RandomHero_Int, Condition(function Trig_RandomHero_Int_Conditions))
call TriggerAddAction(gg_trg_RandomHero_Int, function Trig_RandomHero_Int_Actions)
endfunction
function Trig_ClearUnusedHeroes_Func011C takes nothing returns boolean
if ( not ( udg_RHcheck[1] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func012C takes nothing returns boolean
if ( not ( udg_RHcheck[2] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func013C takes nothing returns boolean
if ( not ( udg_RHcheck[3] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func014C takes nothing returns boolean
if ( not ( udg_RHcheck[4] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func015C takes nothing returns boolean
if ( not ( udg_RHcheck[5] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func016C takes nothing returns boolean
if ( not ( udg_RHcheck[6] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func017C takes nothing returns boolean
if ( not ( udg_RHcheck[7] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func018C takes nothing returns boolean
if ( not ( udg_RHcheck[8] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func019C takes nothing returns boolean
if ( not ( udg_RHcheck[9] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func020C takes nothing returns boolean
if ( not ( udg_RHcheck[10] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func021C takes nothing returns boolean
if ( not ( udg_RHcheck[11] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func022C takes nothing returns boolean
if ( not ( udg_RHcheck[12] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func023C takes nothing returns boolean
if ( not ( udg_RHcheck[13] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func024C takes nothing returns boolean
if ( not ( udg_RHcheck[14] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func025C takes nothing returns boolean
if ( not ( udg_RHcheck[15] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func026C takes nothing returns boolean
if ( not ( udg_RHcheck[16] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func027C takes nothing returns boolean
if ( not ( udg_RHcheck[17] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func028C takes nothing returns boolean
if ( not ( udg_RHcheck[18] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func029C takes nothing returns boolean
if ( not ( udg_RHcheck[19] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func030C takes nothing returns boolean
if ( not ( udg_RHcheck[20] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func031C takes nothing returns boolean
if ( not ( udg_RHcheck[21] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func032C takes nothing returns boolean
if ( not ( udg_RHcheck[22] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func033C takes nothing returns boolean
if ( not ( udg_RHcheck[23] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func034C takes nothing returns boolean
if ( not ( udg_RHcheck[24] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func035C takes nothing returns boolean
if ( not ( udg_RHcheck[25] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func036C takes nothing returns boolean
if ( not ( udg_RHcheck[26] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func037C takes nothing returns boolean
if ( not ( udg_RHcheck[27] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func038C takes nothing returns boolean
if ( not ( udg_RHcheck[28] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func039C takes nothing returns boolean
if ( not ( udg_RHcheck[29] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func040C takes nothing returns boolean
if ( not ( udg_RHcheck[30] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func041C takes nothing returns boolean
if ( not ( udg_RHcheck[31] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func042C takes nothing returns boolean
if ( not ( udg_RHcheck[32] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func043C takes nothing returns boolean
if ( not ( udg_RHcheck[33] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func044C takes nothing returns boolean
if ( not ( udg_RHcheck[34] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func045C takes nothing returns boolean
if ( not ( udg_RHcheck[35] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func046C takes nothing returns boolean
if ( not ( udg_RHcheck[36] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func047C takes nothing returns boolean
if ( not ( udg_RHcheck[37] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func048C takes nothing returns boolean
if ( not ( udg_RHcheck[38] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func049C takes nothing returns boolean
if ( not ( udg_RHcheck[39] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func050C takes nothing returns boolean
if ( not ( udg_RHcheck[40] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func051C takes nothing returns boolean
if ( not ( udg_RHcheck[41] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func052C takes nothing returns boolean
if ( not ( udg_RHcheck[42] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func053C takes nothing returns boolean
if ( not ( udg_RHcheck[43] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func054C takes nothing returns boolean
if ( not ( udg_RHcheck[44] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func055C takes nothing returns boolean
if ( not ( udg_RHcheck[45] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func056C takes nothing returns boolean
if ( not ( udg_RHcheck[46] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func057C takes nothing returns boolean
if ( not ( udg_RHcheck[49] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Func058C takes nothing returns boolean
if ( not ( udg_RHcheck[51] == false ) ) then
return false
endif
return true
endfunction
function Trig_ClearUnusedHeroes_Actions takes nothing returns nothing
call RemoveUnit(gg_unit_n005_0082)
call RemoveUnit(gg_unit_n007_0164)
call RemoveUnit(gg_unit_n009_0165)
call RemoveUnit(gg_unit_n006_0095)
call RemoveUnit(gg_unit_n008_0166)
call RemoveUnit(gg_unit_n004_0096)
call DestroyTrigger(gg_trg_RandomHero)
call DestroyTrigger(gg_trg_RandomHero_Str)
call DestroyTrigger(gg_trg_RandomHero_Agi)
call DestroyTrigger(gg_trg_RandomHero_Int)
if ( Trig_ClearUnusedHeroes_Func011C() ) then
call DestroyTrigger(gg_trg_HeroSkills1)
call DestroyTrigger(gg_trg_HeroQ1)
call DestroyTrigger(gg_trg_HeroD1)
else
endif
if ( Trig_ClearUnusedHeroes_Func012C() ) then
call DestroyTrigger(gg_trg_HeroSkills2)
call DestroyTrigger(gg_trg_HeroR2)
call DestroyTrigger(gg_trg_HeroDeath2)
call DestroyTrigger(gg_trg_HeroQ2)
call DestroyTrigger(gg_trg_HeroW2)
call DestroyTrigger(gg_trg_HeroE2)
call DestroyTrigger(gg_trg_HeroE2Up)
else
endif
if ( Trig_ClearUnusedHeroes_Func013C() ) then
call DestroyTrigger(gg_trg_HeroSkills3)
call DestroyTrigger(gg_trg_HeroQ3)
call DestroyTrigger(gg_trg_HeroW3)
else
endif
if ( Trig_ClearUnusedHeroes_Func014C() ) then
call DestroyTrigger(gg_trg_HeroSkills4)
call DestroyTrigger(gg_trg_HeroSkills4_Shotgun)
call DestroyTrigger(gg_trg_HeroGiveSkills4)
call DestroyTrigger(gg_trg_HeroKills4)
call DestroyTrigger(gg_trg_HeroAttack4)
call DestroyTrigger(gg_trg_HeroAttack4_Shotgun)
else
endif
if ( Trig_ClearUnusedHeroes_Func015C() ) then
call DestroyTrigger(gg_trg_HeroSkills5)
else
endif
if ( Trig_ClearUnusedHeroes_Func016C() ) then
call DestroyTrigger(gg_trg_HeroSkills6)
else
endif
if ( Trig_ClearUnusedHeroes_Func017C() ) then
call DestroyTrigger(gg_trg_HeroSkills7)
else
endif
if ( Trig_ClearUnusedHeroes_Func018C() ) then
call DestroyTrigger(gg_trg_HeroSkills8)
else
endif
if ( Trig_ClearUnusedHeroes_Func019C() ) then
call DestroyTrigger(gg_trg_HeroSkills9)
call DestroyTrigger(gg_trg_HeroDeath9)
else
endif
if ( Trig_ClearUnusedHeroes_Func020C() ) then
call DestroyTrigger(gg_trg_HeroSkills10)
call DestroyTrigger(gg_trg_HeroAttack10)
else
endif
if ( Trig_ClearUnusedHeroes_Func021C() ) then
call DestroyTrigger(gg_trg_HeroSkills11)
call DestroyTrigger(gg_trg_HeroKills11)
call DestroyTrigger(gg_trg_HeroAttack11)
else
endif
if ( Trig_ClearUnusedHeroes_Func022C() ) then
call DestroyTrigger(gg_trg_HeroSkills12)
else
endif
if ( Trig_ClearUnusedHeroes_Func023C() ) then
call DestroyTrigger(gg_trg_HeroSkills13)
else
endif
if ( Trig_ClearUnusedHeroes_Func024C() ) then
call DestroyTrigger(gg_trg_HeroSkills14)
else
endif
if ( Trig_ClearUnusedHeroes_Func025C() ) then
call DestroyTrigger(gg_trg_HeroSkills15)
call DestroyTrigger(gg_trg_HeroKills15)
call DestroyTrigger(gg_trg_HeroItems15)
else
endif
if ( Trig_ClearUnusedHeroes_Func026C() ) then
call DestroyTrigger(gg_trg_HeroSkills16)
call DestroyTrigger(gg_trg_HeroR16)
call DestroyTrigger(gg_trg_HeroQ16)
call DestroyTrigger(gg_trg_HeroD16)
call DestroyTrigger(gg_trg_HeroW16)
call DestroyTrigger(gg_trg_HeroW16Up)
else
endif
if ( Trig_ClearUnusedHeroes_Func027C() ) then
call DestroyTrigger(gg_trg_HeroSkills17)
call DestroyTrigger(gg_trg_HeroDeath17)
else
endif
if ( Trig_ClearUnusedHeroes_Func028C() ) then
call DestroyTrigger(gg_trg_HeroSkills18)
else
endif
if ( Trig_ClearUnusedHeroes_Func029C() ) then
call DestroyTrigger(gg_trg_HeroSkills19)
call DestroyTrigger(gg_trg_HeroLvlUp19)
else
endif
if ( Trig_ClearUnusedHeroes_Func030C() ) then
call DestroyTrigger(gg_trg_HeroSkills20)
call DestroyTrigger(gg_trg_HeroDeath20)
else
endif
if ( Trig_ClearUnusedHeroes_Func031C() ) then
call DestroyTrigger(gg_trg_HeroSkills21)
else
endif
if ( Trig_ClearUnusedHeroes_Func032C() ) then
call DestroyTrigger(gg_trg_HeroSkills22)
call DestroyTrigger(gg_trg_HeroAttack22)
call DestroyTrigger(gg_trg_HeroGiveSkills22)
else
endif
if ( Trig_ClearUnusedHeroes_Func033C() ) then
call DestroyTrigger(gg_trg_HeroSkills23)
call DestroyTrigger(gg_trg_HeroW23)
call DestroyTrigger(gg_trg_HeroW23_Stop)
else
endif
if ( Trig_ClearUnusedHeroes_Func034C() ) then
call DestroyTrigger(gg_trg_HeroSkills24)
call DestroyTrigger(gg_trg_HeroSkillCheck24)
call DestroyTrigger(gg_trg_HeroAttack24)
else
endif
if ( Trig_ClearUnusedHeroes_Func035C() ) then
call DestroyTrigger(gg_trg_HeroSkills25)
call DestroyTrigger(gg_trg_HeroKills25)
else
endif
if ( Trig_ClearUnusedHeroes_Func036C() ) then
call DestroyTrigger(gg_trg_HeroSkills26)
else
endif
if ( Trig_ClearUnusedHeroes_Func037C() ) then
call DestroyTrigger(gg_trg_HeroSkills27)
call DestroyTrigger(gg_trg_HeroKills27)
call DestroyTrigger(gg_trg_HeroGiveSkills27)
else
endif
if ( Trig_ClearUnusedHeroes_Func038C() ) then
call DestroyTrigger(gg_trg_HeroSkills28)
call DestroyTrigger(gg_trg_HeroKills28)
call DestroyTrigger(gg_trg_HeroBuild28)
call DestroyTrigger(gg_trg_HeroGiveSkills28)
else
endif
if ( Trig_ClearUnusedHeroes_Func039C() ) then
call DestroyTrigger(gg_trg_HeroSkills29)
call DestroyTrigger(gg_trg_HeroCheckSkills29)
else
endif
if ( Trig_ClearUnusedHeroes_Func040C() ) then
call DestroyTrigger(gg_trg_HeroSkills30)
call DestroyTrigger(gg_trg_HeroSkillE30)
else
endif
if ( Trig_ClearUnusedHeroes_Func041C() ) then
call DestroyTrigger(gg_trg_HeroSkills31)
call DestroyTrigger(gg_trg_HeroSkillR31)
else
endif
if ( Trig_ClearUnusedHeroes_Func042C() ) then
call DestroyTrigger(gg_trg_HeroSkills32)
else
endif
if ( Trig_ClearUnusedHeroes_Func043C() ) then
call DestroyTrigger(gg_trg_HeroSkills33)
call DestroyTrigger(gg_trg_HeroKills33)
else
endif
if ( Trig_ClearUnusedHeroes_Func044C() ) then
call DestroyTrigger(gg_trg_HeroSkills34)
call DestroyTrigger(gg_trg_HeroAttack34)
else
endif
if ( Trig_ClearUnusedHeroes_Func045C() ) then
call DestroyTrigger(gg_trg_Hero35D)
call DestroyTrigger(gg_trg_HeroSkills35)
call DestroyTrigger(gg_trg_HeroKills35)
call DestroyTrigger(gg_trg_Hero35DAttack)
call DestroyTrigger(gg_trg_HeroAttack35)
call DestroyTrigger(gg_trg_Hero35Q)
call DestroyTrigger(gg_trg_Hero35W)
else
endif
if ( Trig_ClearUnusedHeroes_Func046C() ) then
call DestroyTrigger(gg_trg_HeroSkills36)
call DestroyTrigger(gg_trg_HeroAttack36)
call DestroyTrigger(gg_trg_HeroTimerR36)
else
endif
if ( Trig_ClearUnusedHeroes_Func047C() ) then
call DestroyTrigger(gg_trg_HeroSkills37)
else
endif
if ( Trig_ClearUnusedHeroes_Func048C() ) then
call DestroyTrigger(gg_trg_HeroSkills38)
call DestroyTrigger(gg_trg_HeroTimer38_Q)
call DestroyTrigger(gg_trg_HeroTimer38_W)
call DestroyTrigger(gg_trg_HeroTimer38_E)
call DestroyTrigger(gg_trg_HeroAttack38)
call DestroyTrigger(gg_trg_HeroD38)
call DestroyTrigger(gg_trg_HeroKills38)
else
endif
if ( Trig_ClearUnusedHeroes_Func049C() ) then
call DestroyTrigger(gg_trg_HeroSkills39)
call DestroyTrigger(gg_trg_HeroQ39)
call DestroyTrigger(gg_trg_HeroW39)
call DestroyTrigger(gg_trg_HeroTimer39_R_dmg)
call DestroyTrigger(gg_trg_HeroKills39)
else
endif
if ( Trig_ClearUnusedHeroes_Func050C() ) then
call DestroyTrigger(gg_trg_HeroAttack40)
call DestroyTrigger(gg_trg_HeroAttack40_Alt)
call DestroyTrigger(gg_trg_HeroSkills40)
call DestroyTrigger(gg_trg_HeroKills40)
else
endif
if ( Trig_ClearUnusedHeroes_Func051C() ) then
call DestroyTrigger(gg_trg_HeroSkills41)
else
endif
if ( Trig_ClearUnusedHeroes_Func052C() ) then
call DestroyTrigger(gg_trg_HeroSkills42)
else
endif
if ( Trig_ClearUnusedHeroes_Func053C() ) then
call DestroyTrigger(gg_trg_HeroSkills43)
call DestroyTrigger(gg_trg_HeroAttack43)
call DestroyTrigger(gg_trg_HeroKills43)
else
endif
if ( Trig_ClearUnusedHeroes_Func054C() ) then
call DestroyTrigger(gg_trg_HeroSkills44)
call DestroyTrigger(gg_trg_HeroSkillQ44)
call DestroyTrigger(gg_trg_HeroSkillW44)
call DestroyTrigger(gg_trg_HeroGiveSkills44)
call DestroyTrigger(gg_trg_HeroRCheck44)
else
endif
if ( Trig_ClearUnusedHeroes_Func055C() ) then
call DestroyTrigger(gg_trg_HeroSkills45)
call DestroyTrigger(gg_trg_HeroAttack45)
else
endif
if ( Trig_ClearUnusedHeroes_Func056C() ) then
call DestroyTrigger(gg_trg_HeroSkills46)
call DestroyTrigger(gg_trg_HeroCheckSkills46)
call DestroyTrigger(gg_trg_HeroEndSkill46)
call DestroyTrigger(gg_trg_HeroTimerR46)
else
endif
if ( Trig_ClearUnusedHeroes_Func057C() ) then
call DestroyTrigger(gg_trg_HeroSkills49)
call DestroyTrigger(gg_trg_HeroTimerR49)
call DestroyTrigger(gg_trg_HeroTimerW49)
call DestroyTrigger(gg_trg_HeroAttack49)
call DestroyTrigger(gg_trg_HeroKills49)
else
endif
if ( Trig_ClearUnusedHeroes_Func058C() ) then
call DestroyTrigger(gg_trg_HeroQ51)
call DestroyTrigger(gg_trg_HeroW51)
call DestroyTrigger(gg_trg_HeroW51_Stop)
call DestroyTrigger(gg_trg_HeroE51)
call DestroyTrigger(gg_trg_HeroR51)
call DestroyTrigger(gg_trg_HeroD51_var1)
call DestroyTrigger(gg_trg_HeroD51_var2)
call DestroyTrigger(gg_trg_HeroD51_var3)
else
endif
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_ClearUnusedHeroes takes nothing returns nothing
set gg_trg_ClearUnusedHeroes=CreateTrigger()
call DisableTrigger(gg_trg_ClearUnusedHeroes)
call TriggerAddAction(gg_trg_ClearUnusedHeroes, function Trig_ClearUnusedHeroes_Actions)
endfunction
function Trig_DieHero_Conditions takes nothing returns boolean
return IsUnitInGroup(GetDyingUnit(), udg_AllHeroes) == true
endfunction
function ResHero takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timerdialog td=LoadTimerDialogHandle(udg_hash, Id, 2)
call GroupRemoveUnit(udg_DeadHeroes, u)
call ReviveHeroLoc(u, udg_SpawnHeroPoint[n], true)
call PanCameraToTimedLocForPlayer(pl, udg_SpawnHeroPoint[n], 0)
if UnitHasItemOfTypeBJ(u, 0x74726574) == true then
call SetUnitManaPercentBJ(u, 100.00)
else
call SetUnitManaPercentBJ(u, 50.00)
endif
call SelectUnitForPlayerSingle(u, pl)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
call DestroyTimerDialog(td)
set t=null
set td=null
set u=null
set pl=null
endfunction
function ResRuneDefender takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timerdialog td=LoadTimerDialogHandle(udg_hash, Id, 2)
local integer str=GetHeroStr(u, false)
call GroupRemoveUnit(udg_DeadHeroes, u)
call ReviveHeroLoc(u, udg_SpawnHeroPoint[n], false)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BlueRessurection.mdx", u, "origin"))
if str < 4 then
call SetHeroStr(u, 1, true)
else
call SetHeroStr(u, str - 3, true)
endif
call PanCameraToTimedLocForPlayer(pl, udg_SpawnHeroPoint[n], 0)
if UnitHasItemOfTypeBJ(u, 0x74726574) == true then
call SetUnitManaPercentBJ(u, 100.00)
else
call SetUnitManaPercentBJ(u, 50.00)
endif
call SelectUnitForPlayerSingle(u, pl)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
call DestroyTimerDialog(td)
set t=null
set td=null
set u=null
set pl=null
endfunction
function ResFirelord takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 4)
local location p=LoadLocationHandle(udg_hash, Id, 3)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timerdialog td=LoadTimerDialogHandle(udg_hash, Id, 2)
local real dmg
local real x=GetLocationX(p)
local real y=GetLocationY(p)
local group ug
call RemoveUnit(u2)
call GroupRemoveUnit(udg_DeadHeroes, u)
call ReviveHeroLoc(u, p, true)
call PanCameraToTimedLocForPlayer(pl, p, 0)
call SetUnitManaPercentBJ(u, 100.00)
call SelectUnitForPlayerSingle(u, pl)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\FireNova2.mdx", p))
set dmg=( GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.35 ) + ( udg_ItemBonusDMG[n] * 1.05 )
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
call DestroyTimerDialog(td)
set t=null
set td=null
set u=null
set u2=null
set pl=null
call RemoveLocation(p)
set p=null
set ug=null
endfunction
function Trig_DieHero_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u2=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl)
local real dmg
local integer Id
local real time=15.00
local real timeCof=1.00
local timer t=CreateTimer()
local timerdialog td=CreateTimerDialog(t)
local location p
call GroupAddUnit(udg_DeadHeroes, u)
set time=LoadReal(udg_hash, GetHandleId(u), 2)
if UnitHasItemOfTypeBJ(u, 0x49303957) == true then
set timeCof=timeCof - 0.20
set dmg=GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.75
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
if UnitHasItemOfTypeBJ(u, 0x736B7274) == true then
set timeCof=timeCof + 0.40
endif
if UnitHasItemOfTypeBJ(u, 0x706E766C) == true then
set timeCof=timeCof + 0.10
endif
if UnitHasItemOfTypeBJ(u, 0x74626172) == true then
set timeCof=timeCof - 0.30
endif
if UnitHasItemOfTypeBJ(u, 0x74726574) == true then
set timeCof=timeCof - 0.10
endif
if ExpGo[n] >= 1600000 then
set timeCof=timeCof - 0.05
endif
set time=time * timeCof
call DisplayTimedTextToPlayer(pl, 0, 0, time, "|cFF00C850Ваш герой воскреснет через " + I2S(R2I(time)) + " секунд.|r")
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveTimerDialogHandle(udg_hash, Id, 2, td)
call TimerDialogSetTitle(td, "Воскрешение")
call TimerDialogDisplay(td, false)
call TimerDialogDisplayForPlayerBJ(true, td, pl)
if GetUnitTypeId(u) == 0x4F30314D then
call TimerStart(t, time, true, function ResRuneDefender)
elseif GetUnitTypeId(u) == 0x4E303352 or GetUnitTypeId(u) == 0x4E666972 then
set p=GetUnitLoc(u)
set u2=CreateUnitAtLoc(pl, 0x6F303150, p, 0)
call SaveLocationHandle(udg_hash, Id, 3, p)
call SaveUnitHandle(udg_hash, Id, 4, u2)
call TimerStart(t, time, true, function ResFirelord)
else
call TimerStart(t, time, true, function ResHero)
endif
if GetUnitTypeId(u) == 0x4F303232 then
set udg_KilroggW=1.00
endif
set u=null
set u2=null
set pl=null
set t=null
set td=null
set p=null
endfunction
function InitTrig_DieHero takes nothing returns nothing
set gg_trg_DieHero=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_DieHero, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_DieHero, Condition(function Trig_DieHero_Conditions))
call TriggerAddAction(gg_trg_DieHero, function Trig_DieHero_Actions)
endfunction
function HeroR1_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer agi=GetHeroAgi(u, false)
local integer bonus=LoadInteger(udg_hash, Id, 1)
local real r
call SetHeroAgi(u, agi - bonus, true)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call UnitRemoveAbility(u, 0x41303342)
call UnitRemoveAbility(u, 0x41303455)
if GetUnitAbilityLevel(u, 0x41305330) == 1 then
set r=LoadReal(udg_hash, GetHandleId(u), 1)
set r=r + 0.15
call SaveReal(udg_hash, GetHandleId(u), 1, r)
call SetUnitAbilityLevel(u, 0x41305331, 1)
endif
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroSkills1_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local real r
local integer agi=GetHeroAgi(u, false)
local integer bonus=agi
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
if Skill == 0x41305257 then
call UnitRemoveAbility(u, 0x41305256)
call UnitAddAbility(u, 0x41303457)
elseif Skill == 0x41305258 then
call UnitRemoveAbility(u, 0x41305256)
call UnitAddAbility(u, 0x41305259)
elseif Skill == 0x4130525A then
call UnitRemoveAbility(u, 0x41305256)
call UnitAddAbility(u, 0x41305330)
call UnitAddAbility(u, 0x41305331)
set r=LoadReal(udg_hash, GetHandleId(u), 1)
set r=r - 0.15
call SaveReal(udg_hash, GetHandleId(u), 1, r)
endif
if Skill == 0x41303454 then
call SetHeroAgi(u, agi + bonus, true)
call SetUnitVertexColor(u, 125, 125, 125, 125)
call UnitAddAbility(u, 0x41303342)
call UnitAddAbility(u, 0x41303455)
if GetUnitAbilityLevel(u, 0x41305330) == 1 then
set r=LoadReal(udg_hash, GetHandleId(u), 1)
set r=r - 0.15
call SaveReal(udg_hash, GetHandleId(u), 1, r)
call SetUnitAbilityLevel(u, 0x41305331, 2)
call TimerStart(t, 25, true, function HeroR1_EndBuff)
else
call TimerStart(t, 20, true, function HeroR1_EndBuff)
endif
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, bonus)
endif
set u=null
set t=null
endfunction
function InitTrig_HeroSkills1 takes nothing returns nothing
set gg_trg_HeroSkills1=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills1, function Trig_HeroSkills1_Actions)
endfunction
function Trig_HeroQ1_Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(), 0x42303043) > 0
endfunction
function HeroQ1_EndCd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroQ1_Actions takes nothing returns nothing
local unit u=GetAttacker()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=10 + ( 10 * I2R(GetUnitAbilityLevel(u, 0x41303458)) ) + ( udg_ItemBonusDMG[n] * 0.08 )
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug
local timer t
local integer Id
local real aoe
set Id=GetHandleId(u)
set Id=LoadInteger(udg_hash, Id, 20)
if Id != 1 then
set aoe=225 + LoadReal(udg_hash, GetHandleId(u), 21)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u3, "chest"))
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set Id=GetHandleId(u)
call SaveInteger(udg_hash, Id, 20, 1)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 0.3, true, function HeroQ1_EndCd)
endif
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroQ1 takes nothing returns nothing
set gg_trg_HeroQ1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ1, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroQ1, Condition(function Trig_HeroQ1_Conditions))
call TriggerAddAction(gg_trg_HeroQ1, function Trig_HeroQ1_Actions)
endfunction
function Trig_HeroD1_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x45303035
endfunction
function Trig_HeroD1_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local real life_max=GetUnitState(u, UNIT_STATE_MAX_LIFE)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real heal
if GetUnitAbilityLevel(u, 0x41303457) == 1 then
set heal=( life_max - life ) * 0.01
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
elseif GetUnitAbilityLevel(u, 0x41305259) == 1 then
set heal=LoadReal(udg_hash, GetHandleId(u), 21) + 1.00
call SaveReal(udg_hash, GetHandleId(u), 21, heal)
endif
set u=null
endfunction
function InitTrig_HeroD1 takes nothing returns nothing
set gg_trg_HeroD1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroD1, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroD1, Condition(function Trig_HeroD1_Conditions))
call TriggerAddAction(gg_trg_HeroD1, function Trig_HeroD1_Actions)
endfunction
function HeroSkills2_Conditions takes nothing returns boolean
return GetUnitTypeId(GetSpellAbilityUnit()) == 0x4830304C
endfunction
function Trig_HeroSkills2_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
if Skill == 0x41305237 then
call UnitRemoveAbility(u, 0x41305236)
call UnitAddAbility(u, 0x41303148)
call TriggerRegisterUnitEvent(gg_trg_HeroDeath2, u, EVENT_UNIT_DEATH)
elseif Skill == 0x41305248 then
call UnitRemoveAbility(u, 0x41305236)
call UnitAddAbility(u, 0x41305249)
elseif Skill == 0x4130524B then
call UnitRemoveAbility(u, 0x41305236)
call UnitAddAbility(u, 0x4130524A)
call UnitAddAbility(u, 0x4130524C)
endif
set u=null
endfunction
function InitTrig_HeroSkills2 takes nothing returns nothing
set gg_trg_HeroSkills2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills2, Condition(function HeroSkills2_Conditions))
call TriggerAddAction(gg_trg_HeroSkills2, function Trig_HeroSkills2_Actions)
endfunction
function Trig_HeroR2_Conditions takes nothing returns boolean
return GetLearnedSkill() == 0x41303755
endfunction
function HeroR2_check takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
if IsDead(u) == false then
if GetUnitLifePercent(u) < 50.00 then
if GetUnitAbilityLevel(u, 0x41303147) != 1 then
call UnitAddAbility(u, 0x41303147)
call UnitAddAbility(u, 0x41305234)
if udg_ItemBonusDMG[n] >= 200 and GetUnitAbilityLevel(u, 0x41305235) != 1 then
call UnitAddAbility(u, 0x41305235)
endif
endif
else
if GetUnitAbilityLevel(u, 0x41303147) == 1 then
call UnitRemoveAbility(u, 0x41303147)
call UnitRemoveAbility(u, 0x41305234)
call UnitRemoveAbility(u, 0x41305235)
endif
endif
endif
set t=null
set u=null
endfunction
function Trig_HeroR2_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
local unit u=GetLearningUnit()
call TimerStart(t, 1, true, function HeroR2_check)
call SaveUnitHandle(udg_hash, Id, 1, u)
set t=null
set u=null
endfunction
function InitTrig_HeroR2 takes nothing returns nothing
set gg_trg_HeroR2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroR2, EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_HeroR2, Condition(function Trig_HeroR2_Conditions))
call TriggerAddAction(gg_trg_HeroR2, function Trig_HeroR2_Actions)
endfunction
function HeroQ2_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303143
endfunction
function HeroQ2_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real r=LoadReal(udg_hash, Id, 1)
local real CDCof
call UnitRemoveAbility(u, 0x41303144)
if IsUnitType(u, UNIT_TYPE_HERO) == true then
set CDCof=LoadReal(udg_hash, GetHandleId(u), 1)
set CDCof=CDCof + r
call SaveReal(udg_hash, GetHandleId(u), 1, CDCof)
endif
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroQ2_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local integer Skill=0x41303143
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real CDCof
local real r=0.10 + 0.05 * I2R(lvl)
local integer Id
local timer t
if IsDead(u2) == false then
set t=CreateTimer()
call TimerStart(t, 16, true, function HeroQ2_EndBuff)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveReal(udg_hash, Id, 1, r)
call UnitAddAbility(u2, 0x41303144)
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
call SetUnitAbilityLevel(u2, 0x41303144, lvl)
set CDCof=LoadReal(udg_hash, GetHandleId(u2), 1)
set CDCof=CDCof - r
call SaveReal(udg_hash, GetHandleId(u2), 1, CDCof)
else
call SetUnitAbilityLevel(u2, 0x41303144, lvl + 5)
endif
endif
set u=null
set u2=null
set t=null
endfunction
function InitTrig_HeroQ2 takes nothing returns nothing
set gg_trg_HeroQ2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroQ2, Condition(function HeroQ2_conditions))
call TriggerAddAction(gg_trg_HeroQ2, function Trig_HeroQ2_Actions)
endfunction
function HeroW2_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303142
endfunction
function Trig_HeroW2_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=0x41303142
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real dmg=50.00 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.50
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local texttag text
if GetUnitAbilityLevel(u, 0x41305249) == 1 then
call UnitRemoveBuffs(u, false, true)
endif
set dmg=dmg * ( 1 + ( 100 - GetUnitLifePercent(u) ) * 0.01 )
call GroupEnumUnitsInRange(ug, x, y, 305, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u, 0x41305249) == 1 then
call UnitRemoveBuffs(u3, true, false)
endif
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set text=CreateTextTagUnitBJ(( "|cFFFF4B39" + I2S(R2I(dmg)) ), u, 0, 14.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
set u=null
set u3=null
set pl=null
set ug=null
set text=null
endfunction
function InitTrig_HeroW2 takes nothing returns nothing
set gg_trg_HeroW2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroW2, Condition(function HeroW2_conditions))
call TriggerAddAction(gg_trg_HeroW2, function Trig_HeroW2_Actions)
endfunction
function HeroE2_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303145
endfunction
function Trig_HeroE2_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=0x41303142
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real heal=10 + ( 10 * I2R(lvl) ) + udg_ItemBonusDMG[n] * 0.10
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local real life
call GroupEnumUnitsInRange(ug, x, y, 700, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitAlly(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
set life=GetUnitState(u3, UNIT_STATE_LIFE)
if GetUnitAbilityLevel(u3, 0x41303144) >= 1 then
call SetUnitState(u3, UNIT_STATE_LIFE, life + ( heal * 6 ))
else
call SetUnitState(u3, UNIT_STATE_LIFE, life + heal)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroE2 takes nothing returns nothing
set gg_trg_HeroE2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroE2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroE2, Condition(function HeroE2_conditions))
call TriggerAddAction(gg_trg_HeroE2, function Trig_HeroE2_Actions)
endfunction
function HeroE2Up_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130524D
endfunction
function Trig_HeroE2Up_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=0x4130524D
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real heal=20 + ( 20 * I2R(lvl) ) + udg_ItemBonusDMG[n] * 0.20
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local real life
call GroupEnumUnitsInRange(ug, x, y, 350, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitAlly(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
set life=GetUnitState(u3, UNIT_STATE_LIFE)
if GetUnitAbilityLevel(u3, 0x41303144) >= 1 then
call SetUnitState(u3, UNIT_STATE_LIFE, life + ( heal * 6 ))
else
call SetUnitState(u3, UNIT_STATE_LIFE, life + heal)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroE2Up takes nothing returns nothing
set gg_trg_HeroE2Up=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroE2Up, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroE2Up, Condition(function HeroE2Up_conditions))
call TriggerAddAction(gg_trg_HeroE2Up, function Trig_HeroE2Up_Actions)
endfunction
function Trig_HeroDeath2_Actions takes nothing returns nothing
local unit u3
local group ug
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false then
call SetUnitLifePercentBJ(u3, GetUnitLifePercent(u3) + 50.00)
call SetUnitManaPercentBJ(u3, GetUnitManaPercent(u3) + 50.00)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", u3, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set u3=null
set ug=null
endfunction
function InitTrig_HeroDeath2 takes nothing returns nothing
set gg_trg_HeroDeath2=CreateTrigger()
call TriggerAddAction(gg_trg_HeroDeath2, function Trig_HeroDeath2_Actions)
endfunction
function HeroSkills3_Conditions takes nothing returns boolean
return GetUnitTypeId(GetSpellAbilityUnit()) == 0x48303050
endfunction
function HeroUlt3 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
set Id=GetHandleId(u)
call SaveBoolean(udg_hash, Id, 1, false)
set Id=GetHandleId(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Hero3Talent2_end takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real CDCof
call UnitRemoveAbility(u, 0x4130515A)
call SaveReal(udg_hash, GetHandleId(u), 1, LoadReal(udg_hash, GetHandleId(u), 1) + 0.30)
call SaveReal(udg_hash, GetHandleId(u), 3, LoadReal(udg_hash, GetHandleId(u), 3) - 0.25)
set Id=GetHandleId(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Hero3Talent3 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer str=GetHeroStr(u, false)
set str=str + 1
call SetHeroStr(u, str, true)
set t=null
set u=null
endfunction
function Trig_HeroSkills3_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
if Skill == 0x41305231 then
set Id=GetHandleId(u)
call SaveBoolean(udg_hash, Id, 1, true)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 60, true, function HeroUlt3)
endif
if Skill == 0x41303132 then
call UnitAddAbility(u, 0x41303133)
elseif Skill == 0x41305159 then
call UnitAddAbility(u, 0x4130515A)
call SaveReal(udg_hash, GetHandleId(u), 1, LoadReal(udg_hash, GetHandleId(u), 1) - 0.30)
call SaveReal(udg_hash, GetHandleId(u), 3, LoadReal(udg_hash, GetHandleId(u), 3) + 0.25)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 20, true, function Hero3Talent2_end)
endif
if Skill == 0x41305157 then
call UnitRemoveAbility(u, 0x41305156)
call UnitAddAbility(u, 0x41303132)
elseif Skill == 0x41305158 then
call UnitRemoveAbility(u, 0x41305156)
call UnitAddAbility(u, 0x41305159)
elseif Skill == 0x41305230 then
call UnitRemoveAbility(u, 0x41305156)
call UnitAddAbility(u, 0x41305232)
call SaveReal(udg_hash, GetHandleId(u), 2, 70.00)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 60, true, function Hero3Talent3)
endif
set u=null
set t=null
endfunction
function InitTrig_HeroSkills3 takes nothing returns nothing
set gg_trg_HeroSkills3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills3, Condition(function HeroSkills3_Conditions))
call TriggerAddAction(gg_trg_HeroSkills3, function Trig_HeroSkills3_Actions)
endfunction
function HeroQ3_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303059
endfunction
function HeroQ3_dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local integer Id2
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real dmg=LoadReal(udg_hash, Id, 1)
local real r=LoadReal(udg_hash, Id, 2)
local group ug
local real x
local real y
local boolean Ult=false
set Id2=GetHandleId(u)
set Ult=LoadBoolean(udg_hash, Id2, 1)
if GetUnitAbilityLevel(u, 0x41303133) == 1 then
set dmg=dmg * 1.5
call UnitRemoveAbility(u, 0x41303133)
elseif GetUnitAbilityLevel(u, 0x4130515A) == 1 then
set dmg=dmg * 1.2
elseif Ult == true then
set dmg=dmg * 1.3
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if r >= 200.00 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 210, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and u3 != u2 then
call UnitDamageTarget(u, u3, dmg * 0.4, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
set u2=null
set u3=null
set ug=null
set pl=null
endfunction
function Trig_HeroQ3_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local integer Skill=0x41303059
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Id
local real r
local location p
local location p2
local timer t
set p=GetUnitLoc(u)
set p2=GetUnitLoc(u2)
set r=DistanceBetweenPoints(p, p2) / 1500
set t=CreateTimer()
call TimerStart(t, r, true, function HeroQ3_dmg)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
set r=100.00 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.75
call SaveReal(udg_hash, Id, 1, r)
set r=udg_ItemBonusDMG[n]
call SaveReal(udg_hash, Id, 2, r)
set u=null
set u2=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
set t=null
set pl=null
endfunction
function InitTrig_HeroQ3 takes nothing returns nothing
set gg_trg_HeroQ3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroQ3, Condition(function HeroQ3_conditions))
call TriggerAddAction(gg_trg_HeroQ3, function Trig_HeroQ3_Actions)
endfunction
function HeroW3_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130305A
endfunction
function HeroW3_move takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real angle=LoadReal(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 1)
local integer n2=LoadInteger(udg_hash, Id, 2)
local location p=GetUnitLoc(u)
set p=PolarProjectionBJ(p, 31, angle)
call SetUnitPositionLoc(u, p)
set n2=n2 + 1
if n2 == 2 then
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl", p))
set n2=0
endif
call SaveInteger(udg_hash, Id, 2, n2)
set n=n - 1
if n > 0 then
call SaveInteger(udg_hash, Id, 1, n)
else
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
endif
set t=null
set u=null
call RemoveLocation(p)
set p=null
endfunction
function Trig_HeroW3_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local unit u3
local group ug
local integer Skill=0x41303059
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Id
local integer Id2
local real dmg
local location p
local location p2
local timer t
local real x
local real y
local boolean Ult=false
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=20 + 60 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.50
set Id2=GetHandleId(u)
set Ult=LoadBoolean(udg_hash, Id2, 1)
if GetUnitAbilityLevel(u, 0x41303133) == 1 then
set dmg=dmg * 1.5
call UnitRemoveAbility(u, 0x41303133)
elseif GetUnitAbilityLevel(u, 0x4130515A) == 1 then
set dmg=dmg * 1.2
elseif Ult == true then
set dmg=dmg * 1.3
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 210, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and u3 != u2 then
call UnitDamageTarget(u, u3, dmg * 0.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u2) == false then
set p=GetUnitLoc(u)
set p2=GetUnitLoc(u2)
set dmg=AngleBetweenPoints(p, p2)
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
set n=12
else
set n=42 - GetUnitLevel(u2) * 2
if n < 10 then
set n=10
endif
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveInteger(udg_hash, Id, 1, n)
call TimerStart(t, 0.04, true, function HeroW3_move)
endif
set u=null
set u2=null
set u3=null
call RemoveLocation(p)
set p=null
call RemoveLocation(p2)
set p2=null
set t=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroW3 takes nothing returns nothing
set gg_trg_HeroW3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroW3, Condition(function HeroW3_conditions))
call TriggerAddAction(gg_trg_HeroW3, function Trig_HeroW3_Actions)
endfunction
function HeroQ4_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local integer lvl=LoadInteger(udg_hash, Id, 4)
local real aoe=LoadReal(udg_hash, Id, 5)
local group ug=CreateGroup()
local real dmg=15 + 15 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.15
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
if count > 0 then
call TimerStart(t, 1, false, function HeroQ4_Dmg)
call SaveInteger(udg_hash, Id, 3, count)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroW4_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local boolean CheckTarget=LoadBoolean(udg_hash, Id, 1)
local unit u
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3=LoadUnitHandle(udg_hash, Id, 3)
local unit u4
local real degrees
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real x2
local real y2
local player pl
local real dmg=LoadReal(udg_hash, GetHandleId(t), 1)
local real dmg2=LoadReal(udg_hash, GetHandleId(t), 2)
local integer check=LoadInteger(udg_hash, GetHandleId(t), 2)
local integer count=LoadInteger(udg_hash, GetHandleId(t), 3)
local group ug
local group CheckGroup=LoadGroupHandle(udg_hash, Id, 5)
local boolean B=false
local real r
local real aoe
if CheckTarget == false then
set x2=GetUnitX(u3)
set y2=GetUnitY(u3)
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set count=count - 1
else
set degrees=LoadReal(udg_hash, Id, 3)
set count=count - 1
endif
set x=x + 40 * Cos(degrees * bj_DEGTORAD)
set y=y + 40 * Sin(degrees * bj_DEGTORAD)
call SetUnitFacing(u2, degrees)
call SetUnitX(u2, x)
call SetUnitY(u2, y)
set check=check + 1
if check == 2 and count != 0 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
if GetUnitAbilityLevel(u, 0x41303650) == 1 then
set aoe=110
else
set aoe=80
endif
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u4=FirstOfGroup(ug)
exitwhen u4 == null
if IsUnitAlly(u4, pl) == false and IsDead(u4) == false and IsUnitInGroup(u4, CheckGroup) == false then
if u4 == u3 then
call UnitDamageTarget(u, u4, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveBoolean(udg_hash, Id, 1, true)
call SaveReal(udg_hash, Id, 3, degrees)
else
call UnitDamageTarget(u, u4, dmg2, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GyroCopter\\GyroCopterImpact.mdl", u4, "origin"))
call GroupAddUnit(CheckGroup, u4)
endif
call GroupRemoveUnit(ug, u4)
endloop
call DestroyGroup(ug)
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if count == 0 then
call DestroyTimer(t)
call DestroyGroup(CheckGroup)
call FlushChildHashtable(udg_hash, Id)
call RemoveUnit(u2)
else
call SaveGroupHandle(udg_hash, Id, 5, CreateGroup())
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
endif
set t=null
set u=null
set u2=null
set u3=null
set u4=null
set pl=null
set ug=null
set CheckGroup=null
endfunction
function Trig_HeroSkills4_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local real degrees
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real time
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
if Skill == 0x4130484B then
call UnitRemoveAbility(u, 0x4130484A)
call UnitAddAbility(u, 0x41303134)
elseif Skill == 0x4130484C then
call UnitRemoveAbility(u, 0x4130484A)
call UnitAddAbility(u, 0x4130484D)
elseif Skill == 0x4130484E then
call UnitRemoveAbility(u, 0x4130484A)
if GetUnitTypeId(u) == 0x48303430 then
call UnitAddAbility(u, 0x41303650)
else
call UnitAddAbility(u, 0x4130484F)
endif
call SetPlayerTechResearched(pl, 0x52303046, 1)
elseif Skill == 0x41304851 then
call UnitRemoveAbility(u, 0x4130484A)
call UnitAddAbility(u, 0x41304852)
elseif Skill == 0x41304A33 then
call FlushChildHashtable(udg_hash, GetHandleId(u))
call GroupRemoveUnit(udg_AllHeroes, u)
set Id=0
loop
exitwhen Id > 5
call SetItemPosition(UnitItemInSlot(u, Id), x, y)
set Id=Id + 1
endloop
if GetUnitTypeId(u) == 0x48303430 then
call RemoveUnit(u)
set u2=CreateUnit(pl, 0x48303431, x, y, 270)
else
call RemoveUnit(u)
set u2=CreateUnit(pl, 0x48303351, x, y, 270)
endif
call GroupAddUnit(udg_AllHeroes, u2)
if GetLocalPlayer() == pl then
call ClearSelection()
call SelectUnit(u2, true)
endif
set udg_Hero[n]=u2
call SaveReal(udg_hash, GetHandleId(u2), 1, 1.00)
call SaveReal(udg_hash, GetHandleId(u2), 2, 45.00)
call TriggerRegisterUnitEvent(gg_trg_HeroSkills4_Shotgun, u2, EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(gg_trg_ChangePoints, u2, EVENT_UNIT_SPELL_EFFECT)
call SaveStr(udg_hash, GetHandleId(u2), 1, "STR")
endif
if Skill == 0x41303137 or Skill == 0x41304850 then
set u2=CreateUnit(pl, 0x6F30304A, x, y, 0)
if Skill == 0x41304850 then
call SetUnitAbilityLevel(u2, 0x41303136, 2)
endif
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssuePointOrderLoc(u2, "attackground", GetSpellTargetLoc())
set time=DistanceBetweenPoints(GetUnitLoc(u), GetSpellTargetLoc()) / 1200
set t=CreateTimer()
set Id=GetHandleId(t)
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, 6)
call SaveInteger(udg_hash, Id, 4, GetUnitAbilityLevel(u, Skill))
if Skill == 0x41303137 then
call SaveReal(udg_hash, Id, 5, 205)
else
call SaveReal(udg_hash, Id, 5, 305)
endif
call TimerStart(t, time, false, function HeroQ4_Dmg)
elseif Skill == 0x41303552 or Skill == 0x41303649 then
set u3=GetSpellTargetUnit()
set x2=GetUnitX(u3)
set y2=GetUnitY(u3)
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set u2=CreateUnit(pl, 0x6F30324C, x, y, degrees)
set t=CreateTimer()
call SaveBoolean(udg_hash, GetHandleId(t), 1, false)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 3, u3)
call SaveGroupHandle(udg_hash, GetHandleId(t), 5, CreateGroup())
call SaveReal(udg_hash, GetHandleId(t), 1, 50 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.50 + LoadReal(udg_hash, GetHandleId(u), 16) * 5.00)
call SaveReal(udg_hash, GetHandleId(t), 2, 30 + 30 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.30 + LoadReal(udg_hash, GetHandleId(u), 16) * 3.00)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t), 3, 50)
call TimerStart(t, 0.02, true, function HeroW4_Dmg)
endif
set u=null
set u2=null
set u3=null
set pl=null
set u2=null
set t=null
endfunction
function InitTrig_HeroSkills4 takes nothing returns nothing
set gg_trg_HeroSkills4=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills4, function Trig_HeroSkills4_Actions)
endfunction
function HeroQ4_Shotgun_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local integer lvl=LoadInteger(udg_hash, Id, 4)
local real aoe=LoadReal(udg_hash, Id, 5)
local group ug=CreateGroup()
local real dmg=15 + 15 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.15
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
if count > 0 then
call TimerStart(t, 1, false, function HeroQ4_Shotgun_Dmg)
call SaveInteger(udg_hash, Id, 3, count)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function Trig_HeroSkills4_Shotgun_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local real degrees
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real time
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
if Skill == 0x41303137 then
set u2=CreateUnit(pl, 0x6F30304A, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssuePointOrderLoc(u2, "attackground", GetSpellTargetLoc())
set time=DistanceBetweenPoints(GetUnitLoc(u), GetSpellTargetLoc()) / 1200
set t=CreateTimer()
set Id=GetHandleId(t)
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, 6)
call SaveInteger(udg_hash, Id, 4, GetUnitAbilityLevel(u, Skill))
call SaveReal(udg_hash, Id, 5, 205)
call TimerStart(t, time, false, function HeroQ4_Shotgun_Dmg)
elseif Skill == 0x41303552 or Skill == 0x41303649 then
set u3=GetSpellTargetUnit()
set x2=GetUnitX(u3)
set y2=GetUnitY(u3)
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set u2=CreateUnit(pl, 0x6F30324C, x, y, degrees)
set t=CreateTimer()
call SaveBoolean(udg_hash, GetHandleId(t), 1, false)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
call SaveUnitHandle(udg_hash, GetHandleId(t), 3, u3)
call SaveGroupHandle(udg_hash, GetHandleId(t), 5, CreateGroup())
call SaveReal(udg_hash, GetHandleId(t), 1, 50 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.40 + LoadReal(udg_hash, GetHandleId(u), 16) * 4.00)
call SaveReal(udg_hash, GetHandleId(t), 2, 20 + 20 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.10 + LoadReal(udg_hash, GetHandleId(u), 16) * 3.00)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t), 3, 50)
call TimerStart(t, 0.02, true, function HeroW4_Dmg)
endif
set u=null
set u2=null
set u3=null
set pl=null
set u2=null
set t=null
endfunction
function InitTrig_HeroSkills4_Shotgun takes nothing returns nothing
set gg_trg_HeroSkills4_Shotgun=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills4_Shotgun, function Trig_HeroSkills4_Shotgun_Actions)
endfunction
function Trig_HeroGiveSkills4_Conditions takes nothing returns boolean
return GetLearnedSkill() == 0x41303138
endfunction
function Trig_HeroGiveSkills4_Actions takes nothing returns nothing
local unit u=GetLearningUnit()
local integer Id=GetHandleId(u)
if GetUnitAbilityLevel(u, 0x4130484F) > 0 then
call SaveReal(udg_hash, Id, 23, 150)
else
call SaveReal(udg_hash, Id, 23, 100)
endif
set u=null
endfunction
function InitTrig_HeroGiveSkills4 takes nothing returns nothing
set gg_trg_HeroGiveSkills4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroGiveSkills4, EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_HeroGiveSkills4, Condition(function Trig_HeroGiveSkills4_Conditions))
call TriggerAddAction(gg_trg_HeroGiveSkills4, function Trig_HeroGiveSkills4_Actions)
endfunction
function Trig_HeroAttack4_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4830304E or GetUnitTypeId(GetAttacker()) == 0x48303430
endfunction
function Trig_HeroAttack4_Actions takes nothing returns nothing
local unit u=GetAttacker()
local integer Id=GetHandleId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local unit u3
local group ug
local real r
local real dmg
local texttag text
local real dx
local real dy
local real r2
if Id == 0x48303351 then
set r=1 + ( LoadReal(udg_hash, Id, 22) * 0.005 )
set dmg=I2R(GetHeroStr(u, true)) * 0.5
set r=175
if GetUnitAbilityLevel(u, 0x42303034) > 0 then
set dmg=dmg + ( 10 * I2R(GetUnitAbilityLevel(u, 0x41303139)) + ( udg_ItemBonusDMG[n] * 0.08 ) )
set r=200
endif
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, r, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GyroCopter\\GyroCopterImpact.mdl", u3, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
else
if GetUnitAbilityLevel(u, 0x42303034) > 0 then
set dmg=10 * I2R(GetUnitAbilityLevel(u, 0x41303139)) + ( udg_ItemBonusDMG[n] * 0.08 )
if GetUnitAbilityLevel(u, 0x4130484D) == 1 then
set r=250
set dmg=dmg + LoadReal(udg_hash, Id, 20)
else
set r=200
endif
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, r, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GyroCopter\\GyroCopterImpact.mdl", u3, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
endif
endif
if GetUnitAbilityLevel(u, 0x41303141) > 0 then
set r=LoadReal(udg_hash, Id, 21) + 1
if r >= 5 then
set r=0
set dmg=30 * I2R(GetUnitAbilityLevel(u, 0x41303141)) + ( udg_ItemBonusDMG[n] * 0.10 )
if GetUnitAbilityLevel(u, 0x41304852) == 1 then
set dmg=dmg + LoadReal(udg_hash, Id, 20)
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
set dmg=dmg * ( 1.00 + ( 0.10 * I2R(GetHeroLevel(u2)) ) )
else
set dmg=dmg * ( 1.00 + ( 0.10 * I2R(GetUnitLevel(u2)) ) )
endif
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set text=CreateTextTagUnitBJ("|cFF00D8FF" + I2S(R2I(dmg)) + "!", u, 0, 14.00, 100, 100, 100, 0)
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
call SaveReal(udg_hash, Id, 21, r)
endif
if GetUnitAbilityLevel(u, 0x41303138) > 0 then
set r=LoadReal(udg_hash, Id, 22)
set dmg=LoadReal(udg_hash, Id, 23)
set x2=LoadReal(udg_hash, Id, 24)
set y2=LoadReal(udg_hash, Id, 25)
set dx=x2 - x
set dy=y2 - y
set r2=SquareRoot(dx * dx + dy * dy)
if r2 < 5.00 then
set r=r + 10
else
set r=0
endif
if r > dmg then
set r=dmg
endif
if r != 0 then
call UnitDamageTarget(u, u2, r, true, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
set text=CreateTextTagUnitBJ("|cFFFF5800+" + I2S(R2I(r)) + "!", u, 0, 14.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
call SaveReal(udg_hash, Id, 22, r)
call SaveReal(udg_hash, Id, 24, x)
call SaveReal(udg_hash, Id, 25, y)
endif
call DestroyGroup(ug)
set ug=null
set u3=null
set u=null
set pl=null
set u2=null
set text=null
endfunction
function InitTrig_HeroAttack4 takes nothing returns nothing
set gg_trg_HeroAttack4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack4, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack4, Condition(function Trig_HeroAttack4_Conditions))
call TriggerAddAction(gg_trg_HeroAttack4, function Trig_HeroAttack4_Actions)
endfunction
function Trig_HeroAttack4_Shotgun_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x48303351 or GetUnitTypeId(GetAttacker()) == 0x48303431
endfunction
function Trig_HeroAttack4_Shotgun_Actions takes nothing returns nothing
local unit u=GetAttacker()
local integer Id=GetHandleId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local unit u3
local group ug
local real r
local real dmg
local texttag text
local real dx
local real dy
local real r2
set r=1 + ( LoadReal(udg_hash, Id, 22) * 0.008 )
set dmg=I2R(GetHeroStr(u, true)) * 0.5 * r
set r=175
if GetUnitAbilityLevel(u, 0x42303034) > 0 then
set dmg=dmg + ( 10 * I2R(GetUnitAbilityLevel(u, 0x41303139)) + ( udg_ItemBonusDMG[n] * 0.08 ) )
set r=215
endif
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, r, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GyroCopter\\GyroCopterImpact.mdl", u3, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
if GetUnitAbilityLevel(u, 0x41303141) > 0 then
set r=LoadReal(udg_hash, Id, 21) + 1
if r >= 5 then
set r=0
set dmg=30 * I2R(GetUnitAbilityLevel(u, 0x41303141)) + ( udg_ItemBonusDMG[n] * 0.10 )
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set text=CreateTextTagUnitBJ("|cFF00D8FF" + I2S(R2I(dmg)) + "!", u, 0, 12.00, 100, 100, 100, 0)
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
call SaveReal(udg_hash, Id, 21, r)
endif
if GetUnitAbilityLevel(u, 0x41303138) > 0 then
set r=LoadReal(udg_hash, Id, 22)
set dmg=LoadReal(udg_hash, Id, 23)
set x2=LoadReal(udg_hash, Id, 24)
set y2=LoadReal(udg_hash, Id, 25)
set dx=x2 - x
set dy=y2 - y
set r2=SquareRoot(dx * dx + dy * dy)
if r2 < 5.00 then
set r=r + 10
else
set r=0
endif
if r > dmg then
set r=dmg
endif
if r != 0 then
call UnitDamageTarget(u, u2, r, true, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
set text=CreateTextTagUnitBJ("|cFFFF5800+" + I2S(R2I(r)) + "!", u, 60, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
call SaveReal(udg_hash, Id, 22, r)
call SaveReal(udg_hash, Id, 24, x)
call SaveReal(udg_hash, Id, 25, y)
endif
call DestroyGroup(ug)
set ug=null
set u3=null
set u=null
set pl=null
set u2=null
set text=null
endfunction
function InitTrig_HeroAttack4_Shotgun takes nothing returns nothing
set gg_trg_HeroAttack4_Shotgun=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack4_Shotgun, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack4_Shotgun, Condition(function Trig_HeroAttack4_Shotgun_Conditions))
call TriggerAddAction(gg_trg_HeroAttack4_Shotgun, function Trig_HeroAttack4_Shotgun_Actions)
endfunction
function Trig_HeroKills4_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x4830304E or GetUnitTypeId(GetKillingUnit()) == 0x48303430
endfunction
function Trig_HeroKills4_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local unit u2=GetDyingUnit()
local texttag text
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local item Item
local integer Id=GetHandleId(u)
local real r
local real state
local real heal
if IsUnitEnemy(u2, pl) == true then
if GetUnitAbilityLevel(u, 0x41303134) > 0 then
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
call SetUnitBaseDamage(u , GetUnitBaseDamage(u) + 5)
set text=CreateTextTagUnitBJ("|cFFFF5800+5 attack|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
elseif GetUnitLevel(u2) >= 5 then
set Id=GetRandomInt(1, 2)
if Id == 1 then
call SetUnitBaseDamage(u , GetUnitBaseDamage(u) + 1)
set text=CreateTextTagUnitBJ("|cFFFF5800+1 attack|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
endif
endif
if GetUnitAbilityLevel(u, 0x4130484D) > 0 then
set r=LoadReal(udg_hash, Id, 20) + 0.15
call SaveReal(udg_hash, Id, 20, r)
endif
if GetUnitAbilityLevel(u, 0x41304852) > 0 then
if IsUnitType(u2, UNIT_TYPE_HERO) == true or GetUnitLevel(u2) >= 8 then
set r=LoadReal(udg_hash, Id, 20) + 5
call SaveReal(udg_hash, Id, 20, r)
set text=CreateTextTagUnitBJ("|cFF6496FF+5 skill dmg|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
set state=GetUnitState(u, UNIT_STATE_LIFE)
set heal=( GetUnitState(u, UNIT_STATE_MAX_LIFE) - state ) * 0.08
call SetUnitState(u, UNIT_STATE_LIFE, state + heal)
set state=GetUnitState(u, UNIT_STATE_MANA)
set heal=( GetUnitState(u, UNIT_STATE_MAX_MANA) - state ) * 0.08
call SetUnitState(u, UNIT_STATE_MANA, state + heal)
endif
endif
endif
set u=null
set pl=null
set u2=null
set text=null
set Item=null
endfunction
function InitTrig_HeroKills4 takes nothing returns nothing
set gg_trg_HeroKills4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills4, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills4, Condition(function Trig_HeroKills4_Conditions))
call TriggerAddAction(gg_trg_HeroKills4, function Trig_HeroKills4_Actions)
endfunction
function Hero5Agi takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 1)
local integer agi=GetHeroAgi(u, false)
call SetHeroAgi(u, agi - n, true)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero5Agi2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 1)
local integer n2=LoadInteger(udg_hash, Id, 2)
local integer agi=GetHeroAgi(u, false)
call SetHeroAgi(u, agi - n, true)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) + n2)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero5W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call UnitRemoveAbility(u, 0x41303336)
call UnitRemoveAbility(u, 0x4130364E)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero5WTalent takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local unit u3
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
call SaveReal(udg_hash, GetHandleId(u3), 4, LoadReal(udg_hash, GetHandleId(u3), 4) + 1.50)
call UnitRemoveAbility(u3, 0x41305539)
call UnitRemoveAbility(u3, 0x42303341)
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u3=null
set ug=null
endfunction
function Trig_HeroSkills5_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local unit u3
local group ug
local group ug2
local integer Skill=GetSpellAbilityId()
local timer t
local integer agi
local integer n2
local integer Id
local integer n=GetPlayerId(pl) + 1
local real dmg
local real aoe
local real x
local real y
if Skill == 0x41305534 then
call UnitRemoveAbility(u, 0x41305533)
call UnitAddAbility(u, 0x41303333)
elseif Skill == 0x41305535 then
call UnitRemoveAbility(u, 0x41305533)
call UnitAddAbility(u, 0x41305536)
elseif Skill == 0x41305537 then
call UnitRemoveAbility(u, 0x41305533)
call UnitAddAbility(u, 0x41305538)
endif
if Skill == 0x41303333 then
set t=CreateTimer()
set Id=GetHandleId(t)
set agi=GetHeroAgi(u, false)
call SetHeroAgi(u, agi * 2, true)
call SaveInteger(udg_hash, Id, 1, agi)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 15, false, function Hero5Agi)
elseif Skill == 0x41305536 then
set t=CreateTimer()
set Id=GetHandleId(t)
set agi=GetHeroAgi(u, false)
set n2=R2I(I2R(agi) * 1.5)
call SetHeroAgi(u, agi + n2, true)
call SaveInteger(udg_hash, Id, 1, n2)
set n2=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.25)
call SetUnitLife(u , R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE)) - n2)
call SaveInteger(udg_hash, Id, 2, n2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 15, false, function Hero5Agi2)
elseif Skill == 0x41303335 then
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x41303336)
call SetUnitAbilityLevel(u2, 0x41303336, GetUnitAbilityLevel(u, 0x41303335))
if udg_ItemBonusDMG[n] >= 200.00 then
call UnitAddAbility(u2, 0x4130364E)
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
call TimerStart(t, 5, false, function Hero5W)
else
call TimerStart(t, 10, false, function Hero5W)
endif
elseif Skill == 0x41303337 then
set dmg=15 + ( 15 * GetUnitAbilityLevel(u, 0x41303337) ) + ( udg_ItemBonusDMG[n] * 0.85 )
set aoe=155 + ( 50 * GetUnitAbilityLevel(u, 0x41303337) )
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", u3, "origin"))
call UnitRemoveBuffs(u3, true, false)
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if GetUnitAbilityLevel(u, 0x41305538) == 1 then
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
call SaveReal(udg_hash, GetHandleId(u3), 4, LoadReal(udg_hash, GetHandleId(u3), 4) - 1.50)
call UnitAddAbility(u3, 0x41305539)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call TimerStart(t, 6, false, function Hero5WTalent)
endif
endif
set u=null
set u2=null
set u3=null
set ug=null
set ug2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills5 takes nothing returns nothing
set gg_trg_HeroSkills5=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills5, function Trig_HeroSkills5_Actions)
endfunction
function Trig_HeroSkills6_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local integer count
if Skill == 0x41303447 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x68303131, x, y, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.3) + 50 + 50 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u2 , count)
set count=10 + 5 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitBaseDamage(u2 , count - 1)
set count=GetUnitAbilityLevel(u, Skill)
call SetUnitExtraArmor(u2 , count)
if UnitHasItemOfTypeBJ(u, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 25)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
if udg_ItemBonusDMG[n] >= 150 then
call UnitRemoveAbility(u2, 0x41304341)
call UnitAddAbility(u2, 0x41304E52)
call UnitApplyTimedLife(u2, 0x42544C46, 120)
else
call UnitApplyTimedLife(u2, 0x42544C46, 90)
endif
if udg_ItemBonusDMG[n] >= 300 then
call UnitRemoveAbility(u2, 0x41304342)
call UnitAddAbility(u2, 0x41304E54)
call SaveReal(udg_hash, GetHandleId(u2), 16, LoadReal(udg_hash, GetHandleId(u2), 16) + 12.0)
endif
if udg_ItemBonusDMG[n] >= 500 then
call UnitRemoveAbility(u2, 0x41303655)
call UnitAddAbility(u2, 0x41304E53)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
elseif Skill == 0x4130444F then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6E303646, x, y, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.33) + 60 + 60 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u2 , count)
set count=12 + 6 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.11)
call SetUnitBaseDamage(u2 , count - 1)
set count=GetUnitAbilityLevel(u, Skill) + 1
call SetUnitExtraArmor(u2 , count)
if UnitHasItemOfTypeBJ(u, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 25)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
if udg_ItemBonusDMG[n] >= 150 then
call UnitRemoveAbility(u2, 0x41304341)
call UnitAddAbility(u2, 0x41304E52)
call UnitApplyTimedLife(u2, 0x42544C46, 105)
else
call UnitApplyTimedLife(u2, 0x42544C46, 70)
endif
if udg_ItemBonusDMG[n] >= 300 then
call UnitRemoveAbility(u2, 0x41304342)
call UnitAddAbility(u2, 0x41304E54)
call SaveReal(udg_hash, GetHandleId(u2), 16, LoadReal(udg_hash, GetHandleId(u2), 16) + 12.0)
endif
if udg_ItemBonusDMG[n] >= 500 then
call UnitRemoveAbility(u2, 0x41303655)
call UnitAddAbility(u2, 0x41304450)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
elseif Skill == 0x4130344A then
set u2=GetSpellTargetUnit()
set y=GetUnitState(u2, UNIT_STATE_LIFE)
set x=125 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 1.00
call SetUnitState(u2, UNIT_STATE_LIFE, y + x)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphTarget.mdl", u2, "overhead"))
elseif Skill == 0x41303448 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6E303032, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Skill == 0x41304339 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6E303030, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Skill == 0x4130344B then
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x4130344C)
call SetUnitAbilityLevel(u2, 0x4130344C, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveInteger(udg_hash, Id, 2, 0x4130344C)
if GetUnitLevel(u2) == 5 then
call TimerStart(t, 10, false, function RemoveBuff)
else
call TimerStart(t, 16, false, function RemoveBuff)
endif
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills6 takes nothing returns nothing
set gg_trg_HeroSkills6=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills6, function Trig_HeroSkills6_Actions)
endfunction
function Hero7Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real life=GetUnitState(u2, UNIT_STATE_LIFE)
local real heal
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local real dist
local real cof
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count >= 0 then
set heal=( 175 + 175 * I2R(GetUnitAbilityLevel(u, 0x4130324F)) + udg_ItemBonusDMG[n] * 1.50 ) * 0.02
set x=x2 - x
set y=y2 - y
set dist=SquareRoot(x * x + y * y)
if dist <= 300 then
set cof=1.00
elseif dist >= 1500 then
set cof=0.15
else
set cof=1.00 - ( ( dist - 300 ) / 1500 )
endif
set heal=heal * cof
call SetUnitState(u2, UNIT_STATE_LIFE, life + heal)
else
call UnitRemoveAbility(u2, 0x41303250)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Hero7W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local integer count=LoadInteger(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local real x=LoadReal(udg_hash, Id, 2)
local real y=LoadReal(udg_hash, Id, 3)
local group ug
local integer Random
local real dist=GetRandomReal(50, 120)
local real angle=GetRandomReal(0, 360)
set Random=GetRandomInt(1, 10)
if Random <= count then
set x=x + dist * Cos(angle * bj_DEGTORAD)
set y=y + dist * Sin(angle * bj_DEGTORAD)
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
set dmg=20 + ( 20 * I2R(GetUnitAbilityLevel(u, 0x41303253)) ) + udg_ItemBonusDMG[n] * 0.20
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 130, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function Trig_HeroSkills7_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local unit u3
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local integer count
local real x
local real y
local real dmg
local group ug
if Skill == 0x41305442 then
call UnitRemoveAbility(u, 0x41305441)
call UnitAddAbility(u, 0x41303251)
elseif Skill == 0x41305444 then
call UnitRemoveAbility(u, 0x41305441)
call UnitAddAbility(u, 0x41305443)
elseif Skill == 0x41305445 then
call UnitRemoveAbility(u, 0x41305441)
call UnitAddAbility(u, 0x41305446)
endif
if Skill == 0x4130324F then
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x41303250)
set count=50
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 1, count)
call TimerStart(t, 0.2, true, function Hero7Q)
elseif Skill == 0x41303253 then
set dmg=20 + ( 20 * I2R(GetUnitAbilityLevel(u, 0x41303253)) ) + udg_ItemBonusDMG[n] * 0.20
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 130, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set count=9
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, count)
call SaveReal(udg_hash, Id, 2, x)
call SaveReal(udg_hash, Id, 3, y)
call TimerStart(t, 0.1, true, function Hero7W)
elseif Skill == 0x41303254 then
set x=GetUnitState(u, UNIT_STATE_LIFE)
set dmg=x * 0.10
call SetUnitState(u, UNIT_STATE_LIFE, x - dmg)
set dmg=dmg * ( 0.90 + ( 0.20 * I2R(GetUnitAbilityLevel(u, Skill)) ) )
set u2=GetSpellTargetUnit()
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_LIFE) + dmg)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MANA) + dmg)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", u2, "origin"))
elseif Skill == 0x41303252 then
set ug=CreateGroup()
call GroupAddGroup(udg_AllHeroes, ug)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false then
call SetUnitLifePercentBJ(u3, GetUnitLifePercent(u3) + 35.00)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", u3, "origin"))
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set u2=null
set u3=null
set pl=null
set t=null
set ug=null
endfunction
function InitTrig_HeroSkills7 takes nothing returns nothing
set gg_trg_HeroSkills7=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills7, function Trig_HeroSkills7_Actions)
endfunction
function Hero8D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
set count=count - 1
set mana=mana + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01
call SetUnitState(u, UNIT_STATE_MANA, mana)
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 then
call UnitRemoveAbility(u, 0x41303451)
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.15)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
endfunction
function Hero8DD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local integer L=LoadInteger(udg_hash, Id, 1)
local real r=LoadReal(udg_hash, Id, 2)
set udg_ItemBonusDMG[L]=udg_ItemBonusDMG[L] - r
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
endfunction
function Hero8E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=70 * GetUnitAbilityLevel(u, 0x4130344E) + udg_ItemBonusDMG[n] * 0.50 + mana * 0.20
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Hero8WW takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer Skill=LoadInteger(udg_hash, Id, 3)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local group ug
local real dmg=15 + ( 15 * GetUnitAbilityLevel(u, Skill) ) + udg_ItemBonusDMG[n] * 0.15
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 175, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u3=null
set pl=null
set ug=null
endfunction
function Hero8W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local timer t2=CreateTimer()
local integer Id2=GetHandleId(t2)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real x2=LoadReal(udg_hash, Id, 3)
local real y2=LoadReal(udg_hash, Id, 4)
local integer count=LoadInteger(udg_hash, Id, 5)
local integer Skill=LoadInteger(udg_hash, Id, 6)
local real dist
local real angle=GetRandomReal(0, 360)
local unit u2
if Skill == 0x41304A35 then
set dist=GetRandomReal(25, 320)
else
set dist=GetRandomReal(25, 245)
endif
set count=count - 1
set x2=x2 + dist * Cos(angle * bj_DEGTORAD)
set y2=y2 + dist * Sin(angle * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303052, x, y, 0)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssuePointOrder(u2, "attackground", x2, y2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y) / 900
call SaveUnitHandle(udg_hash, Id2, 1, u)
call SaveReal(udg_hash, Id2, 1, x2)
call SaveReal(udg_hash, Id2, 2, y2)
call SaveInteger(udg_hash, Id2, 3, Skill)
call TimerStart(t2, x, false, function Hero8WW)
call SaveInteger(udg_hash, Id, 5, count)
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set t2=null
set u=null
set u2=null
set pl=null
endfunction
function Hero8Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local integer count=LoadInteger(udg_hash, Id, 1)
local real cof=LoadReal(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=( 20 + 20 * GetUnitAbilityLevel(u, 0x41304954) + udg_ItemBonusDMG[n] * 0.20 ) * cof
local group ug
local group ug2
local real x=LoadReal(udg_hash, Id, 3)
local real y=LoadReal(udg_hash, Id, 4)
if GetUnitAbilityLevel(u, 0x41304958) == 1 then
set cof=cof + 0.15
call SaveReal(udg_hash, Id, 2, cof)
endif
set count=count - 1
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 305, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call GroupAddUnit(ug2, u2)
endif
call GroupRemoveUnit(ug, u2)
endloop
set ug2=GetRandomSubGroup(1, ug2)
loop
set u2=FirstOfGroup(ug2)
exitwhen u2 == null
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", u2, "origin"))
call GroupRemoveUnit(ug2, u2)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 then
set u2=LoadUnitHandle(udg_hash, Id, 2)
call RemoveUnit(u2)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u2=null
set pl=null
set ug=null
set ug2=null
endfunction
function ArcanologRCreate takes nothing returns nothing
local unit u=udg_u
local player pl=GetOwningPlayer(u)
local location p=udg_p
local timer t=CreateTimer()
local integer i=GetHandleId(t)
call TimerStart(t, 2.00, true, function SpellBoom)
call SaveUnitHandle(udg_hash, i, 1, u)
call SaveReal(udg_hash, i, 1, 200.00 + udg_ItemBonusDMG[GetPlayerId(pl) + 1])
call SaveReal(udg_hash, i, 2, 135.00)
call SaveStr(udg_hash, i, 3, "war3mapImported\\Flamestrike Dark Void I.mdx")
set u=CreateUnitAtLoc(pl, 0x6F303155, p, 0)
call SaveUnitHandle(udg_hash, i, 2, u)
set t=null
set u=null
call RemoveLocation(p)
set p=null
endfunction
function Trig_HeroSkills8_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real r
local location p
local integer L
if Skill == 0x41304957 then
call UnitRemoveAbility(u, 0x41304956)
call UnitAddAbility(u, 0x41303450)
elseif Skill == 0x41304958 then
call UnitRemoveAbility(u, 0x41304956)
call UnitAddAbility(u, 0x41304959)
elseif Skill == 0x4130495A then
call UnitRemoveAbility(u, 0x41304956)
call UnitAddAbility(u, 0x41304A30)
set L=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[L]=udg_ItemBonusDMG[L] + 50
elseif Skill == 0x41304A31 then
call UnitRemoveAbility(u, 0x41304956)
call UnitAddAbility(u, 0x41304A34)
endif
if GetUnitAbilityLevel(u, 0x41304A30) == 1 then
if Skill == 0x41304955 or Skill == 0x41304954 or Skill == 0x4130344E or Skill == 0x41303453 then
set L=GetPlayerId(pl) + 1
set r=udg_ItemBonusDMG[L] * 0.15
set udg_ItemBonusDMG[L]=udg_ItemBonusDMG[L] + r
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveInteger(udg_hash, Id, 1, L)
call SaveReal(udg_hash, Id, 2, r)
call TimerStart(t, 5, false, function Hero8DD)
endif
endif
if Skill == 0x41303450 then
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x41303451)
call SaveReal(udg_hash, GetHandleId(u2), 4, LoadReal(udg_hash, GetHandleId(u2), 4) + 0.15)
set L=15
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveInteger(udg_hash, Id, 1, L)
call TimerStart(t, 1, true, function Hero8D)
elseif Skill == 0x41304955 then
set udg_u=u
set p=Location(x, y)
set r=GetUnitFacing(u)
set L=1
loop
exitwhen L > 8
set udg_p=PolarProjectionBJ(p, 585.00, ( r - 67.50 ) + ( 15.00 * I2R(L) ))
call ArcanologRCreate()
set L=L + 1
endloop
elseif Skill == 0x41304954 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
set u2=CreateUnit(pl, 0x6F303154, x, y, 270)
if GetUnitAbilityLevel(u, 0x41304959) == 1 then
set L=16
else
set L=12
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 1, L)
call SaveReal(udg_hash, Id, 2, 1)
call SaveReal(udg_hash, Id, 3, x)
call SaveReal(udg_hash, Id, 4, y)
call TimerStart(t, 0.75, true, function Hero8Q)
elseif Skill == 0x4130344E then
set u2=GetSpellTargetUnit()
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y) / 1500
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, x, false, function Hero8E)
elseif Skill == 0x41303453 or Skill == 0x41304A35 then
set p=GetSpellTargetLoc()
set x2=GetLocationX(p)
set y2=GetLocationY(p)
if Skill == 0x41304A35 then
set L=16
else
set L=8
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveReal(udg_hash, Id, 3, x2)
call SaveReal(udg_hash, Id, 4, y2)
call SaveInteger(udg_hash, Id, 5, L)
call SaveInteger(udg_hash, Id, 6, Skill)
if Skill == 0x41304A35 then
call TimerStart(t, 0.04, true, function Hero8W)
else
call TimerStart(t, 0.05, true, function Hero8W)
endif
endif
set u=null
set pl=null
set u2=null
set t=null
call RemoveLocation(p)
set p=null
endfunction
function InitTrig_HeroSkills8 takes nothing returns nothing
set gg_trg_HeroSkills8=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills8, function Trig_HeroSkills8_Actions)
endfunction
function Trig_HeroSkills9_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local integer Skill=GetSpellAbilityId()
local real dmg
local real r
local timer t
local integer Id
local real x
local real y
local group ug
if Skill == 0x41303257 then
set u2=GetSpellTargetUnit()
set dmg=100 + 100 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.75
if IsUnitEnemy(u2, pl) == true then
if udg_ItemBonusDMG[n] >= 300 then
set dmg=dmg * 0.9
else
set dmg=dmg * 0.6
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
set r=GetUnitState(u2, UNIT_STATE_LIFE)
call SetUnitState(u2, UNIT_STATE_LIFE, r + dmg)
if GetUnitAbilityLevel(u, 0x4130325A) > 0 then
call UnitAddAbility(u2, 0x41303258)
call SetUnitAbilityLevel(u2, 0x41303258, GetUnitAbilityLevel(u, 0x4130325A))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveInteger(udg_hash, Id, 2, 0x41303258)
call TimerStart(t, 6, false, function RemoveBuff)
endif
endif
elseif Skill == 0x41303259 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=30 + 30 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.35
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == false and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitType(u2, UNIT_TYPE_MECHANICAL) == false then
set r=GetUnitState(u2, UNIT_STATE_LIFE)
call SetUnitState(u2, UNIT_STATE_LIFE, r + dmg)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", u2, "origin"))
if GetUnitAbilityLevel(u, 0x4130325A) > 0 then
set r=GetUnitState(u2, UNIT_STATE_LIFE)
set dmg=GetUnitState(u2, UNIT_STATE_MAX_LIFE) * ( 0.02 + 0.02 * I2R(GetUnitAbilityLevel(u, 0x4130325A)) )
call SetUnitState(u2, UNIT_STATE_LIFE, r + dmg)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
set u=null
set pl=null
set u2=null
set t=null
set ug=null
endfunction
function InitTrig_HeroSkills9 takes nothing returns nothing
set gg_trg_HeroSkills9=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills9, function Trig_HeroSkills9_Actions)
endfunction
function Trig_HeroDeath9_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit()) == 0x4830305A
endfunction
function Trig_HeroDeath9_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local real aoe
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug
local real life
local real heal
set dmg=350 + udg_ItemBonusDMG[n] * 1.25
set aoe=305
if GetUnitAbilityLevel(u, 0x41303255) > 0 then
set aoe=aoe * 1.20
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\Empyrean Nova Classic.mdx", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false then
if IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
if IsUnitType(u3, UNIT_TYPE_HERO) == true and GetUnitAbilityLevel(u, 0x4130325A) > 0 then
set life=GetUnitState(u3, UNIT_STATE_LIFE)
set heal=GetUnitState(u3, UNIT_STATE_MAX_LIFE) * ( 0.15 + 0.15 * I2R(GetUnitAbilityLevel(u, 0x4130325A)) )
call SetUnitState(u3, UNIT_STATE_LIFE, life + heal)
endif
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set u=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroDeath9 takes nothing returns nothing
set gg_trg_HeroDeath9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroDeath9, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroDeath9, Condition(function Trig_HeroDeath9_Conditions))
call TriggerAddAction(gg_trg_HeroDeath9, function Trig_HeroDeath9_Actions)
endfunction
function Hero10R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call UnitRemoveAbility(u, 0x41303532)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero10D takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local integer Id=GetHandleId(u)
local integer count=LoadInteger(udg_hash, Id, 20)
set count=count - 1
call SaveInteger(udg_hash, Id, 20, count)
if count == 0 then
call UnitRemoveAbility(u, 0x53303050)
call SaveReal(udg_hash, Id, 4, LoadReal(udg_hash, Id, 4) - 0.18)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
endif
set t=null
set u=null
endfunction
function Trig_HeroSkills10_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local real dmg
local real life
local integer str=GetHeroStr(u, false)
local timer t
local integer Id
local integer count
if Skill == 0x41303530 or Skill == 0x41303531 then
set Id=GetHandleId(u)
set count=LoadInteger(udg_hash, Id, 20)
if count == 0 then
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 1, true, function Hero10D)
call UnitAddAbility(u, 0x53303050)
call SaveReal(udg_hash, Id, 4, LoadReal(udg_hash, Id, 4) + 0.18)
endif
set count=4
call SaveInteger(udg_hash, Id, 20, count)
endif
if Skill == 0x41303530 then
if GetUnitLifePercent(u) <= 35.00 then
call SetHeroStr(u, str + 1, true)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl", u, "origin"))
endif
set dmg=75 + 75 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n]
set life=GetUnitState(u, UNIT_STATE_LIFE)
call SetUnitState(u, UNIT_STATE_LIFE, life + dmg)
elseif Skill == 0x41303531 then
call SetHeroStr(u, str + 2, true)
call SetUnitVertexColor(u, 255, 0, 0, 255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl", u, "origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", u, "origin"))
call UnitAddAbility(u, 0x41303532)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 12, false, function Hero10R)
endif
set u=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills10 takes nothing returns nothing
set gg_trg_HeroSkills10=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills10, function Trig_HeroSkills10_Actions)
endfunction
function Trig_HeroAttack10_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303137
endfunction
function Hero10E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer B=LoadInteger(udg_hash, GetHandleId(u), 21)
if GetUnitAbilityLevel(u, 0x41303532) == 1 then
set B=B - 2
if B < 0 then
set B=0
endif
else
set B=B - 1
endif
call SaveInteger(udg_hash, GetHandleId(u), 21, B)
if B == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
endfunction
function Trig_HeroAttack10_Actions takes nothing returns nothing
local unit u=GetAttacker()
local unit u2=GetTriggerUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local group ug
local real dmg
local timer t
local integer Id
local integer B
if GetUnitAbilityLevel(u, 0x41303534) > 0 then
set Id=GetHandleId(u)
set B=LoadInteger(udg_hash, Id, 21)
if B == 0 then
set dmg=20 * I2R(GetUnitAbilityLevel(u, 0x41303534)) + udg_ItemBonusDMG[n] * 0.10
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if GetUnitAbilityLevel(u2, 0x424E6468) > 0 then
call UnitDamageTarget(u, u2, dmg * 2, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set B=12
call SaveInteger(udg_hash, Id, 21, B)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 0.5, true, function Hero10E)
endif
endif
set u=null
set u2=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroAttack10 takes nothing returns nothing
set gg_trg_HeroAttack10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack10, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack10, Condition(function Trig_HeroAttack10_Conditions))
call TriggerAddAction(gg_trg_HeroAttack10, function Trig_HeroAttack10_Actions)
endfunction
function Hero11D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.03)
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 or GetUnitAbilityLevel(u, 0x42303158) == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
endfunction
function Hero11E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local timer t2
call SetUnitAnimation(u, "attack")
call SetUnitAnimation(u2, "death")
set dmg=( 50 + 150 * I2R(GetUnitAbilityLevel(u, 0x41303341)) + udg_ItemBonusDMG[n] * 1.25 + LoadReal(udg_hash, GetHandleId(u), 21) ) * 0.05
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if GetUnitAbilityLevel(u, 0x42303037) == 1 then
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + dmg * 0.30)
endif
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodFootman.mdl", u2, "head"))
set n=GetRandomInt(1, 3)
if n == 1 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
elseif n == 2 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "chest"))
else
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPriest.mdl", u2, "chest"))
endif
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 then
if GetUnitAbilityLevel(u, 0x41303343) == 1 then
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.35)
elseif GetUnitAbilityLevel(u, 0x41304938) == 1 then
call UnitAddAbility(u, 0x41304939)
set t2=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 0x41304939)
call TimerStart(t2, 5, true, function RemoveBuff)
endif
call PauseUnit(u, false)
call PauseUnit(u2, false)
call UnitRemoveAbility(u, 0x41303342)
call SetUnitTimeScale(u, 1.00)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Trig_HeroSkills11_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real dmg
local texttag text
if Skill == 0x41304933 then
call UnitRemoveAbility(u, 0x41304932)
call UnitAddAbility(u, 0x41304934)
elseif Skill == 0x41304935 then
call UnitRemoveAbility(u, 0x41304932)
call UnitAddAbility(u, 0x41304936)
elseif Skill == 0x41304937 then
call UnitRemoveAbility(u, 0x41304932)
call UnitAddAbility(u, 0x41304938)
elseif Skill == 0x41304941 then
call UnitRemoveAbility(u, 0x41304932)
call UnitAddAbility(u, 0x41303338)
endif
if Skill == 0x41303339 then
set dmg=( 30 + 70 * I2R(GetUnitAbilityLevel(u, 0x41303339)) + udg_ItemBonusDMG[n] * 0.70 ) * ( 1 + ( ( 100 - GetUnitLifePercent(u2) ) * 0.02 ) )
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set text=CreateTextTagUnitBJ("|cFFE30A0E" + I2S(R2I(dmg)) + " dmg", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "chest"))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "chest"))
elseif Skill == 0x41303344 then
call UnitAddAbility(u, 0x41303345)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41303345)
call TimerStart(t, 16, true, function RemoveBuff)
elseif Skill == 0x41303341 then
call PauseUnit(u, true)
call PauseUnit(u2, true)
call UnitAddAbility(u, 0x41303342)
call SetUnitTimeScale(u, 6.70)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 1, 20)
call TimerStart(t, 0.15, true, function Hero11E)
if GetUnitAbilityLevel(u, 0x41303343) == 1 then
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) + 0.35)
endif
elseif Skill == 0x41303338 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 20)
call TimerStart(t, 0.5, true, function Hero11D)
endif
set u=null
set pl=null
set u2=null
set t=null
set text=null
endfunction
function InitTrig_HeroSkills11 takes nothing returns nothing
set gg_trg_HeroSkills11=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills11, function Trig_HeroSkills11_Actions)
endfunction
function Trig_HeroKills11_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x4E303130 and IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnit())) == true
endfunction
function Trig_HeroKills11_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local integer Id=GetHandleId(u)
local integer n
if GetUnitAbilityLevel(u, 0x41304934) == 1 then
set n=LoadInteger(udg_hash, Id, 20) + 1
if n >= 6 then
set n=0
call SetUnitBaseDamage(u , GetUnitBaseDamage(u) + 1)
endif
call SaveInteger(udg_hash, Id, 20, n)
elseif GetUnitAbilityLevel(u, 0x41304936) == 1 then
call SaveReal(udg_hash, Id, 21, LoadReal(udg_hash, Id, 21) + 3)
endif
set u=null
endfunction
function InitTrig_HeroKills11 takes nothing returns nothing
set gg_trg_HeroKills11=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills11, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills11, Condition(function Trig_HeroKills11_Conditions))
call TriggerAddAction(gg_trg_HeroKills11, function Trig_HeroKills11_Actions)
endfunction
function Trig_HeroAttack11_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303130 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) == true
endfunction
function Hero11AttackCD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 22, 0)
call UnitRemoveAbility(u, 0x41303345)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroAttack11_Actions takes nothing returns nothing
local unit u=GetAttacker()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=GetTriggerUnit()
local real dmg
local integer agi=GetHeroAgi(u, true)
local timer t
local integer check=LoadInteger(udg_hash, GetHandleId(u), 22)
if GetUnitAbilityLevel(u, 0x41304938) == 1 then
if GetUnitAbilityLevel(u, 0x41303343) >= 1 and GetUnitLifePercent(u2) >= 75.00 then
if check != 1 then
set dmg=50 + udg_ItemBonusDMG[n] * 0.20 + I2R(agi) * 0.50
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + dmg * 0.20)
call SaveInteger(udg_hash, GetHandleId(u), 22, 1)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 0.50, false, function Hero11AttackCD)
endif
endif
else
if GetUnitAbilityLevel(u, 0x41303343) >= 1 and GetUnitLifePercent(u2) >= 90.00 then
if check != 1 then
set dmg=50 + udg_ItemBonusDMG[n] * 0.20 + I2R(agi) * 0.50
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call SaveInteger(udg_hash, GetHandleId(u), 22, 1)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call TimerStart(t, 0.50, false, function Hero11AttackCD)
endif
endif
endif
set u=null
set pl=null
set u2=null
set t=null
endfunction
function InitTrig_HeroAttack11 takes nothing returns nothing
set gg_trg_HeroAttack11=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack11, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack11, Condition(function Trig_HeroAttack11_Conditions))
call TriggerAddAction(gg_trg_HeroAttack11, function Trig_HeroAttack11_Actions)
endfunction
function Trig_HeroSkills12_Conditions takes nothing returns boolean
return GetUnitTypeId(GetSpellAbilityUnit()) == 0x48303051 or GetSpellAbilityId() == 0x41304A4A
endfunction
function Charms takes unit u returns nothing
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
local integer Id_u=GetHandleId(u)
call UnitAddAbility(u, 0x41303146)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41303146)
call SaveTimerHandle(udg_hash, Id_u, 1, t)
call TimerStart(t, 5, false, function RemoveBuff)
set t=null
set u=null
endfunction
function Hero12WTalent takes nothing returns nothing
local timer t=GetExpiredTimer()
local timer t2
local integer Id=GetHandleId(t)
local real x=LoadReal(udg_hash, Id, 5)
local real y=LoadReal(udg_hash, Id, 6)
local real x2
local real y2
local integer L=LoadInteger(udg_hash, Id, 3)
local integer Skill=LoadInteger(udg_hash, Id, 4)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local group ug
local real dmg=( 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] + I2R(GetHeroInt(u, true)) * 2 ) * 0.25
set x2=GetRandomReal(x - 250, x + 250)
set y2=GetRandomReal(y - 250, y + 250)
if GetUnitAbilityLevel(u, 0x41304A44) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
if GetUnitManaPercent(u) >= 80.00 then
set dmg=dmg * 1.75
endif
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\WispQ.mdx", x2, y2))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, 125, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u3, 0x41303146) == 1 then
call UnitDamageTarget(u, u3, dmg * 1.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call UnitRemoveAbility(u3, 0x41303146)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01)
set t2=LoadTimerHandle(udg_hash, GetHandleId(u3), 1)
call FlushChildHashtable(udg_hash, GetHandleId(t2))
call DestroyTimer(t2)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u3) == false then
if GetUnitAbilityLevel(u, 0x41303235) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
call Charms(u3)
endif
endif
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set L=L - 1
call SaveInteger(udg_hash, Id, 3, L)
if L <= 0 then
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
endif
set t=null
set t2=null
set u=null
set u3=null
set ug=null
endfunction
function Hero12W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=LoadReal(udg_hash, Id, 3)
local real y=LoadReal(udg_hash, Id, 4)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local group ug
local integer Skill=LoadInteger(udg_hash, Id, 1)
local real dmg
local timer t2
local timer t3
local integer Id2
if GetUnitAbilityLevel(u, 0x41304A4E) == 1 or GetUnitAbilityLevel(u, 0x41304A4C) == 1 then
set dmg=( 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] + I2R(GetHeroInt(u, true)) * 2 ) * 1.50
set t2=CreateTimer()
set Id2=GetHandleId(t2)
call SaveUnitHandle(udg_hash, Id2, 1, u)
call SaveReal(udg_hash, Id2, 5, x)
call SaveReal(udg_hash, Id2, 6, y)
call SaveInteger(udg_hash, Id2, 3, 13)
call SaveInteger(udg_hash, Id2, 4, Skill)
call TimerStart(t2, 0.30, true, function Hero12WTalent)
else
set dmg=50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] + I2R(GetHeroInt(u, true)) * 2
endif
if GetUnitAbilityLevel(u, 0x41304A44) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
if GetUnitManaPercent(u) >= 80.00 then
set dmg=dmg * 1.75
endif
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\Eternal Explode.mdx", x, y))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Eternal Explode.mdx", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 335, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u3, 0x41303146) == 1 then
call UnitDamageTarget(u, u3, dmg * 1.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call UnitRemoveAbility(u3, 0x41303146)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01)
set t3=LoadTimerHandle(udg_hash, GetHandleId(u3), 1)
call FlushChildHashtable(udg_hash, GetHandleId(t3))
call DestroyTimer(t3)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u3) == false then
if GetUnitAbilityLevel(u, 0x41303235) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
call Charms(u3)
endif
endif
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call RemoveUnit(u2)
set t=null
set t2=null
set t3=null
set u=null
set u2=null
set u3=null
set ug=null
set pl=null
endfunction
function Hero12E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local timer t2
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=LoadInteger(udg_hash, Id, 3)
local real dmg
local real x
local real y
local unit u3
local group ug
local group ug2
local integer L
if Skill == 0x41304A4A then
set u=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
set dmg=( 50 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.65 ) * 0.65
else
set dmg=50 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.65
endif
if GetUnitAbilityLevel(u, 0x41304A44) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
if GetUnitManaPercent(u) >= 80.00 then
set dmg=dmg * 1.75
endif
endif
if GetUnitAbilityLevel(u2, 0x41303146) == 1 then
call UnitDamageTarget(u, u2, dmg * 1.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call UnitRemoveAbility(u2, 0x41303146)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01)
set t2=LoadTimerHandle(udg_hash, GetHandleId(u2), 1)
call FlushChildHashtable(udg_hash, GetHandleId(t2))
call DestroyTimer(t2)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u2) == false then
if GetUnitAbilityLevel(u, 0x41303235) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
call Charms(u2)
endif
endif
endif
if ( GetUnitAbilityLevel(u, 0x41304A49) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 ) and Skill != 0x41304A4A then
set L=3 + R2I(udg_ItemBonusDMG[n] * 0.01)
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200 + I2R(20 * L), null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_MAGIC_IMMUNE) == false and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false and u3 != u2 then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set ug2=GetRandomSubGroup(L, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitAddAbility(u2, 0x41304A4A)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssueTargetOrder(u2, "acidbomb", u3)
call GroupRemoveUnit(ug2, u3)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
endloop
call DestroyGroup(ug2)
endif
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set t2=null
set u=null
set u2=null
set pl=null
set u3=null
set ug=null
set ug2=null
endfunction
function Hero12R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call UnitRemoveAbility(u, 0x41304A45)
call SaveReal(udg_hash, GetHandleId(u), 6, LoadReal(udg_hash, GetHandleId(u), 6) - 0.25)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroSkills12_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real dmg
local group ug
local real x
local real y
local real x2
local real y2
local integer L
if Skill == 0x41304A42 then
call UnitRemoveAbility(u, 0x41304A41)
call UnitAddAbility(u, 0x41303235)
elseif Skill == 0x41304A43 then
call UnitRemoveAbility(u, 0x41304A41)
call UnitAddAbility(u, 0x41304A44)
elseif Skill == 0x41304A48 then
call UnitRemoveAbility(u, 0x41304A41)
call UnitAddAbility(u, 0x41304A49)
elseif Skill == 0x41304A4B then
call UnitRemoveAbility(u, 0x41304A41)
call UnitAddAbility(u, 0x41304A4C)
elseif Skill == 0x41304A4D then
call UnitRemoveAbility(u, 0x41304A41)
call UnitAddAbility(u, 0x41304A4E)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - 100.00
call SetHeroStr(u, GetHeroStr(u, false) - 3, true)
call SetHeroAgi(u, GetHeroAgi(u, false) - 3, true)
call SetHeroInt(u, GetHeroInt(u, false) - 3, true)
call SaveReal(udg_hash, GetHandleId(u), 2, LoadReal(udg_hash, GetHandleId(u), 2) + 10.00)
endif
if Skill == 0x41303237 or Skill == 0x41304A46 then
set dmg=25 + 25 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.25
if GetUnitAbilityLevel(u, 0x41304A44) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
if GetUnitManaPercent(u) >= 80.00 then
set dmg=dmg * 1.75
endif
endif
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
call DestroyEffect(AddSpecialEffect("war3mapImported\\Flamestrike Mystic I.mdx", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 155, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u3, 0x41303146) == 1 then
call UnitDamageTarget(u, u3, dmg * 1.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call UnitRemoveAbility(u3, 0x41303146)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01)
set t=LoadTimerHandle(udg_hash, GetHandleId(u3), 1)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u3) == false then
if GetUnitAbilityLevel(u, 0x41303235) == 1 or GetUnitAbilityLevel(u, 0x41304A4E) == 1 then
call Charms(u3)
endif
endif
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41303238 or Skill == 0x41303242 then
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
set u3=CreateUnit(pl, 0x6F30304D, x, y, 0)
call SetUnitScale(u3, 3.20, 3.20, 3.20)
call SetUnitVertexColor(u3, 100, 100, 255, 255)
call SetUnitAnimation(u3, "birth")
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveReal(udg_hash, Id, 3, x)
call SaveReal(udg_hash, Id, 4, y)
call SaveInteger(udg_hash, Id, 1, Skill)
if GetUnitAbilityLevel(u, 0x41304A4E) == 1 or GetUnitAbilityLevel(u, 0x41304A4C) == 1 then
call TimerStart(t, 4.5, false, function Hero12W)
else
call TimerStart(t, 3, false, function Hero12W)
endif
elseif Skill == 0x41303756 or Skill == 0x41304A47 or Skill == 0x41304A4A then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set x=x2 - x
set y=y2 - y
if Skill == 0x41304A4A then
set x=SquareRoot(x * x + y * y) / 750.00
else
set x=SquareRoot(x * x + y * y) / 1500.00
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 3, Skill)
call TimerStart(t, x, false, function Hero12E)
elseif Skill == 0x41303239 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", u, "overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", u, "origin"))
call SetUnitVertexColor(u, 70, 70, 255, 125)
call UnitAddAbility(u, 0x41304A45)
call SaveReal(udg_hash, GetHandleId(u), 6, LoadReal(udg_hash, GetHandleId(u), 6) + 0.25)
set t=CreateTimer()
set Id=GetHandleId(t)
set dmg=10 + udg_ItemBonusDMG[n] * 0.02
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, dmg, true, function Hero12R)
endif
set u=null
set pl=null
set u2=null
set t=null
set u3=null
set ug=null
endfunction
function InitTrig_HeroSkills12 takes nothing returns nothing
set gg_trg_HeroSkills12=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills12, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills12, Condition(function Trig_HeroSkills12_Conditions))
call TriggerAddAction(gg_trg_HeroSkills12, function Trig_HeroSkills12_Actions)
endfunction
function HeroW13End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local integer lvl=LoadInteger(udg_hash, Id, 2)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) - lvl)
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set ug=null
endfunction
function HeroE13End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local integer Skill=LoadInteger(udg_hash, Id, 1)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
call UnitRemoveAbility(u, Skill)
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set ug=null
endfunction
function Trig_HeroSkills13_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug
local group ug2
local unit u3
local integer L
local timer t
local integer Id
local real heal
local boolean Buff
local boolean BuffTime
local real r
local integer lvl
if Skill == 0x4130355A then
set lvl=GetUnitAbilityLevel(u, Skill) * 2 + 2
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsOfPlayer(ug, pl, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false then
set L=1
loop
exitwhen L > 11
if GetUnitTypeId(u3) == MarshalUnits[L] then
call SetUnitExtraArmor(u3 , GetUnitExtraArmor(u3) + lvl)
call GroupAddUnit(ug2, u3)
call SetUnitPosition(u3, x, y)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
endif
set L=L + 1
endloop
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call SetUnitExtraArmor(u , GetUnitExtraArmor(u) + lvl)
call GroupAddUnit(ug2, u)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call SaveInteger(udg_hash, Id, 2, lvl)
call TimerStart(t, 12, false, function HeroW13End)
elseif Skill == 0x41303631 then
set heal=udg_ItemBonusDMG[n] * 0.75
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitAlly(u3, pl) == true and GetPlayerId(GetOwningPlayer(u3)) != 15 and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true then
call SetUnitState(u3, UNIT_STATE_LIFE, GetUnitState(u3, UNIT_STATE_LIFE) + heal)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41303632 then
call SaveInteger(udg_hash, GetHandleId(u), 20, 1)
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFFA900Умение активировано! Следующий призванный отряд останется навсегда.|r")
elseif Skill == 0x41303559 then
set ug=CreateGroup()
set ug2=CreateGroup()
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
set Buff=true
else
set Buff=false
endif
if LoadInteger(udg_hash, GetHandleId(u), 20) == 1 then
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
set BuffTime=true
else
set BuffTime=false
endif
set heal=GetUnitFacing(u)
set x=x + 100 * Cos(heal * bj_DEGTORAD)
set y=y + 100 * Sin(heal * bj_DEGTORAD)
set L=1
loop
exitwhen L > 4
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set L=L + 1
endloop
set r=udg_ItemBonusDMG[n]
set lvl=GetHeroLevel(u)
if lvl >= 16 then
set Id=GetRandomInt(3, 4)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=5
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=GetRandomInt(6, 7)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 13 then
set Id=GetRandomInt(3, 4)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=5
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 10 then
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=GetRandomInt(3, 4)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 8 then
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set Id=5
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 6 then
set Id=GetRandomInt(3, 4)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 4 then
set Id=5
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif lvl >= 2 then
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
endif
if r > 100 then
loop
exitwhen r < 100
if r >= 1000 then
set Id=GetRandomInt(10, 11)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set r=r - 100
elseif r >= 600 then
set Id=GetRandomInt(8, 9)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
set r=r - 100
elseif r >= 400 then
set Id=GetRandomInt(3, 7)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
elseif r >= 200 then
set Id=GetRandomInt(1, 4)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
else
set Id=GetRandomInt(1, 2)
set u3=CreateUnit(pl, MarshalUnits[Id], x, y, heal)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", u3, "origin"))
call GroupAddUnit(ug, u3)
endif
set r=r - 100
endloop
endif
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if BuffTime != true then
call UnitApplyTimedLife(u3, 0x42544C46, 45)
endif
if GetUnitAbilityLevel(u, 0x41303349) >= 1 then
call UnitAddAbility(u3, 0x41303630)
endif
if Buff == true then
call SetUnitExtraArmor(u3 , GetUnitExtraArmor(u3) + 5)
endif
call GroupAddUnit(ug2, u3)
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if GetUnitAbilityLevel(u, 0x41303349) >= 1 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call SaveInteger(udg_hash, Id, 1, 0x41303630)
call TimerStart(t, 10, false, function HeroE13End)
else
call DestroyGroup(ug2)
endif
endif
set u=null
set pl=null
set ug=null
set ug2=null
set u3=null
set t=null
endfunction
function InitTrig_HeroSkills13 takes nothing returns nothing
set gg_trg_HeroSkills13=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills13, function Trig_HeroSkills13_Actions)
endfunction
function HeroQ14 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3=LoadUnitHandle(udg_hash, Id, 2)
local real dmg=2.5 + 2.5 * I2R(GetUnitAbilityLevel(u, 0x41303637)) + udg_ItemBonusDMG[n] * 0.02
local real r=LoadReal(udg_hash, Id, 3)
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if GetUnitAbilityLevel(u3, 0x4230304A) == 0 then
call SaveReal(udg_hash, GetHandleId(u3), 6, LoadReal(udg_hash, GetHandleId(u3), 6) + r)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroW14 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local real aoe=LoadReal(udg_hash, Id, 4)
local real dmg=3 + 3 * I2R(GetUnitAbilityLevel(u, 0x41303636)) + udg_ItemBonusDMG[n] * 0.04
local real x2
local real y2
local real life
local unit u3
local integer L
local group ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true and IsUnitType(u3, UNIT_TYPE_MECHANICAL) != true then
if IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
elseif IsUnitAlly(u3, pl) == true then
set life=GetUnitState(u3, UNIT_STATE_LIFE)
call SetUnitState(u3, UNIT_STATE_LIFE, life + dmg)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
set L=1
loop
exitwhen L > 12
set x2=x + ( aoe - 15 ) * Cos(I2R(L) * 30 * bj_DEGTORAD)
set y2=y + ( aoe - 15 ) * Sin(I2R(L) * 30 * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", x2, y2))
set L=L + 1
endloop
set count=count - 1
if count < 1 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 3, count)
endif
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroR14_2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3=LoadUnitHandle(udg_hash, Id, 2)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=200 + udg_ItemBonusDMG[n] * 1.00
local real heal=150 + udg_ItemBonusDMG[n] * 0.75
local real life
local group ug=CreateGroup()
call RemoveUnit(u3)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Heavens Gate.mdx", x, y))
call GroupEnumUnitsInRange(ug, x, y, 275, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true and IsUnitType(u3, UNIT_TYPE_MECHANICAL) != true then
if IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
elseif IsUnitAlly(u3, pl) == true then
set life=GetUnitState(u3, UNIT_STATE_LIFE)
call SetUnitState(u3, UNIT_STATE_LIFE, life + heal)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyGroup(ug)
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroR14_1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3=LoadUnitHandle(udg_hash, Id, 2)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
call QueueUnitAnimation(u3, "stand")
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call TimerStart(t, 1.4, false, function HeroR14_2)
set t=null
set u=null
set u3=null
endfunction
function Trig_HeroSkills14_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local real dmg
local unit u3
local unit dummy
local timer t
local integer Id
local real x
local real y
local group ug
if Skill == 0x41303637 then
set u3=GetSpellTargetUnit()
set t=CreateTimer()
set Id=GetHandleId(t)
set dmg=0.08 + 0.04 * I2R(GetUnitAbilityLevel(u, Skill))
call SaveReal(udg_hash, GetHandleId(u3), 6, LoadReal(udg_hash, GetHandleId(u3), 6) - dmg)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveReal(udg_hash, Id, 3, dmg)
call TimerStart(t, 0.5, true, function HeroQ14)
elseif Skill == 0x41303636 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, 18)
call SaveReal(udg_hash, Id, 4, 405)
call TimerStart(t, 0.5, true, function HeroW14)
elseif Skill == 0x41303638 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call DestroyEffect(AddSpecialEffect("war3mapImported\\LightNova.mdl", x, y))
set dmg=15 + 15 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.15
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true and IsUnitType(u3, UNIT_TYPE_MECHANICAL) != true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x41303639)
call SetUnitAbilityLevel(dummy, 0x41303639, GetUnitAbilityLevel(u, Skill))
call IssueTargetOrderById(dummy, Order_curse, u3)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41303635 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u3=CreateUnit(pl, 0x6F30324A, x, y, 270)
call SetUnitAnimation(u3, "birth")
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call TimerStart(t, 0.6, false, function HeroR14_1)
set udg_p=GetSpellTargetLoc()
endif
set u=null
set pl=null
set u3=null
set t=null
set ug=null
set dummy=null
endfunction
function InitTrig_HeroSkills14 takes nothing returns nothing
set gg_trg_HeroSkills14=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills14, function Trig_HeroSkills14_Actions)
endfunction
function HeroW15 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real heal=5 + 5 * I2R(GetUnitAbilityLevel(u, 0x41303832)) + udg_ItemBonusDMG[n] * 0.05
if GetUnitAbilityLevel(u, 0x41304D4D) == 1 then
set heal=heal * ( 1.00 + ( 100.00 - GetUnitLifePercent(u) ) * 0.01 )
endif
if IsDead(u) == false then
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count < 1 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set pl=null
endfunction
function Trig_HeroSkills15_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local group ug
local unit u3
local real dmg
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if Skill == 0x41304D4B then
call UnitRemoveAbility(u, 0x41304B50)
call UnitAddAbility(u, 0x4130375A)
call TriggerRegisterUnitEvent(gg_trg_HeroItems15, u, EVENT_UNIT_USE_ITEM)
elseif Skill == 0x41304D4C then
call UnitRemoveAbility(u, 0x41304B50)
call UnitAddAbility(u, 0x41304D4D)
elseif Skill == 0x41304D4E then
call UnitRemoveAbility(u, 0x41304B50)
call UnitAddAbility(u, 0x41304D4F)
endif
if Skill == 0x4130374C or Skill == 0x41304D50 then
if udg_ItemBonusDMG[n] >= 200 then
call UnitAddAbility(u, 0x41303759)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41303759)
call TimerStart(t, 8, false, function RemoveBuff)
endif
if Skill == 0x41304D50 then
set dmg=I2R(GetHeroStr(u, true)) * 1.25
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 750, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
elseif Skill == 0x41303832 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 20)
call TimerStart(t, 0.5, true, function HeroW15)
endif
set u=null
set pl=null
set t=null
set ug=null
set u3=null
endfunction
function InitTrig_HeroSkills15 takes nothing returns nothing
set gg_trg_HeroSkills15=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills15, function Trig_HeroSkills15_Actions)
endfunction
function Trig_HeroKills15_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x4E303156
endfunction
function HeroE15 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 1)
local integer L
if GetUnitAbilityLevel(u, 0x41304D4D) == 1 then
set L=GetRandomInt(1, 100)
if L <= 5 then
call SaveInteger(udg_hash, GetHandleId(u), 20, LoadInteger(udg_hash, GetHandleId(u), 20) + 1)
call SetHeroStr(u, GetHeroStr(u, false) + 1, true)
endif
endif
call SetHeroStr(u, GetHeroStr(u, false) - n, true)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroKills15_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local real r
if GetUnitAbilityLevel(u, 0x41303831) >= 1 and IsUnitAlly(u2, pl) == false then
set r=3 + 2 * I2R(GetUnitAbilityLevel(u, 0x41303831))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, r, false, function HeroE15)
if udg_ItemBonusDMG[n] >= 300 then
call SetHeroStr(u, GetHeroStr(u, false) + 3, true)
call SaveInteger(udg_hash, Id, 1, 3)
else
call SetHeroStr(u, GetHeroStr(u, false) + 2, true)
call SaveInteger(udg_hash, Id, 1, 2)
endif
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroKills15 takes nothing returns nothing
set gg_trg_HeroKills15=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills15, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills15, Condition(function Trig_HeroKills15_Conditions))
call TriggerAddAction(gg_trg_HeroKills15, function Trig_HeroKills15_Actions)
endfunction
function MagicTonic takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
if IsDead(u) == false then
call SetUnitState(u, UNIT_STATE_LIFE, life + 1.9)
call SetUnitState(u, UNIT_STATE_MANA, mana + 4.5)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count < 1 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
endfunction
function Trig_HeroItems15_Actions takes nothing returns nothing
local unit u=GetManipulatingUnit()
local integer Id=GetItemTypeId(GetManipulatedItem())
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local timer t
if Id == 0x49303047 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 120)
elseif Id == 0x49303048 then
call SetUnitState(u, UNIT_STATE_MANA, mana + 60)
elseif Id == 0x49303049 or Id == 0x49303053 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 22.5)
call SetUnitState(u, UNIT_STATE_MANA, mana + 9)
elseif Id == 0x49303333 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 15)
call SetUnitState(u, UNIT_STATE_MANA, mana + 19.5)
elseif Id == 0x4930304A or Id == 0x49303054 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 67.5)
call SetUnitState(u, UNIT_STATE_MANA, mana + 22.5)
elseif Id == 0x49303334 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 45)
call SetUnitState(u, UNIT_STATE_MANA, mana + 54)
elseif Id == 0x49303749 then
call SetUnitState(u, UNIT_STATE_LIFE, life + 60)
elseif Id == 0x776F6D73 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 20)
call TimerStart(t, 0.5, true, function MagicTonic)
endif
set u=null
set t=null
endfunction
function InitTrig_HeroItems15 takes nothing returns nothing
set gg_trg_HeroItems15=CreateTrigger()
call TriggerAddAction(gg_trg_HeroItems15, function Trig_HeroItems15_Actions)
endfunction
function Trig_HeroSkills16_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local real r
if Skill == 0x4130524F then
call UnitRemoveAbility(u, 0x41303844)
call UnitAddAbility(u, 0x41305250)
call SaveReal(udg_hash, GetHandleId(u), 20, 0.20)
elseif Skill == 0x41305251 then
call UnitRemoveAbility(u, 0x41303844)
call UnitAddAbility(u, 0x41305252)
set r=LoadReal(udg_hash, GetHandleId(u), 1)
set r=r - 0.15
call SaveReal(udg_hash, GetHandleId(u), 1, r)
elseif Skill == 0x41305253 then
call UnitRemoveAbility(u, 0x41303844)
call UnitAddAbility(u, 0x41305254)
endif
set u=null
endfunction
function InitTrig_HeroSkills16 takes nothing returns nothing
set gg_trg_HeroSkills16=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills16, function Trig_HeroSkills16_Actions)
endfunction
function Trig_HeroD16_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x48303147 or GetUnitTypeId(GetKillingUnit()) == 0x48767764
endfunction
function Trig_HeroD16_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local real r
local integer i
if IsUnitEnemy(u2, pl) == true then
if GetUnitAbilityLevel(u, 0x41305250) == 1 and IsUnitType(u2, UNIT_TYPE_HERO) == true then
set r=LoadReal(udg_hash, GetHandleId(u), 20) + 0.05
call SaveReal(udg_hash, GetHandleId(u), 20, r)
elseif GetUnitAbilityLevel(u, 0x41305252) == 1 then
set i=LoadInteger(udg_hash, GetHandleId(u), 20) + 1
if i >= 40 then
set i=0
set r=LoadReal(udg_hash, GetHandleId(u), 1)
set r=r - 0.03
call SaveReal(udg_hash, GetHandleId(u), 1, r)
endif
call SaveInteger(udg_hash, GetHandleId(u), 20, i)
endif
endif
set u=null
set u2=null
set pl=null
endfunction
function InitTrig_HeroD16 takes nothing returns nothing
set gg_trg_HeroD16=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroD16, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroD16, Condition(function Trig_HeroD16_Conditions))
call TriggerAddAction(gg_trg_HeroD16, function Trig_HeroD16_Actions)
endfunction
function Trig_HeroR16_Conditions takes nothing returns boolean
return GetLearnedSkill() == 0x41303848
endfunction
function HeroR16_check takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
if IsDead(u) == false then
if GetUnitLifePercent(u) > 50.00 then
if GetUnitAbilityLevel(u, 0x4130524E) != 1 then
call UnitAddAbility(u, 0x4130524E)
endif
else
if GetUnitAbilityLevel(u, 0x4130524E) == 1 then
call UnitRemoveAbility(u, 0x4130524E)
endif
endif
endif
set t=null
set u=null
endfunction
function Trig_HeroR16_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
local unit u=GetLearningUnit()
call TimerStart(t, 1, true, function HeroR16_check)
call SaveUnitHandle(udg_hash, Id, 1, u)
set t=null
set u=null
endfunction
function InitTrig_HeroR16 takes nothing returns nothing
set gg_trg_HeroR16=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroR16, EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_HeroR16, Condition(function Trig_HeroR16_Conditions))
call TriggerAddAction(gg_trg_HeroR16, function Trig_HeroR16_Actions)
endfunction
function Trig_HeroQ16_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303845
endfunction
function HeroQ16_Endbuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call UnitRemoveAbility(u, 0x4130414E)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroQ16_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=0x41303845
local integer lvl=GetUnitAbilityLevel(u, Skill)
local integer Id
local timer t=CreateTimer()
call UnitAddAbility(u, 0x4130414E)
call SetUnitAbilityLevel(u, 0x4130414E, lvl)
call TimerStart(t, 6, true, function HeroQ16_Endbuff)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
set u=null
set t=null
endfunction
function InitTrig_HeroQ16 takes nothing returns nothing
set gg_trg_HeroQ16=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ16, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroQ16, Condition(function Trig_HeroQ16_Conditions))
call TriggerAddAction(gg_trg_HeroQ16, function Trig_HeroQ16_Actions)
endfunction
function Trig_HeroW16_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303851
endfunction
function HeroW16_Endbuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real cof=LoadReal(udg_hash, Id, 1)
local real DefCof
call UnitRemoveAbility(u, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u), 4)
call SaveReal(udg_hash, GetHandleId(u), 4, DefCof + cof)
call FlushChildHashtable(udg_hash, Id)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroW16_Actions takes nothing returns nothing
local unit u=GetSpellTargetUnit()
local unit hero=GetSpellAbilityUnit()
local timer t=CreateTimer()
local integer Id
local real cof=0.1 + ( 0.1 * I2R(GetUnitAbilityLevel(hero, 0x41303851)) )
local real DefCof
call UnitAddAbility(u, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u), 4)
call SaveReal(udg_hash, GetHandleId(u), 4, DefCof - cof)
call TimerStart(t, 9, true, function HeroW16_Endbuff)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, cof)
set u=null
set hero=null
set t=null
endfunction
function InitTrig_HeroW16 takes nothing returns nothing
set gg_trg_HeroW16=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW16, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroW16, Condition(function Trig_HeroW16_Conditions))
call TriggerAddAction(gg_trg_HeroW16, function Trig_HeroW16_Actions)
endfunction
function Trig_HeroW16Up_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41305255
endfunction
function HeroW16Up_Endbuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local group ug=LoadGroupHandle(udg_hash, Id, 2)
local real cof=LoadReal(udg_hash, Id, 1)
local real DefCof
call UnitRemoveAbility(u, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u), 4)
call SaveReal(udg_hash, GetHandleId(u), 4, DefCof + cof)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
call UnitRemoveAbility(u3, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u3), 4)
call SaveReal(udg_hash, GetHandleId(u3), 4, DefCof + cof * 0.5)
call GroupRemoveUnit(ug, u3)
endloop
call FlushChildHashtable(udg_hash, Id)
call PauseTimer(t)
call DestroyTimer(t)
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
endfunction
function Trig_HeroW16Up_Actions takes nothing returns nothing
local unit u=GetSpellTargetUnit()
local unit hero=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(hero)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit u3
local timer t=CreateTimer()
local integer Id
local real cof=0.2 + ( 0.2 * I2R(GetUnitAbilityLevel(hero, 0x41305255)) )
local real DefCof
local group ug
local group ug2
call UnitAddAbility(u, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u), 4)
call SaveReal(udg_hash, GetHandleId(u), 4, DefCof - cof)
set ug2=CreateGroup()
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) != true then
call UnitAddAbility(u3, 0x41303843)
set DefCof=LoadReal(udg_hash, GetHandleId(u3), 4)
call SaveReal(udg_hash, GetHandleId(u3), 4, DefCof - cof * 0.5)
endif
call GroupAddUnit(ug2, u3)
call GroupRemoveUnit(ug, u3)
endloop
call TimerStart(t, 9, true, function HeroW16Up_Endbuff)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, cof)
call SaveGroupHandle(udg_hash, Id, 2, ug2)
call DestroyGroup(ug)
set ug=null
set ug2=null
set u=null
set hero=null
set pl=null
set u3=null
set t=null
endfunction
function InitTrig_HeroW16Up takes nothing returns nothing
set gg_trg_HeroW16Up=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW16Up, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroW16Up, Condition(function Trig_HeroW16Up_Conditions))
call TriggerAddAction(gg_trg_HeroW16Up, function Trig_HeroW16Up_Actions)
endfunction
function Hero17W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local unit u3
loop
set u3=FirstOfGroup(ug)
call UnitRemoveAbility(u3, 0x41303955)
call GroupRemoveUnit(ug, u3)
exitwhen u3 == null
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u3=null
set ug=null
endfunction
function Hero17R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local player pl=LoadPlayerHandle(udg_hash, Id, 1)
call SaveReal(udg_hash, GetHandleId(pl), 6, 0)
call SaveReal(udg_hash, GetHandleId(pl), 7, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
endfunction
function Trig_HeroSkills17_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local integer uId
local integer count
local group ug
local group ug2
local unit u3
local real r
local real r2
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real r3
if Skill == 0x4130394D then
set r=GetUnitFacing(u)
set x2=x + 128 * Cos(r * bj_DEGTORAD)
set y2=y + 128 * Sin(r * bj_DEGTORAD)
set r2=400.00 + udg_ItemBonusDMG[n]
set Id=0
if LoadInteger(udg_hash, GetHandleId(u), 20) == 1 then
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
set Id=GetUnitAbilityLevel(u, 0x41303956)
endif
loop
exitwhen r2 < 100.00
set u3=CreateUnit(pl, 0x75303053, x2, y2, r)
if Id > 0 then
set count=90 + 60 * GetUnitAbilityLevel(u, Skill) + 50 + 50 * Id + R2I(udg_ItemBonusDMG[n] * 0.50)
call SetUnitLife(u3 , count)
set count=9 + 3 * GetUnitAbilityLevel(u, Skill) + 5 + 3 * Id + R2I(udg_ItemBonusDMG[n] * 0.05)
call SetUnitBaseDamage(u3 , count - 1)
set count=1 + GetUnitAbilityLevel(u, Skill)
call SetUnitExtraArmor(u3 , count)
set r3=40 + 10 + 5 * I2R(Id) + udg_ItemBonusDMG[n] * 0.05
call UnitApplyTimedLife(u3, 0x42726169, r3)
else
set count=90 + 60 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u3 , count)
set count=9 + 3 * GetUnitAbilityLevel(u, Skill)
call SetUnitBaseDamage(u3 , count - 1)
set count=1 + GetUnitAbilityLevel(u, Skill)
call SetUnitExtraArmor(u3 , count)
set r3=40
call UnitApplyTimedLife(u3, 0x42726169, r3)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u3 , GetUnitExtraArmor(u3) + 5)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", u3, "origin"))
set r2=r2 - 100.00
endloop
elseif Skill == 0x4130394E then
set r=GetUnitFacing(u)
set x2=x + 128 * Cos(r * bj_DEGTORAD)
set y2=y + 128 * Sin(r * bj_DEGTORAD)
set u3=CreateUnit(pl, 0x75303055, x2, y2, r)
call SaveInteger(udg_hash, GetHandleId(u3), 1, GetUnitAbilityLevel(u, 0x4130394D))
call TriggerRegisterUnitEvent(gg_trg_HeroSkills17, u3, EVENT_UNIT_SPELL_EFFECT)
if LoadInteger(udg_hash, GetHandleId(u), 20) == 1 then
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
set Id=GetUnitAbilityLevel(u, 0x41303956)
else
set Id=0
endif
if Id > 0 then
set count=300 + 100 + 100 * Id + R2I(udg_ItemBonusDMG[n] * 0.50)
call SetUnitLife(u3 , count)
set count=25 + 10 + 6 * Id + R2I(udg_ItemBonusDMG[n] * 0.05)
call SetUnitBaseDamage(u3 , count - 1)
if udg_ItemBonusDMG[n] >= 750 then
set r3=90
else
set r3=60
endif
set r3=r3 + 15 + 7.5 * I2R(Id) + udg_ItemBonusDMG[n] * 0.05
call UnitApplyTimedLife(u3, 0x42726169, r3)
else
set count=300
call SetUnitLife(u3 , count)
set count=25
call SetUnitBaseDamage(u3 , count - 1)
if udg_ItemBonusDMG[n] >= 750 then
set r3=90
else
set r3=60
endif
call UnitApplyTimedLife(u3, 0x42726169, r3)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u3 , GetUnitExtraArmor(u3) + 5)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", u3, "origin"))
if udg_ItemBonusDMG[n] >= 500 then
call SetUnitAbilityLevel(u3, 0x4130394F, 2)
call SetUnitAbilityLevel(u3, 0x41303950, 2)
endif
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + 50
elseif Skill == 0x41303950 then
set r=GetUnitFacing(u)
set x2=x + 128 * Cos(r * bj_DEGTORAD)
set y2=y + 128 * Sin(r * bj_DEGTORAD)
set r2=100 * I2R(GetUnitAbilityLevel(u, Skill))
loop
exitwhen r2 < 100.00
set u3=CreateUnit(pl, 0x75303053, x2, y2, r)
set count=90 + 60 * LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitLife(u3 , count)
set count=9 + 3 * LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitBaseDamage(u3 , count - 1)
set count=1 + LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitExtraArmor(u3 , count)
set r3=40
call UnitApplyTimedLife(u3, 0x42726169, r3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", u3, "origin"))
set r2=r2 - 100.00
endloop
elseif Skill == 0x41303952 then
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsOfPlayer(ug, pl, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false then
set uId=GetUnitTypeId(u3)
if uId == 0x75303053 or uId == 0x75303030 or uId == 0x75303031 or uId == 0x75303032 or uId == 0x75303141 or uId == 0x6E303239 or uId == 0x6E303241 or uId == 0x6E303242 or uId == 0x6E303359 or uId == 0x75303055 then
call UnitRemoveBuffs(u3, false, true)
call UnitAddAbility(u3, 0x41303955)
call SetUnitAbilityLevel(u3, 0x41303955, GetUnitAbilityLevel(u3, Skill))
call GroupAddUnit(ug2, u3)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call TimerStart(t, 10, false, function Hero17W)
elseif Skill == 0x41303956 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", u, "origin"))
call SaveInteger(udg_hash, GetHandleId(u), 20, 1)
elseif Skill == 0x41304130 then
set x2=GetLocationX(GetSpellTargetLoc())
set y2=GetLocationY(GetSpellTargetLoc())
set u3=CreateUnit(pl, 0x6F303137, x2, y2, 270)
call SaveInteger(udg_hash, GetHandleId(u3), 1, GetUnitAbilityLevel(u, 0x4130394D))
call UnitApplyTimedLife(u3, 0x42544C46, 18.00)
set t=CreateTimer()
set Id=GetHandleId(t)
call SavePlayerHandle(udg_hash, Id, 1, pl)
call SaveReal(udg_hash, GetHandleId(pl), 6, x2)
call SaveReal(udg_hash, GetHandleId(pl), 7, y2)
call TimerStart(t, 20, false, function Hero17R)
endif
set u=null
set pl=null
set t=null
set ug=null
set ug2=null
set u3=null
endfunction
function InitTrig_HeroSkills17 takes nothing returns nothing
set gg_trg_HeroSkills17=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills17, function Trig_HeroSkills17_Actions)
endfunction
function Trig_HeroDeath17_Conditions takes nothing returns boolean
return LoadInteger(udg_hash, GetHandleId(GetOwningPlayer(GetDyingUnit())), 8) == 1
endfunction
function Trig_HeroDeath17_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u2=GetKillingUnit()
local integer uId=GetUnitTypeId(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl)
local unit hero=LoadUnitHandle(udg_hash, GetHandleId(pl), 6)
local real dmg
local real r
local real r2
local real x
local real y
local integer count
if uId == 0x75303053 or uId == 0x75303030 or uId == 0x75303031 or uId == 0x75303032 or uId == 0x75303141 or uId == 0x6E303239 or uId == 0x6E303241 or uId == 0x6E303242 or uId == 0x6E303359 or uId == 0x75303055 then
set r=GetUnitState(hero, UNIT_STATE_LIFE)
set r2=GetUnitState(hero, UNIT_STATE_MAX_LIFE)
call SetUnitState(hero, UNIT_STATE_LIFE, r + r2 * 0.005)
set r=GetUnitState(hero, UNIT_STATE_MANA)
set r2=GetUnitState(hero, UNIT_STATE_MAX_MANA)
call SetUnitState(hero, UNIT_STATE_MANA, r + r2 * 0.005)
if ExpGo[n] >= 125000 then
set dmg=I2R(GetHeroInt(hero, true))
call UnitDamageTarget(hero, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\RedDead.mdx", u2, "origin"))
endif
if uId == 0x75303055 then
set udg_ItemBonusDMG[n + 1]=udg_ItemBonusDMG[n + 1] - 50
endif
set r=LoadReal(udg_hash, GetHandleId(pl), 6)
if r != 0 then
set r2=LoadReal(udg_hash, GetHandleId(pl), 7)
set x=GetUnitX(u)
set y=GetUnitY(u)
set r=r - x
set r2=r2 - y
set r=SquareRoot(r * r + r2 * r2)
if r <= 355 then
set r2=15 + udg_ItemBonusDMG[n + 1] * 0.01
set u2=CreateUnit(pl, uId, x, y, r)
if uId == 0x75303055 then
call TriggerRegisterUnitEvent(gg_trg_HeroSkills17, u2, EVENT_UNIT_SPELL_EFFECT)
if udg_ItemBonusDMG[n + 1] >= 500 then
call SetUnitAbilityLevel(u2, 0x4130394F, 2)
call SetUnitAbilityLevel(u2, 0x41303950, 2)
endif
set count=300
call SetUnitLife(u2 , count)
set count=25
call SetUnitBaseDamage(u2 , count - 1)
set udg_ItemBonusDMG[n + 1]=udg_ItemBonusDMG[n + 1] + 50
endif
if uId == 0x75303053 then
set count=90 + 60 * LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitLife(u2 , count)
set count=9 + 3 * LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitBaseDamage(u2 , count - 1)
set count=1 + LoadInteger(udg_hash, GetHandleId(u), 1)
call SetUnitExtraArmor(u2 , count)
endif
call UnitApplyTimedLife(u2, 0x42726169, r2)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", u2, "origin"))
endif
endif
endif
set u=null
set u2=null
set hero=null
set pl=null
endfunction
function InitTrig_HeroDeath17 takes nothing returns nothing
set gg_trg_HeroDeath17=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroDeath17, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroDeath17, Condition(function Trig_HeroDeath17_Conditions))
call TriggerAddAction(gg_trg_HeroDeath17, function Trig_HeroDeath17_Actions)
endfunction
function Hero18R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local unit u2
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local real dist=GetRandomReal(150.00, 250.00)
local real degrees=GetRandomReal(0.00, 360.00)
set x=x + dist * Cos(degrees * bj_DEGTORAD)
set y=y + dist * Sin(degrees * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\SoulRitual.mdx", x, y))
set u2=CreateUnit(pl, 0x6E303249, x, y, degrees)
call UnitApplyTimedLife(u2, 0x42544C46, 30)
set count=count - 1
call SaveInteger(udg_hash, Id, 3, count)
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Hero18D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer agi=LoadInteger(udg_hash, Id, 1)
local integer str=LoadInteger(udg_hash, Id, 2)
local real r
local real r2
call SetHeroAgi(u, GetHeroAgi(u, false) - agi, true)
call SetHeroStr(u, GetHeroStr(u, false) - str, true)
set r=GetUnitState(u, UNIT_STATE_LIFE)
set r2=GetUnitState(u, UNIT_STATE_MAX_LIFE)
call SetUnitState(u, UNIT_STATE_LIFE, r + r2 * 0.05)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero18D2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=LoadInteger(udg_hash, Id, 1)
local real r=LoadReal(udg_hash, Id, 2)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - n)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) - r)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroSkills18_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local integer n2
local group ug
local unit u2
local unit u3
local unit dummy
local real dmg
local real heal
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
if Skill == 0x41305057 then
call UnitRemoveAbility(u, 0x4130394C)
call UnitAddAbility(u, 0x41304138)
elseif Skill == 0x41305131 then
call UnitRemoveAbility(u, 0x4130394C)
call UnitAddAbility(u, 0x41305530)
elseif Skill == 0x41305531 then
call UnitRemoveAbility(u, 0x4130394C)
call UnitAddAbility(u, 0x41305532)
endif
if Skill == 0x4130414B then
if GetItemTypeId(GetSpellTargetItem()) == 0x49303344 then
if udg_ArtLogic[6] == false then
set udg_ArtLogic[6]=true
else
call DisplayTimedTextToPlayer(pl, 0, 0, 15, "|cFFFF5800Данный артефакт уже создан!|r")
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\EnergyBurst.mdx", x, y))
call RemoveItem(GetSpellTargetItem())
call UnitAddItemById(u, 0x72616D31)
set u=null
set u2=null
set pl=null
set t=null
set ug=null
set u3=null
set dummy=null
return
endif
call UnitAddAbility(u, 0x41304F55)
call SetUnitAbilityLevel(u, 0x41304F55, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41304F55)
set u2=GetSpellTargetUnit()
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set dmg=40 + 40 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.40
set heal=275
if GetUnitAbilityLevel(u, 0x41305532) == 1 then
if GetUnitAbilityLevel(u, 0x41304146) > 0 then
if GetUnitLifePercent(u) <= 40.00 or ( GetUnitLifePercent(u) <= 60.00 and udg_ItemBonusDMG[n] >= 200 ) then
set dmg=dmg * ( 1 + 0.10 + 0.05 * GetUnitAbilityLevel(u, 0x41304146) )
set heal=heal * ( 1 + 0.10 + 0.05 * GetUnitAbilityLevel(u, 0x41304146) )
endif
endif
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "origin"))
if UnitHasItemOfTypeBJ(u, 0x72616D31) == true then
set heal=heal + 82.5
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x4130414C)
call SetUnitAbilityLevel(dummy, 0x4130414C, GetUnitAbilityLevel(u, Skill) + 5)
call IssueTargetOrderById(dummy, Order_slow, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, heal, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and u3 != u2 then
call UnitDamageTarget(u, u3, dmg * 0.75, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u3, "origin"))
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x4130414C)
call SetUnitAbilityLevel(dummy, 0x4130414C, GetUnitAbilityLevel(u, Skill) + 5)
call IssueTargetOrderById(dummy, Order_slow, u3)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call TimerStart(t, 5.2, false, function RemoveBuff)
else
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x4130414C)
call SetUnitAbilityLevel(dummy, 0x4130414C, GetUnitAbilityLevel(u, Skill))
call IssueTargetOrderById(dummy, Order_slow, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, heal, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and u3 != u2 then
call UnitDamageTarget(u, u3, dmg * 0.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u3, "origin"))
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x4130414C)
call SetUnitAbilityLevel(dummy, 0x4130414C, GetUnitAbilityLevel(u, Skill))
call IssueTargetOrderById(dummy, Order_slow, u3)
call UnitApplyTimedLife(dummy, 0x42544C46, 2.00)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call TimerStart(t, 4, false, function RemoveBuff)
endif
elseif Skill == 0x4130414D then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", u, "origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", u, "origin"))
set n2=0
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
set n2=n2 + 1
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set dmg=15 + 15 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.10
set heal=6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.04
set heal=heal * I2R(n2)
if GetUnitAbilityLevel(u, 0x41305532) == 1 then
if GetUnitAbilityLevel(u, 0x41304146) > 0 then
if GetUnitLifePercent(u) <= 40.00 or ( GetUnitLifePercent(u) <= 60.00 and udg_ItemBonusDMG[n] >= 200 ) then
set dmg=dmg * ( 1 + 0.10 + 0.05 * GetUnitAbilityLevel(u, 0x41304146) )
set heal=heal * ( 1 + 0.10 + 0.05 * GetUnitAbilityLevel(u, 0x41304146) )
endif
endif
endif
if n2 >= 12 then
set dmg=dmg * 1.25
set heal=heal * 1.25
call SetHeroAgi(u, GetHeroAgi(u, false) + 1, true)
call SetHeroStr(u, GetHeroStr(u, false) + 1, true)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", u, "origin"))
elseif n2 >= 8 then
set dmg=dmg * 1.10
set heal=heal * 1.10
call SetHeroAgi(u, GetHeroAgi(u, false) + 1, true)
call SetHeroStr(u, GetHeroStr(u, false) + 1, true)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", u, "origin"))
endif
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + heal)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41304148 then
set x2=GetLocationX(GetSpellTargetLoc())
set y2=GetLocationY(GetSpellTargetLoc())
set dmg=I2R(GetHeroStr(u, true) + GetHeroAgi(u, true)) * 1.50 + udg_ItemBonusDMG[n] * 0.35
if GetUnitAbilityLevel(u, 0x41305532) == 1 then
if GetUnitAbilityLevel(u, 0x41304146) > 0 then
if GetUnitLifePercent(u) <= 40.00 or ( GetUnitLifePercent(u) <= 60.00 and udg_ItemBonusDMG[n] >= 200 ) then
set dmg=dmg * ( 1 + 0.10 + 0.05 * GetUnitAbilityLevel(u, 0x41304146) )
endif
endif
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
set n2=1
loop
exitwhen n2 > 6
set x=x2 + 250 * Cos(I2R(n2 * 60) * bj_DEGTORAD)
set y=y2 + 250 * Sin(I2R(n2 * 60) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set n2=n2 + 1
endloop
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, 325, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call UnitRemoveBuffs(u3, true, false)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x2)
call SaveReal(udg_hash, Id, 2, y2)
set n2=6
set dmg=udg_ItemBonusDMG[n]
loop
exitwhen dmg < 100
set n2=n2 + 1
set dmg=dmg - 100
endloop
call SaveInteger(udg_hash, Id, 3, n2)
call TimerStart(t, 0.15, true, function Hero18R)
elseif Skill == 0x41304138 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
set n2=R2I(I2R(GetHeroAgi(u, false)) * 0.60)
call SetHeroAgi(u, GetHeroAgi(u, false) + n2, true)
call SaveInteger(udg_hash, Id, 1, n2)
set n2=R2I(I2R(GetHeroStr(u, false)) * 0.60)
call SetHeroStr(u, GetHeroStr(u, false) + n2, true)
call SaveInteger(udg_hash, Id, 2, n2)
call TimerStart(t, 15, false, function Hero18D)
elseif Skill == 0x41305530 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
set n2=GetHeroAgi(u, true)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + n2)
call SaveInteger(udg_hash, Id, 1, n2)
set x=I2R(GetHeroStr(u, true)) * 0.30
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + x)
call SaveReal(udg_hash, Id, 2, x)
call TimerStart(t, 15, false, function Hero18D2)
endif
set u=null
set u2=null
set pl=null
set t=null
set ug=null
set u3=null
set dummy=null
endfunction
function InitTrig_HeroSkills18 takes nothing returns nothing
set gg_trg_HeroSkills18=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills18, function Trig_HeroSkills18_Actions)
endfunction
function BallistaR takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x2=LoadReal(udg_hash, Id, 1)
local real y2=LoadReal(udg_hash, Id, 2)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer count=LoadInteger(udg_hash, Id, 3)
local real dmg=75 + udg_ItemBonusDMG[n] * 0.25
local real angle=GetRandomReal(0, 360)
local real dist=GetRandomReal(10, 390)
call SetUnitAnimation(u, "attack")
set u2=CreateUnit(pl, 0x6F303058, x, y, GetUnitFacing(u))
call SaveReal(udg_hash, GetHandleId(u2), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitApplyTimedLife(u2, 0x42544C46, 1.5)
set x=x2 + dist * Cos(angle * bj_DEGTORAD)
set y=y2 + dist * Sin(angle * bj_DEGTORAD)
call IssuePointOrderById(u2, Order_attackground, x, y)
set count=count - 1
call SaveInteger(udg_hash, Id, 3, count)
if count == 0 then
call PauseUnit(u, false)
call SetUnitTimeScalePercent(u, 100)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set pl=null
set u=null
set u2=null
endfunction
function Trig_HeroSkills19_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local timer t
local integer Id
local real x
local real y
if Skill == 0x41303554 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6F303059, x, y, 270)
call UnitAddAbility(u2, 0x41303555)
call SetUnitAbilityLevel(u2, 0x41303555, GetUnitAbilityLevel(u, Skill))
call UnitApplyTimedLife(u2, 0x42544C46, 20)
elseif Skill == 0x41303557 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6F30305A, x, y, 270)
call UnitAddAbility(u2, 0x41303558)
call SetUnitAbilityLevel(u2, 0x41303558, GetUnitAbilityLevel(u, Skill))
call UnitApplyTimedLife(u2, 0x42544C46, 20)
elseif Skill == 0x41303553 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set n=40 + R2I(udg_ItemBonusDMG[n] * 0.07)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, n)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 0.07, true, function BallistaR)
call PauseUnit(u, true)
call SetUnitTimeScalePercent(u, 2800)
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills19 takes nothing returns nothing
set gg_trg_HeroSkills19=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills19, function Trig_HeroSkills19_Actions)
endfunction
function Trig_HeroLvlUp19_Actions takes nothing returns nothing
call SetUnitBaseDamage(GetLevelingUnit() , GetUnitBaseDamage(GetLevelingUnit()) + 15)
endfunction
function InitTrig_HeroLvlUp19 takes nothing returns nothing
set gg_trg_HeroLvlUp19=CreateTrigger()
call TriggerAddAction(gg_trg_HeroLvlUp19, function Trig_HeroLvlUp19_Actions)
endfunction
function HeroE20 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveBoolean(udg_hash, GetHandleId(u), 1, false)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function HeroR20 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit hero=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer count
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local unit u2
local real angle=GetRandomReal(0, 360)
set x2=x + 125 * Cos(angle * bj_DEGTORAD)
set y2=y + 125 * Sin(angle * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6E30314F, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 60)
set count=R2I(GetUnitState(hero, UNIT_STATE_MAX_LIFE) * 0.20) + 125
call SetUnitLife(u2 , count)
set count=18 + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitBaseDamage(u2 , count - 1)
call SetUnitExtraArmor(u2 , 2)
if UnitHasItemOfTypeBJ(hero, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 30)
endif
if UnitHasItemOfTypeBJ(hero, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
set t=null
set u=null
set u2=null
set hero=null
set pl=null
endfunction
function Trig_HeroSkills20_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local unit u3
local timer t
local integer Id
local real x
local real y
local real x2
local real y2
local real r
local integer L
local real dmg
local integer count
local location p
if Skill == 0x4130365A then
set dmg=20 + 20 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.20
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
set u2=CreateUnit(pl, 0x6E303153, x, y, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 180)
call SetUnitAnimation(u2, "birth")
call SaveReal(udg_hash, GetHandleId(u2), 1, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
call SaveInteger(udg_hash, GetHandleId(u2), 11, 1)
set r=GetUnitFacing(u)
set L=1
loop
exitwhen L > 4
set x2=x + 160 * Cos(( r + 45.00 + I2R(L) * 90.00 ) * bj_DEGTORAD)
set y2=y + 160 * Sin(( r + 45.00 + I2R(L) * 90.00 ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6E303153, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 180)
call SetUnitAnimation(u2, "birth")
call SaveReal(udg_hash, GetHandleId(u2), 1, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
call SaveInteger(udg_hash, GetHandleId(u2), 11, 1)
set x2=x + 300 * Cos(( r + I2R(L) * 90.00 ) * bj_DEGTORAD)
set y2=y + 300 * Sin(( r + I2R(L) * 90.00 ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6E303153, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 180)
call SetUnitAnimation(u2, "birth")
call SaveReal(udg_hash, GetHandleId(u2), 1, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
call SaveInteger(udg_hash, GetHandleId(u2), 11, 1)
set L=L + 1
endloop
elseif Skill == 0x41303732 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
set u2=CreateUnit(pl, 0x68303152, x, y, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.45) + 75 + 75 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u2 , count)
set count=15 + 15 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.15)
call SetUnitBaseDamage(u2 , count - 1)
set count=GetUnitAbilityLevel(u, Skill) * 2
call SetUnitExtraArmor(u2 , count)
if UnitHasItemOfTypeBJ(u, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 20)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
if udg_ItemBonusDMG[n] >= 150 then
call UnitRemoveAbility(u2, 0x41304341)
call UnitAddAbility(u2, 0x41304E52)
call UnitApplyTimedLife(u2, 0x42544C46, 54)
else
call UnitApplyTimedLife(u2, 0x42544C46, 40)
endif
if udg_ItemBonusDMG[n] >= 300 then
call UnitRemoveAbility(u2, 0x41304342)
call UnitAddAbility(u2, 0x41303654)
endif
if udg_ItemBonusDMG[n] >= 500 then
set L=0
loop
exitwhen L > 7
set x2=PolarX(x , 225 , I2R(L * 45))
set y2=PolarY(y , 225 , I2R(L * 45))
set u3=CreateUnit(pl, 0x6E303153, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u3, 0x42544C46, 180)
call SetUnitAnimation(u3, "birth")
call SaveReal(udg_hash, GetHandleId(u3), 1, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 1, u)
set L=L + 1
endloop
call UnitRemoveAbility(u2, 0x41303655)
call UnitAddAbility(u2, 0x41303652)
endif
elseif Skill == 0x41303150 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
set u3=CreateUnit(pl, 0x6E303151, x, y, 270)
call UnitApplyTimedLife(u3, 0x42544C46, 20)
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.50) + 500
call SetUnitLife(u3 , count)
call SetUnitExtraArmor(u3 , 5)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u3 , GetUnitExtraArmor(u3) + 5)
endif
call SaveInteger(udg_hash, GetHandleId(u3), 11, 1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set L=1
loop
exitwhen L > 3
set x2=x + 200 * Cos(( I2R(L) * 120.00 ) * bj_DEGTORAD)
set y2=y + 200 * Sin(( I2R(L) * 120.00 ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6E30314F, x2, y2, GetRandomReal(0, 360))
call UnitApplyTimedLife(u2, 0x42544C46, 60)
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.20) + 125
call SetUnitLife(u2 , count)
set count=18 + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitBaseDamage(u2 , count - 1)
call SetUnitExtraArmor(u2 , 2)
if UnitHasItemOfTypeBJ(u, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 30)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
set L=L + 1
endloop
set t=CreateTimer()
call TimerStart(t, 2, true, function HeroR20)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u3)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u)
call SaveTimerHandle(udg_hash, GetHandleId(u3), 1, t)
endif
if GetUnitAbilityLevel(u, 0x41303730) > 0 then
if LoadBoolean(udg_hash, GetHandleId(u), 1) == false then
set dmg=25 + 25 * I2R(GetUnitAbilityLevel(u, 0x41303730)) + udg_ItemBonusDMG[n] * 0.25
set x=GetUnitX(u)
set y=GetUnitY(u)
set u2=CreateUnit(pl, 0x6F303146, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitApplyTimedLife(u2, 0x42544C46, 1.5)
call IssuePointOrderById(u2, Order_attack, x, y)
call SaveBoolean(udg_hash, GetHandleId(u), 1, true)
set t=CreateTimer()
if UnitHasItemOfTypeBJ(u, 0x73686561) == true then
call TimerStart(t, 5, false, function HeroE20)
else
call TimerStart(t, 10, false, function HeroE20)
endif
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
endif
endif
set u=null
set u2=null
set u3=null
set pl=null
set t=null
call RemoveLocation(p)
set p=null
endfunction
function InitTrig_HeroSkills20 takes nothing returns nothing
set gg_trg_HeroSkills20=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills20, function Trig_HeroSkills20_Actions)
endfunction
function Trig_HeroDeath20_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u2
local unit hero
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local group ug
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real dmg
local timer t
if GetUnitTypeId(u) == 0x6E303153 then
set dmg=LoadReal(udg_hash, GetHandleId(u), 1)
set hero=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 215, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(hero, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
elseif GetUnitTypeId(u) == 0x6E303151 then
set t=LoadTimerHandle(udg_hash, GetHandleId(u), 1)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, GetHandleId(t))
endif
set u=null
set u2=null
set hero=null
set pl=null
set ug=null
set t=null
endfunction
function InitTrig_HeroDeath20 takes nothing returns nothing
set gg_trg_HeroDeath20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroDeath20, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroDeath20, function Trig_HeroDeath20_Actions)
endfunction
function Hero21Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local integer n=LoadInteger(udg_hash, GetHandleId(t), 1)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - n)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Hero21W takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local real r=LoadReal(udg_hash, GetHandleId(t), 1)
local real r2=LoadReal(udg_hash, GetHandleId(t), 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - r
call UnitRemoveAbility(u, 0x41303836)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + r2
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=null
set u=null
set pl=null
endfunction
function Trig_HeroSkills21_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local timer t
local integer Id
local real x
local real y
local real dmg
local group ug
local group ug2
if GetUnitAbilityLevel(u, 0x41303838) == 1 then
if Skill != 0x41303356 and Skill != 0x41304251 and Skill != 0x41304A59 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=30 + udg_ItemBonusDMG[n] * 0.30
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 800, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call GroupAddUnit(ug2, u2)
endif
call GroupRemoveUnit(ug, u2)
endloop
set ug2=GetRandomSubGroup(5, ug2)
loop
set u2=FirstOfGroup(ug2)
exitwhen u2 == null
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", u2, "origin"))
call GroupRemoveUnit(ug2, u2)
endloop
call DestroyGroup(ug)
call DestroyGroup(ug2)
endif
endif
if Skill == 0x41303833 then
set Id=10 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.30)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + Id)
set t=CreateTimer()
call TimerStart(t, 6, false, function Hero21Q)
call SaveInteger(udg_hash, GetHandleId(t), 1, Id)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
elseif Skill == 0x41303835 then
set dmg=50 + 50 * GetUnitAbilityLevel(u, Skill)
set u2=GetSpellTargetUnit()
set pl=GetOwningPlayer(u2)
set n=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + dmg
call UnitAddAbility(u2, 0x41303836)
set t=CreateTimer()
call TimerStart(t, 22, false, function Hero21W)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
set dmg=3 + 2 * GetUnitAbilityLevel(u, Skill)
call SaveReal(udg_hash, GetHandleId(t), 2, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
endif
set u=null
set pl=null
set u2=null
set t=null
set ug=null
set ug2=null
endfunction
function InitTrig_HeroSkills21 takes nothing returns nothing
set gg_trg_HeroSkills21=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills21, function Trig_HeroSkills21_Actions)
endfunction
function Trig_HeroSkills22_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local timer t
local integer Id
local real dmg
if Skill == 0x41303850 then
set u2=GetSpellTargetUnit()
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "origin"))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "origin"))
set Id=GetHandleId(u)
if GetUnitLevel(u2) <= 1 then
set dmg=GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 2.0
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
set dmg=50 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.75
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + dmg)
call SaveInteger(udg_hash, Id, 20, LoadInteger(udg_hash, Id, 20) + 2 + GetUnitAbilityLevel(u, Skill))
else
set dmg=25 + 50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.60
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call SaveInteger(udg_hash, Id, 20, LoadInteger(udg_hash, Id, 20) + GetUnitAbilityLevel(u, Skill))
endif
elseif Skill == 0x41304439 then
set Id=GetHandleId(u)
set dmg=4 + I2R(GetUnitAbilityLevel(u, Skill))
call SaveInteger(udg_hash, Id, 20, LoadInteger(udg_hash, Id, 20) + 2 + GetUnitAbilityLevel(u, Skill))
call UnitAddAbility(u, 0x41304438)
set t=CreateTimer()
call TimerStart(t, dmg, false, function RemoveBuff)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0x41304438)
endif
set u=null
set pl=null
set u2=null
set t=null
endfunction
function InitTrig_HeroSkills22 takes nothing returns nothing
set gg_trg_HeroSkills22=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills22, function Trig_HeroSkills22_Actions)
endfunction
function Trig_HeroAttack22_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303150 or GetUnitTypeId(GetAttacker()) == 0x4E303645
endfunction
function Trig_HeroAttack22_Actions takes nothing returns nothing
local unit u=GetAttacker()
local unit u2=GetTriggerUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local integer count=LoadInteger(udg_hash, GetHandleId(u), 20)
if count > 0 then
set count=count - 1
call SaveInteger(udg_hash, GetHandleId(u), 20, count)
set dmg=15 + 15 * I2R(GetUnitAbilityLevel(u, 0x41303841)) + udg_ItemBonusDMG[n] * 0.05
if GetUnitAbilityLevel(u, 0x4130384C) == 1 and GetUnitLifePercent(u) >= 50.00 then
set dmg=dmg * 1.50
endif
if udg_ItemBonusDMG[n] >= 200.00 then
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u2, "origin"))
set dmg=4 + 4 * I2R(GetUnitAbilityLevel(u, 0x41303841)) + udg_ItemBonusDMG[n] * 0.02
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + dmg)
endif
set u=null
set u2=null
set pl=null
endfunction
function InitTrig_HeroAttack22 takes nothing returns nothing
set gg_trg_HeroAttack22=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack22, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack22, Condition(function Trig_HeroAttack22_Conditions))
call TriggerAddAction(gg_trg_HeroAttack22, function Trig_HeroAttack22_Actions)
endfunction
function Hero22E takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
local integer Id=GetHandleId(u)
if GetUnitAbilityLevel(u, 0x4130384C) == 1 and GetUnitLifePercent(u) >= 75.00 then
call SaveInteger(udg_hash, Id, 20, LoadInteger(udg_hash, Id, 20) + 2)
else
call SaveInteger(udg_hash, Id, 20, LoadInteger(udg_hash, Id, 20) + 1)
endif
set t=null
set u=null
endfunction
function Trig_HeroGiveSkills22_Actions takes nothing returns nothing
local unit u=GetLearningUnit()
local timer t
if GetUnitAbilityLevel(u, 0x41303841) == 1 then
set t=CreateTimer()
call TimerStart(t, 4, true, function Hero22E)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
endif
call DisableTrigger(GetTriggeringTrigger())
set u=null
set t=null
endfunction
function InitTrig_HeroGiveSkills22 takes nothing returns nothing
set gg_trg_HeroGiveSkills22=CreateTrigger()
call TriggerAddAction(gg_trg_HeroGiveSkills22, function Trig_HeroGiveSkills22_Actions)
endfunction
function HeroQ23_Start takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit hero=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(hero)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local unit u
local group ug=CreateGroup()
local real dmg
if GetUnitAbilityLevel(hero, 0x41303350) > 0 then
if count > 8 then
set dmg=( 20 + 25 * I2R(GetUnitAbilityLevel(hero, 0x41303350)) + udg_ItemBonusDMG[n] * 0.20 ) * 0.33
else
set dmg=5 + 5 * I2R(GetUnitAbilityLevel(hero, 0x41303350)) + udg_ItemBonusDMG[n] * 0.05
endif
call GroupEnumUnitsInRange(ug, x, y, 320, null)
else
if count > 8 then
set dmg=( 20 + 25 * I2R(GetUnitAbilityLevel(hero, 0x41486673)) + udg_ItemBonusDMG[n] * 0.20 ) * 0.33
else
set dmg=5 + 5 * I2R(GetUnitAbilityLevel(hero, 0x41486673)) + udg_ItemBonusDMG[n] * 0.05
endif
call GroupEnumUnitsInRange(ug, x, y, 230, null)
endif
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if IsDead(u) == false and IsUnitEnemy(u, pl) == true then
call UnitDamageTarget(hero, u, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
set count=count - 1
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
elseif count == 8 then
call SaveInteger(udg_hash, Id, 1, count)
call TimerStart(t, 1, true, function HeroQ23_Start)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set hero=null
set pl=null
set ug=null
endfunction
function HeroE23_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit hero=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(hero)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real degrees=LoadReal(udg_hash, Id, 3)
local unit u
local group ug=CreateGroup()
local real dmg
set x=x + 80 * Cos(degrees * bj_DEGTORAD)
set y=y + 80 * Sin(degrees * bj_DEGTORAD)
if count == 1 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x, y))
set dmg=30 + 30 * I2R(GetUnitAbilityLevel(hero, 0x41303346)) + udg_ItemBonusDMG[n] * 0.25
call GroupEnumUnitsInRange(ug, x, y, 240, null)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
set dmg=15 + 15 * I2R(GetUnitAbilityLevel(hero, 0x41303346)) + udg_ItemBonusDMG[n] * 0.12
call GroupEnumUnitsInRange(ug, x, y, 160, null)
endif
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if IsDead(u) == false and IsUnitEnemy(u, pl) == true then
call UnitDamageTarget(hero, u, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
set count=count - 1
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
endif
set t=null
set u=null
set hero=null
set pl=null
set ug=null
endfunction
function HeroR23_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit hero=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(hero)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local unit u
local group ug_origin=LoadGroupHandle(udg_hash, Id, 2)
local group ug=CreateGroup()
local real dmg=20 + udg_ItemBonusDMG[n] * 0.10
call GroupAddGroup(ug_origin, ug)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if GetUnitAbilityLevel(u, 0x42303156) == 1 then
if IsDead(u) == false then
call UnitDamageTarget(hero, u, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
else
call GroupRemoveUnit(ug_origin, u)
endif
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
set count=count - 1
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveGroupHandle(udg_hash, Id, 2, ug_origin)
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set hero=null
set pl=null
set ug=null
set ug_origin=null
endfunction
function Trig_HeroSkills23_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u3
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local real x2
local real y2
local integer count
local location p
local group ug
local real dmg
if Skill == 0x4130324E then
call UnitRemoveAbility(u, 0x4130324C)
call UnitAddAbility(u, 0x41303331)
elseif Skill == 0x41303347 then
call UnitRemoveAbility(u, 0x4130324C)
call UnitAddAbility(u, 0x41303348)
elseif Skill == 0x4130334A then
call UnitRemoveAbility(u, 0x4130324C)
call UnitAddAbility(u, 0x4130334D)
endif
if Skill == 0x41486673 or Skill == 0x41303350 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 16)
call TimerStart(t, 0.33, true, function HeroQ23_Start)
elseif Skill == 0x41303346 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set p=GetSpellTargetLoc()
set x2=GetLocationX(p)
set y2=GetLocationY(p)
set t=CreateTimer()
set Id=GetHandleId(t)
set x2=bj_RADTODEG * Atan2(y2 - y, x2 - x)
call SaveReal(udg_hash, Id, 3, x2)
set x=x + 50 * Cos(x2 * bj_DEGTORAD)
set y=y + 50 * Sin(x2 * bj_DEGTORAD)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 10)
call TimerStart(t, 0.08, true, function HeroE23_Dmg)
elseif Skill == 0x41487463 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 700, null)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveGroupHandle(udg_hash, Id, 2, ug)
call SaveInteger(udg_hash, Id, 1, 24)
call TimerStart(t, 0.50, true, function HeroR23_Dmg)
elseif Skill == 0x4130334F then
set x=GetUnitX(u)
set y=GetUnitY(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 1300, null)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveGroupHandle(udg_hash, Id, 2, ug)
call SaveInteger(udg_hash, Id, 1, 36)
call TimerStart(t, 0.50, true, function HeroR23_Dmg)
elseif Skill == 0x41303331 then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Conflagrate.mdl", x, y))
set dmg=I2R(GetHeroInt(u, true)) * 2.0
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 185, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u3, 0x58486673) == 1 or GetUnitAbilityLevel(u3, 0x42303156) == 1 or GetUnitAbilityLevel(u3, 0x42706967) == 1 or GetUnitAbilityLevel(u3, 0x42626F66) == 1 then
call UnitDamageTarget(u, u3, dmg * 2.0, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set u3=null
set pl=null
set t=null
call RemoveLocation(p)
set p=null
set ug=null
endfunction
function InitTrig_HeroSkills23 takes nothing returns nothing
set gg_trg_HeroSkills23=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills23, function Trig_HeroSkills23_Actions)
endfunction
function HeroW23_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130324A
endfunction
function HeroW23_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl
local real dmg=LoadReal(udg_hash, Id, 1)
local real degrees=LoadReal(udg_hash, Id, 4)
local integer check=LoadInteger(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug
local boolean B=false
local real r
call SetUnitX(u2, PolarX(x , 20 , degrees))
call SetUnitY(u2, PolarY(y , 20 , degrees))
set check=check + 1
set count=count - 1
if check == 2 and count != 0 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 50, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set B=true
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) == true then
set B=true
endif
if B == true then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 180, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyGroup(ug)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
set t=null
set u=null
set u2=null
set u3=null
set pl=null
return
endif
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if count == 0 then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 180, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
else
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
endif
set t=null
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
endfunction
function HeroW23_Create takes nothing returns nothing
local timer t=GetExpiredTimer()
local timer t2
local integer Id=GetHandleId(t)
local integer L
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local real degrees_origin=LoadReal(udg_hash, Id, 3)
local real degrees
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real x2
local real y2
local real dmg
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
set dmg=10 + 10 * I2R(GetUnitAbilityLevel(u, 0x4130324A)) + udg_ItemBonusDMG[n] * 0.05
set degrees=degrees_origin + GetRandomReal(- 28.00, 28.00)
set u2=CreateUnit(pl, 0x6F303233, x, y, degrees)
set t2=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 2, u2)
call SaveReal(udg_hash, GetHandleId(t2), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t2), 3, 60)
call SaveReal(udg_hash, GetHandleId(t2), 4, degrees)
call TimerStart(t2, 0.03, true, function HeroW23_Dmg)
if LoadInteger(udg_hash, GetHandleId(u), 20) == 1 then
set degrees=degrees_origin + GetRandomReal(- 28.00, 28.00)
set u2=CreateUnit(pl, 0x6F303233, x, y, degrees)
set t2=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 2, u2)
call SaveReal(udg_hash, GetHandleId(t2), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t2), 3, 60)
call SaveReal(udg_hash, GetHandleId(t2), 4, degrees)
call TimerStart(t2, 0.03, true, function HeroW23_Dmg)
endif
if UnitHasItemOfTypeBJ(u, 0x73686561) == true then
set L=GetRandomInt(1, 2)
if L == 2 then
set degrees=degrees_origin + GetRandomReal(- 28.00, 28.00)
set u2=CreateUnit(pl, 0x6F303233, x, y, degrees)
set t2=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 2, u2)
call SaveReal(udg_hash, GetHandleId(t2), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t2), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t2), 3, 60)
call SaveReal(udg_hash, GetHandleId(t2), 4, degrees)
call TimerStart(t2, 0.03, true, function HeroW23_Dmg)
endif
endif
set count=count - 1
set dmg=( 8 + 2 * I2R(GetUnitAbilityLevel(u, 0x4130324A)) ) * 0.2
if count == 0 or GetUnitState(u, UNIT_STATE_MANA) < dmg then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call RemoveSavedHandle(udg_hash, GetHandleId(u), 20)
call IssueImmediateOrderById(u, Order_stop)
else
call SaveInteger(udg_hash, Id, 1, count)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) - dmg)
endif
set u=null
set u2=null
set t=null
set t2=null
set pl=null
endfunction
function Trig_HeroW23_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=CreateTimer()
local integer Id_u=GetHandleId(u)
local integer Id_t=GetHandleId(t)
local location p=GetSpellTargetLoc()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetLocationX(p)
local real y2=GetLocationY(p)
call SaveTimerHandle(udg_hash, Id_u, 20, t)
if GetUnitAbilityLevel(u, 0x41303348) == 1 then
call SaveInteger(udg_hash, Id_u, 20, 1)
call SaveReal(udg_hash, Id_u, 4, LoadReal(udg_hash, Id_u, 4) - 0.50)
endif
call SaveUnitHandle(udg_hash, Id_t, 1, u)
call SaveReal(udg_hash, Id_t, 1, x)
call SaveReal(udg_hash, Id_t, 2, y)
set x=bj_RADTODEG * Atan2(y2 - y, x2 - x)
call SaveReal(udg_hash, Id_t, 3, x)
call SaveInteger(udg_hash, Id_t, 1, 50)
call TimerStart(t, 0.20, true, function HeroW23_Create)
call RemoveLocation(p)
set p=null
set u=null
set pl=null
set t=null
endfunction
function InitTrig_HeroW23 takes nothing returns nothing
set gg_trg_HeroW23=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroW23, Condition(function HeroW23_conditions))
call TriggerAddAction(gg_trg_HeroW23, function Trig_HeroW23_Actions)
endfunction
function Trig_HeroW23_Stop_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130324A
endfunction
function Trig_HeroW23_Stop_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Id=GetHandleId(u)
local timer t=LoadTimerHandle(udg_hash, Id, 20)
local integer Id_t=GetHandleId(t)
call FlushChildHashtable(udg_hash, Id_t)
call DestroyTimer(t)
if LoadInteger(udg_hash, Id, 20) == 1 then
call SaveReal(udg_hash, Id, 4, LoadReal(udg_hash, Id, 4) + 0.50)
endif
call RemoveSavedHandle(udg_hash, Id, 20)
set u=null
set t=null
endfunction
function InitTrig_HeroW23_Stop takes nothing returns nothing
set gg_trg_HeroW23_Stop=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroW23_Stop, Condition(function Trig_HeroW23_Stop_Conditions))
call TriggerAddAction(gg_trg_HeroW23_Stop, function Trig_HeroW23_Stop_Actions)
endfunction
function Trig_HeroSkills24_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer n2
local integer BonusStr
local unit u2
local real x
local real y
local real dmg
local group ug
if Skill == 0x41303939 then
set n2=GetPlayerState(pl, PLAYER_STATE_RESOURCE_FOOD_CAP)
set BonusStr=1
loop
exitwhen n2 < 20
set BonusStr=BonusStr + 1
set n2=n2 - 20
endloop
call SetHeroStr(u, GetHeroStr(u, false) + BonusStr, true)
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_MAX_LIFE))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl", u, "origin"))
elseif Skill == 0x41303942 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set ug=CreateGroup()
set dmg=50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.50
call GroupEnumUnitsInRange(ug, x, y, 305, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
set u=null
set pl=null
set u2=null
set ug=null
endfunction
function InitTrig_HeroSkills24 takes nothing returns nothing
set gg_trg_HeroSkills24=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills24, function Trig_HeroSkills24_Actions)
endfunction
function Trig_HeroSkillCheck24_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41303939
endfunction
function Trig_HeroSkillCheck24_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
if GetOwningPlayer(u2) == GetOwningPlayer(u) and ( GetUnitTypeId(u2) == 0x6E303041 or GetUnitTypeId(u2) == 0x6E303042 or GetUnitTypeId(u2) == 0x6E303043 ) then
else
call IssueImmediateOrder(u, "stop")
endif
set u=null
set u2=null
endfunction
function InitTrig_HeroSkillCheck24 takes nothing returns nothing
set gg_trg_HeroSkillCheck24=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroSkillCheck24, Condition(function Trig_HeroSkillCheck24_Conditions))
call TriggerAddAction(gg_trg_HeroSkillCheck24, function Trig_HeroSkillCheck24_Actions)
endfunction
function Hero24R takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Hero24E takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit u=LoadUnitHandle(udg_hash, GetHandleId(t), 1)
call SaveInteger(udg_hash, GetHandleId(u), 21, 0)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroAttack24_Actions takes nothing returns nothing
local unit u=GetAttacker()
local unit u2=GetTriggerUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local real x
local real y
local group ug
local group ug2
local timer t
if GetUnitAbilityLevel(u, 0x41303941) == 1 then
if LoadInteger(udg_hash, GetHandleId(u), 20) == 0 then
call SaveInteger(udg_hash, GetHandleId(u), 20, 1)
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=I2R(GetHeroStr(u, true)) * 0.40 + udg_ItemBonusDMG[n] * 0.20
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 350, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set ug2=GetRandomSubGroup(4, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u3, "origin"))
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug2)
set t=CreateTimer()
call TimerStart(t, 3, false, function Hero24R)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
endif
endif
if GetUnitAbilityLevel(u, 0x41303944) == 1 then
if LoadInteger(udg_hash, GetHandleId(u), 21) == 0 and GetUnitLifePercent(u2) <= 40.00 then
call SaveInteger(udg_hash, GetHandleId(u), 21, 1)
set dmg=10 + 10 * I2R(GetUnitAbilityLevel(u, 0x41303944)) + I2R(GetHeroStr(u, true)) * 0.15
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
set dmg=5 + 5 * I2R(GetUnitAbilityLevel(u, 0x41303944))
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + dmg)
set t=CreateTimer()
call TimerStart(t, 1.5, false, function Hero24E)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
endif
endif
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
set ug2=null
set t=null
endfunction
function InitTrig_HeroAttack24 takes nothing returns nothing
set gg_trg_HeroAttack24=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack24, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_HeroAttack24, function Trig_HeroAttack24_Actions)
endfunction
function HeroW25_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real dmg=LoadReal(udg_hash, Id, 1)
call SetUnitManaRegeneration(u , GetUnitManaRegeneration(u) + dmg)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Hero25R_Delete takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x
local real y
call FlushChildHashtable(udg_hash, GetHandleId(u))
set x=GetUnitX(u)
set y=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
call RemoveUnit(u)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroSkills25_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local real x
local real y
local real x2
local real y2
local real dmg
local integer count
local timer t
if Skill == 0x41304F4B then
call UnitRemoveAbility(u, 0x41304F4A)
call UnitAddAbility(u, 0x4130415A)
elseif Skill == 0x41304F4C then
call UnitRemoveAbility(u, 0x41304F4A)
call UnitAddAbility(u, 0x41304F4D)
elseif Skill == 0x41304F4E then
call UnitRemoveAbility(u, 0x41304F4A)
call UnitAddAbility(u, 0x41304F4F)
elseif Skill == 0x41303931 then
call UnitRemoveAbility(u, 0x41304F4A)
call UnitAddAbility(u, 0x41303948)
endif
if Skill == 0x41304230 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6F303142, x, y, 270)
if GetUnitTypeId(u) == 0x4F303143 then
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, LoadUnitHandle(udg_hash, GetHandleId(u), 1))
else
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
endif
if GetUnitAbilityLevel(u, 0x41303948) == 1 then
if GetUnitTypeId(u) == 0x4F303143 then
set dmg=( 6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.07 ) * 0.75
else
set dmg=( 6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.07 ) * 0.50
endif
call UnitApplyTimedLife(u2, 0x42544C46, 11.30)
call SetUnitAbilityLevel(u2, 0x41304231, 2)
else
set dmg=( 6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.07 ) * 0.50
call UnitApplyTimedLife(u2, 0x42544C46, 7)
endif
call SaveReal(udg_hash, GetHandleId(u2), 13, dmg)
elseif Skill == 0x41304233 then
set dmg=6 + I2R(GetUnitAbilityLevel(u, Skill))
call SetUnitManaRegeneration(u , GetUnitManaRegeneration(u) - dmg)
set t=CreateTimer()
call TimerStart(t, 10, false, function HeroW25_End)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
elseif Skill == 0x41304232 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=x + 128 * Cos(GetUnitFacing(u) * bj_DEGTORAD)
set y2=y + 128 * Sin(GetUnitFacing(u) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x2, y2))
set u2=CreateUnit(pl, 0x4F303143, x2, y2, GetUnitFacing(u))
call SetHeroLevel(u2, GetHeroLevel(u), false)
set count=GetHeroStr(u, true)
call SetHeroStr(u2, count, true)
set count=GetHeroAgi(u, true)
call SetHeroAgi(u2, count, true)
set count=GetHeroInt(u, true)
call SetHeroInt(u2, count, true)
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE))
call SetUnitLife(u2 , count)
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_MANA))
call SetUnitMana(u2 , count)
set count=GetUnitExtraDamage(u)
call SetUnitExtraDamage(u2 , count)
set count=GetUnitAttackSpeed(u)
call SetUnitAttackSpeed(u2 , count)
set count=GetUnitExtraArmor(u)
call SetUnitExtraArmor(u2 , count)
set x=GetUnitLifeRegeneration(u)
call SetUnitLifeRegeneration(u2 , x)
set x=GetUnitManaRegeneration(u)
call SetUnitManaRegeneration(u2 , x)
set count=GetUnitAbilityLevel(u, 0x41304230)
loop
set count=count - 1
call SelectHeroSkill(u2, 0x41304230)
exitwhen count == 0
endloop
set count=GetUnitAbilityLevel(u, 0x41304233)
loop
set count=count - 1
call SelectHeroSkill(u2, 0x41304233)
exitwhen count == 0
endloop
set count=GetUnitAbilityLevel(u, 0x41304234)
loop
set count=count - 1
call SelectHeroSkill(u2, 0x41304234)
exitwhen count == 0
endloop
if GetUnitAbilityLevel(u, 0x4130415A) == 1 then
call UnitAddAbility(u2, 0x4130415A)
call SetUnitInvulnerable(u2, true)
set t=CreateTimer()
call TimerStart(t, 24, false, function Hero25R_Delete)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA))
elseif GetUnitAbilityLevel(u, 0x41304F4D) == 1 then
call UnitAddAbility(u2, 0x41304F4D)
set t=CreateTimer()
call TimerStart(t, 30, false, function Hero25R_Delete)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA))
elseif GetUnitAbilityLevel(u, 0x41304F4F) == 1 then
call UnitAddAbility(u2, 0x41304F4F)
call SetUnitInvulnerable(u2, true)
set t=CreateTimer()
call TimerStart(t, 24, false, function Hero25R_Delete)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA))
elseif GetUnitAbilityLevel(u, 0x41303948) == 1 then
call UnitAddAbility(u2, 0x41303948)
set t=CreateTimer()
call TimerStart(t, 24, false, function Hero25R_Delete)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SetUnitVertexColor(u2, 200, 0, 0, 125)
call SaveReal(udg_hash, GetHandleId(u2), 6, 0.50)
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.50)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA) * 0.50)
else
call SetUnitInvulnerable(u2, true)
set t=CreateTimer()
call TimerStart(t, 24, false, function Hero25R_Delete)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA))
endif
call ModifyHeroSkillPoints(u2, bj_MODIFYMETHOD_SET, 0)
call SuspendHeroXP(u2, true)
call TriggerRegisterUnitEvent(gg_trg_HeroSkills25, u2, EVENT_UNIT_SPELL_EFFECT)
call SaveInteger(udg_hash, GetHandleId(u2), 26, 1)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills25 takes nothing returns nothing
set gg_trg_HeroSkills25=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills25, function Trig_HeroSkills25_Actions)
endfunction
function Trig_HeroKills25_Conditions takes nothing returns boolean
return LoadInteger(udg_hash, GetHandleId(GetDyingUnit()), 26) == 1 or LoadInteger(udg_hash, GetHandleId(GetKillingUnit()), 26) == 1
endfunction
function Trig_HeroKills25_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=GetDyingUnit()
local integer u_Id=GetUnitTypeId(u)
local integer u2_Id=GetUnitTypeId(u2)
local real x
local real y
local integer i
local integer i2
local integer i3=LoadInteger(udg_hash, GetHandleId(u), 7)
local real angle
if LoadInteger(udg_hash, GetHandleId(u2), 26) == 1 and u2_Id != 0x4F303135 and u2_Id != 0x4E30324B then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
call FlushChildHashtable(udg_hash, GetHandleId(u2))
call RemoveUnit(u2)
elseif LoadInteger(udg_hash, GetHandleId(u), 26) == 1 and IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set i=GetPlayerTechCount(GetOwningPlayer(u2), 0x52303051, true)
set i2=GetPlayerTechCount(pl, 0x52303051, true)
if i2 < i then
call SetPlayerTechResearched(pl, 0x52303051, i)
endif
set i=GetPlayerTechCount(GetOwningPlayer(u2), 0x52303242, true)
set i2=GetPlayerTechCount(pl, 0x52303242, true)
if i2 < i then
call SetPlayerTechResearched(pl, 0x52303242, i)
endif
if GetUnitAbilityLevel(u, 0x4130415A) == 1 then
set i=GetRandomInt(1, 100)
set i2=i3 + 30
if GetUnitAbilityLevel(u, 0x42303131) == 1 then
set i2=i2 + 3 + 2 * GetUnitAbilityLevel(u, 0x41304233)
endif
if i <= i2 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
set angle=GetUnitFacing(u2)
set u2=CreateUnit(pl, u2_Id, x, y, angle)
set x=10 + 1.5 + 1.5 * I2R(GetUnitAbilityLevel(u, 0x41304234))
call UnitApplyTimedLife(u2, 0x42544C46, x)
set i=10 * GetUnitAbilityLevel(u, 0x41304234)
call SetUnitAttackSpeed(u2 , i)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call SetUnitInvulnerable(u2, true)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA))
call SaveInteger(udg_hash, GetHandleId(u2), 26, 1)
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
else
call SaveInteger(udg_hash, GetHandleId(u), 7, i3 + 1)
endif
elseif GetUnitAbilityLevel(u, 0x41304F4D) == 1 then
set i=GetRandomInt(1, 100)
set i2=i3 + 25
if GetUnitAbilityLevel(u, 0x42303131) == 1 then
set i2=i2 + 3 + 2 * GetUnitAbilityLevel(u, 0x41304233)
endif
if i <= i2 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
set angle=GetUnitFacing(u2)
set u2=CreateUnit(pl, u2_Id, x, y, angle)
set x=7 + 1.5 + 1.5 * I2R(GetUnitAbilityLevel(u, 0x41304234))
call UnitApplyTimedLife(u2, 0x42544C46, x)
set i=10 * GetUnitAbilityLevel(u, 0x41304234)
call SetUnitAttackSpeed(u2 , i)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
if udg_ItemBonusDMG[n] >= 350 then
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.75)
else
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.50)
endif
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, 0)
call SaveInteger(udg_hash, GetHandleId(u2), 26, 1)
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
else
call SaveInteger(udg_hash, GetHandleId(u), 7, i3 + 1)
endif
elseif GetUnitAbilityLevel(u, 0x41304F4F) == 1 then
set i=GetRandomInt(1, 100)
set i2=i3 + 20
if GetUnitAbilityLevel(u, 0x42303131) == 1 then
set i2=i2 + 3 + 2 * GetUnitAbilityLevel(u, 0x41304233)
endif
if i <= i2 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
set angle=GetUnitFacing(u2)
set u2=CreateUnit(pl, u2_Id, x, y, angle)
set x=5 + 1.5 + 1.5 * I2R(GetUnitAbilityLevel(u, 0x41304234))
call UnitApplyTimedLife(u2, 0x42544C46, x)
set i=10 * GetUnitAbilityLevel(u, 0x41304234)
call SetUnitAttackSpeed(u2 , i)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call SaveReal(udg_hash, GetHandleId(u2), 6, 2.0)
call SetUnitInvulnerable(u2, true)
call SetUnitVertexColor(u2, 170, 0, 200, 125)
call SetUnitState(u2, UNIT_STATE_MANA, 0)
call SaveInteger(udg_hash, GetHandleId(u2), 26, 1)
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.02)
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.02)
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
else
call SaveInteger(udg_hash, GetHandleId(u), 7, i3 + 1)
endif
elseif GetUnitAbilityLevel(u, 0x41303948) == 1 then
set i=GetRandomInt(1, 100)
set i2=i3 + 15
if GetUnitAbilityLevel(u, 0x42303131) == 1 then
set i2=i2 + 3 + 2 * GetUnitAbilityLevel(u, 0x41304233)
endif
if i <= i2 then
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", x, y))
set angle=GetUnitFacing(u2)
set u2=CreateUnit(pl, u2_Id, x, y, angle)
set x=20 + 1.5 + 1.5 * I2R(GetUnitAbilityLevel(u, 0x41304234))
call UnitApplyTimedLife(u2, 0x42544C46, x)
set i=10 * GetUnitAbilityLevel(u, 0x41304234)
call SetUnitAttackSpeed(u2 , i)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
set i=3 + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitExtraDamage(u2 , i)
call SetUnitVertexColor(u2, 200, 0, 0, 125)
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_MAX_LIFE) * 0.50)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MAX_MANA) * 0.50)
call SaveInteger(udg_hash, GetHandleId(u2), 26, 1)
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
else
call SaveInteger(udg_hash, GetHandleId(u), 7, i3 + 1)
endif
endif
endif
set u=null
set u2=null
set pl=null
endfunction
function InitTrig_HeroKills25 takes nothing returns nothing
set gg_trg_HeroKills25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills25, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills25, Condition(function Trig_HeroKills25_Conditions))
call TriggerAddAction(gg_trg_HeroKills25, function Trig_HeroKills25_Actions)
endfunction
function Hero26E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local unit u3
local group ug=LoadGroupHandle(udg_hash, Id, 2)
set dmg=10 + 15 * I2R(GetUnitAbilityLevel(u, 0x41304242)) + udg_ItemBonusDMG[n] * 0.15
if GetUnitAbilityLevel(u, 0x41303959) == 1 then
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if GetUnitAbilityLevel(u3, 0x42303136) == 1 and GetUnitAbilityLevel(u3, 0x42303135) == 1 then
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u3, "origin"))
call UnitRemoveAbility(u3, 0x42303136)
call UnitRemoveAbility(u3, 0x42303135)
if IsUnitType(u3, UNIT_TYPE_HERO) == true then
call UnitDamageTarget(u, u3, dmg * 2.50, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u3, dmg * 1.75, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + GetUnitState(u, UNIT_STATE_MAX_MANA) * 0.01)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
else
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if GetUnitAbilityLevel(u3, 0x42303136) == 1 and GetUnitAbilityLevel(u3, 0x42303135) == 1 then
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u3, "origin"))
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
endif
call DestroyGroup(ug)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
set pl=null
set u3=null
set ug=null
endfunction
function Hero26D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, GetHandleId(u), 26)
local real life
local real max_life
if IsDead(u) == true then
set count=8
else
set count=count - 1
endif
if count <= 0 then
call SaveInteger(udg_hash, GetHandleId(u), 26, 0)
if GetUnitAbilityLevel(u, 0x41304243) != 1 then
call UnitAddAbility(u, 0x41304243)
endif
set life=GetUnitState(u, UNIT_STATE_LIFE)
set max_life=GetUnitState(u, UNIT_STATE_MAX_LIFE)
if life == max_life then
set life=GetUnitState(u, UNIT_STATE_MANA)
set max_life=GetUnitState(u, UNIT_STATE_MAX_MANA)
call SetUnitState(u, UNIT_STATE_MANA, life + max_life * 0.005)
else
call SetUnitState(u, UNIT_STATE_LIFE, life + max_life * 0.005)
endif
else
if GetUnitAbilityLevel(u, 0x41304243) != 1 then
call UnitRemoveAbility(u, 0x41304243)
endif
call SaveInteger(udg_hash, GetHandleId(u), 26, count)
endif
set t=null
set u=null
endfunction
function Hero26D3_Cd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local integer Id2=LoadInteger(udg_hash, Id, 1)
call SaveInteger(udg_hash, Id2, 1, 0)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
endfunction
function Hero26D3_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local integer Id2=LoadInteger(udg_hash, Id, 1)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, Id2, 1, 2)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=CreateTimer()
call SaveInteger(udg_hash, GetHandleId(t), 1, Id2)
call TimerStart(t, 40, false, function Hero26D3_Cd)
call UnitRemoveAbility(u, 0x41304249)
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.15)
call SaveReal(udg_hash, GetHandleId(u), 6, LoadReal(udg_hash, GetHandleId(u), 6) - 0.20)
set t=null
set u=null
endfunction
function Hero26D3 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer check=LoadInteger(udg_hash, Id, 1)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real max_life=GetUnitState(u, UNIT_STATE_MAX_LIFE)
local real mana=GetUnitState(u, UNIT_STATE_MANA)
local real max_mana=GetUnitState(u, UNIT_STATE_MAX_MANA)
local timer t2
if life <= max_life * 0.40 and mana <= max_mana * 0.40 and check == 0 then
call SaveInteger(udg_hash, Id, 1, 1)
set t2=CreateTimer()
call SaveInteger(udg_hash, GetHandleId(t2), 1, Id)
call SaveUnitHandle(udg_hash, GetHandleId(t2), 1, u)
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) + 0.15)
call SaveReal(udg_hash, GetHandleId(u), 6, LoadReal(udg_hash, GetHandleId(u), 6) + 0.20)
call TimerStart(t2, 20, false, function Hero26D3_End)
call UnitAddAbility(u, 0x41304249)
elseif check == 1 then
call SetUnitState(u, UNIT_STATE_MANA, mana + max_mana * 0.005)
call SetUnitState(u, UNIT_STATE_LIFE, life + max_life * 0.005)
endif
set t=null
set t2=null
set u=null
endfunction
function Hero26R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer count=LoadInteger(udg_hash, Id, 1)
local real dmg=LoadReal(udg_hash, GetHandleId(u), 26)
local texttag text=LoadTextTagHandle(udg_hash, GetHandleId(u), 26)
local force f=CreateForce()
local unit u3
local group ug
local real x
local real y
local real x2
local real y2
call ForceAddPlayer(f, pl)
call DestroyTextTag(text)
set udg_p=GetUnitLoc(u)
set text=CreateTextTagLocBJ("|cFFED2B27" + I2S(R2I(dmg)), udg_p, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, f)
call RemoveLocation(udg_p)
call SaveTextTagHandle(udg_hash, GetHandleId(u), 26, text)
set count=count - 1
if count == 0 then
call DestroyTextTag(text)
call UnitRemoveAbility(u, 0x41304239)
set x=GetUnitX(u)
set y=GetUnitY(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
set count=count + 1
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set dmg=dmg / I2R(count)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set count=1
loop
set count=count + 1
set x2=PolarX(x , 200 , 72 * I2R(count))
set y2=PolarY(y , 200 , 72 * I2R(count))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
exitwhen count == 5
endloop
set count=1
loop
set count=count + 1
set x2=PolarX(x , 350 , 45 * I2R(count))
set y2=PolarY(y , 350 , 45 * I2R(count))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
exitwhen count == 8
endloop
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
call DestroyForce(f)
set f=null
set t=null
set u=null
set pl=null
set u3=null
set ug=null
set text=null
endfunction
function Trig_HeroSkills26_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local real x
local real y
local real x2
local real y2
local real dmg
local integer count
local timer t
local group ug
local group ug2
if Skill == 0x41303957 then
call UnitRemoveAbility(u, 0x41303930)
call UnitAddAbility(u, 0x41304237)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(u), 26, 8)
call TimerStart(t, 0.5, true, function Hero26D)
elseif Skill == 0x41303958 then
call UnitRemoveAbility(u, 0x41303930)
call UnitAddAbility(u, 0x41303959)
elseif Skill == 0x4130395A then
call UnitRemoveAbility(u, 0x41303930)
call UnitAddAbility(u, 0x41304151)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, 0)
call TimerStart(t, 0.5, true, function Hero26D3)
endif
if Skill == 0x41304242 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call DestroyEffect(AddSpecialEffect("war3mapImported\\Stormfall.mdl", x, y))
set dmg=20 + 20 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.35
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 255, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupAddUnit(ug2, u3)
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(u3, 0x41304244)
call SetUnitAbilityLevel(u3, 0x41304244, GetUnitAbilityLevel(u, Skill))
call IssueImmediateOrderById(u3, Order_howlofterror)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
elseif Skill == 0x41304241 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=20 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.15
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitRemoveBuffs(u3, true, false)
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupAddUnit(ug2, u3)
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41304238 then
call SaveReal(udg_hash, GetHandleId(u), 26, 0)
call UnitAddAbility(u, 0x41304239)
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveInteger(udg_hash, GetHandleId(t), 1, 400)
call TimerStart(t, 0.03, true, function Hero26R)
endif
if GetUnitAbilityLevel(u, 0x41304245) > 0 then
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveGroupHandle(udg_hash, GetHandleId(t), 2, ug2)
call TimerStart(t, 0.30, true, function Hero26E)
else
call DestroyGroup(ug2)
endif
set u=null
set u3=null
set pl=null
set t=null
set ug=null
set ug2=null
endfunction
function InitTrig_HeroSkills26 takes nothing returns nothing
set gg_trg_HeroSkills26=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills26, function Trig_HeroSkills26_Actions)
endfunction
function HeroQ27 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local integer BonusAgi=( 7 + 7 * GetUnitAbilityLevel(u, 0x41304259) + R2I(udg_ItemBonusDMG[n] * 0.10) ) / 7
set count=count - 1
if count == 0 then
set BonusAgi=LoadInteger(udg_hash, Id, 2)
call SetHeroAgi(u, GetHeroAgi(u, false) - BonusAgi, true)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
elseif count > 6 then
call SetHeroAgi(u, GetHeroAgi(u, false) + BonusAgi, true)
call SaveInteger(udg_hash, Id, 2, LoadInteger(udg_hash, Id, 2) + BonusAgi)
call SaveInteger(udg_hash, Id, 1, count)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
endfunction
function HeroW27 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local group ug2=CreateGroup()
local integer count=LoadInteger(udg_hash, Id, 1)
local unit u3
local real x
local real y
local real angle
call GroupAddGroup(ug, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
if IsDead(u3) == false then
set angle=GetRandomReal(0, 360)
set x=GetUnitX(u3) + 200 * Cos(angle * bj_DEGTORAD)
set y=GetUnitY(u3) + 200 * Sin(angle * bj_DEGTORAD)
call IssuePointOrderById(u3, Order_move, x, y)
else
call GroupRemoveUnit(ug, u3)
endif
call GroupRemoveUnit(ug2, u3)
endloop
set count=count - 1
if count == 0 then
call DestroyGroup(ug)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, Id, 1, count)
call TimerStart(t, 1.00, false, function HeroW27)
endif
set t=null
set u3=null
call DestroyGroup(ug2)
set ug=null
set ug2=null
endfunction
function Trig_HeroSkills27_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local timer t
local integer Id
local real dmg
local real x
local real y
local location p
local group ug
local group ug2
if Skill == 0x41304259 then
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 1, true, function HeroQ27)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 14)
elseif Skill == 0x4130425A then
set p=GetSpellTargetLoc()
set x=GetLocationX(p)
set y=GetLocationY(p)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", x, y))
set dmg=15 + 25 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.25
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 275, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if IsUnitType(u3, UNIT_TYPE_HERO) == true then
call UnitDamageTarget(u, u3, dmg * 2.50, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(ug2, u3)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 0.01, false, function HeroW27)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call SaveInteger(udg_hash, Id, 1, 4 + GetUnitAbilityLevel(u, Skill))
endif
set u=null
set pl=null
set u3=null
set t=null
call RemoveLocation(p)
set p=null
set ug=null
set ug2=null
endfunction
function InitTrig_HeroSkills27 takes nothing returns nothing
set gg_trg_HeroSkills27=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills27, function Trig_HeroSkills27_Actions)
endfunction
function Trig_HeroKills27_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local group ug
local real x
local real y
if GetUnitTypeId(u) == 0x55303051 or GetUnitTypeId(u) == 0x4E62726E then
if IsUnitEnemy(u2, pl) == true and IsUnitType(u2, UNIT_TYPE_STRUCTURE) != true then
set dmg=I2R(GetHeroAgi(u, true)) * 0.30 + udg_ItemBonusDMG[n] * 0.10
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\StarStampedeMissileDeath.mdx", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
endif
elseif ( GetUnitTypeId(u2) == 0x55303051 or GetUnitTypeId(u2) == 0x4E62726E ) and GetUnitAbilityLevel(u2, 0x41304331) > 0 then
set dmg=10 + 15 * I2R(GetUnitAbilityLevel(u2, 0x41304331)) + LoadReal(udg_hash, GetHandleId(u2), 16) * 2.50
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set u=CreateUnit(GetOwningPlayer(u2), 0x6F303144, x, y, 270)
call SetUnitVertexColor(u, 100, 100, 100, 130)
call UnitApplyTimedLife(u, 0x42544C46, 12 + udg_ItemBonusDMG[n] * 0.02)
call SaveReal(udg_hash, GetHandleId(u), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u), 13, u2)
endif
set u=null
set u2=null
set pl=null
set ug=null
endfunction
function InitTrig_HeroKills27 takes nothing returns nothing
set gg_trg_HeroKills27=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills27, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroKills27, function Trig_HeroKills27_Actions)
endfunction
function Trig_HeroGiveSkills27_Actions takes nothing returns nothing
local unit u=GetLearningUnit()
if GetUnitAbilityLevel(u, 0x41304330) == 1 then
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.15)
endif
call DisableTrigger(GetTriggeringTrigger())
set u=null
endfunction
function InitTrig_HeroGiveSkills27 takes nothing returns nothing
set gg_trg_HeroGiveSkills27=CreateTrigger()
call TriggerAddAction(gg_trg_HeroGiveSkills27, function Trig_HeroGiveSkills27_Actions)
endfunction
function Hero28W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit hero=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(hero)
local integer count=LoadInteger(udg_hash, Id, 1)
local integer n=GetPlayerId(pl) + 1
local real heal=2 + 2 * I2R(GetUnitAbilityLevel(hero, 0x41304336)) + udg_ItemBonusDMG[n] * 0.02
call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + heal)
set count=count - 1
if count == 0 then
call UnitRemoveAbility(u, 0x41304337)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set hero=null
set pl=null
endfunction
function Trig_HeroSkills28_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local real x2
local real y2
local integer count
local real dmg
local group ug
if Skill == 0x41304333 then
set x=GetUnitX(u)
set y=GetUnitY(u)
call SetUnitInvulnerable(u, true)
call ShowUnit(u, false)
set u2=CreateUnit(pl, 0x6F303145, x, y, GetUnitFacing(u))
call SaveUnitHandle(udg_hash, GetHandleId(u2), 1, u)
call SaveInteger(udg_hash, GetHandleId(u2), 11, 1)
call TriggerRegisterUnitEvent(gg_trg_HeroSkills28, u2, EVENT_UNIT_SPELL_EFFECT)
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.35) + 200 + 200 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u2 , count)
set count=20 + 10 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitBaseDamage(u2 , count - 1)
set count=GetUnitAbilityLevel(u, Skill) * 2
call SetUnitExtraArmor(u2 , count)
if UnitHasItemOfTypeBJ(u, 0x74636173) == true then
call SetUnitAttackSpeed(u2 , 15)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
if udg_ItemBonusDMG[n] >= 150 then
call UnitRemoveAbility(u2, 0x41304341)
call UnitAddAbility(u2, 0x41304344)
endif
if udg_ItemBonusDMG[n] >= 300 then
call UnitRemoveAbility(u2, 0x41304342)
call UnitAddAbility(u2, 0x41304345)
endif
if udg_ItemBonusDMG[n] >= 500 then
call UnitRemoveAbility(u2, 0x41303655)
call UnitAddAbility(u2, 0x41304B43)
call SaveReal(udg_hash, GetHandleId(u2), 5, LoadReal(udg_hash, GetHandleId(u2), 5) + 0.50)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
elseif Skill == 0x41304335 then
call KillUnit(u)
elseif Skill == 0x41304339 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6E303030, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
elseif Skill == 0x41304336 then
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x41304337)
call SetUnitAbilityLevel(u2, 0x41304337, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveUnitHandle(udg_hash, Id, 2, u)
if GetUnitLevel(u2) == 5 then
set count=20
else
set count=32
endif
call SaveInteger(udg_hash, Id, 1, count)
call TimerStart(t, 0.5, true, function Hero28W)
elseif Skill == 0x41304345 then
set u2=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
call UnitAddAbility(u, 0x41304337)
call SetUnitAbilityLevel(u, 0x41304337, GetUnitAbilityLevel(u2, 0x41304336))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
set count=32
call SaveInteger(udg_hash, Id, 1, count)
call TimerStart(t, 0.5, true, function Hero28W)
elseif Skill == 0x41304344 then
set u2=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
set dmg=35 + 25 * I2R(GetUnitAbilityLevel(u2, 0x41304333))
set x=GetUnitX(u)
set y=GetUnitY(u)
set count=1
loop
exitwhen count > 15
set x2=x + 490 * Cos(24 * I2R(count) * bj_DEGTORAD)
set y2=y + 490 * Sin(24 * I2R(count) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x2, y2))
set count=count + 1
endloop
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 500, null)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if IsDead(u) == false and IsUnitEnemy(u, pl) == true then
call UnitDamageTarget(u2, u, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
endif
set u=null
set u2=null
set pl=null
set t=null
set ug=null
endfunction
function InitTrig_HeroSkills28 takes nothing returns nothing
set gg_trg_HeroSkills28=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills28, function Trig_HeroSkills28_Actions)
endfunction
function Trig_HeroKills28_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit()) == 0x6F303145
endfunction
function Trig_HeroKills28_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit hero=LoadUnitHandle(udg_hash, GetHandleId(u), 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
call ShowUnit(hero, true)
call SetUnitInvulnerable(hero, false)
call SetUnitPosition(hero, x, y)
call SelectUnitForPlayerSingle(hero, GetOwningPlayer(hero))
set u=null
set hero=null
endfunction
function InitTrig_HeroKills28 takes nothing returns nothing
set gg_trg_HeroKills28=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills28, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills28, Condition(function Trig_HeroKills28_Conditions))
call TriggerAddAction(gg_trg_HeroKills28, function Trig_HeroKills28_Actions)
endfunction
function Trig_HeroGiveSkills28_Conditions takes nothing returns boolean
return GetLearnedSkill() == 0x41304338
endfunction
function Trig_HeroGiveSkills28_Actions takes nothing returns nothing
local unit u=GetLearningUnit()
local player pl=GetOwningPlayer(u)
call SaveInteger(udg_hash, GetHandleId(pl), 10, GetUnitAbilityLevel(u, 0x41304338))
set u=null
set pl=null
endfunction
function InitTrig_HeroGiveSkills28 takes nothing returns nothing
set gg_trg_HeroGiveSkills28=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroGiveSkills28, EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_HeroGiveSkills28, Condition(function Trig_HeroGiveSkills28_Conditions))
call TriggerAddAction(gg_trg_HeroGiveSkills28, function Trig_HeroGiveSkills28_Actions)
endfunction
function Trig_HeroBuild28_Conditions takes nothing returns boolean
return LoadInteger(udg_hash, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 10) > 0
endfunction
function Trig_HeroBuild28_Actions takes nothing returns nothing
local integer n=6 + 6 * LoadInteger(udg_hash, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 10)
set udg_p=GetUnitLoc(GetTriggerUnit())
call AdjustPlayerStateBJ(n, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
call CreateTextTagUnitBJ(( "|cFFFFDC00+" + I2S(n) ), GetTriggerUnit(), 0, 10.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, GetLastCreatedTextTag(), GetPlayersAll())
call ShowTextTagForceBJ(true, GetLastCreatedTextTag(), GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())))
set udg_TEXT=GetLastCreatedTextTag()
call SetTextTagVelocityBJ(udg_TEXT, 75.00, 90.00)
call SetTextTagSuspendedBJ(udg_TEXT, false)
call SetTextTagPermanentBJ(udg_TEXT, false)
call SetTextTagLifespanBJ(udg_TEXT, 3.00)
call SetTextTagFadepointBJ(udg_TEXT, 2.00)
call RemoveLocation(udg_p)
endfunction
function InitTrig_HeroBuild28 takes nothing returns nothing
set gg_trg_HeroBuild28=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroBuild28, EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_HeroBuild28, Condition(function Trig_HeroBuild28_Conditions))
call TriggerAddAction(gg_trg_HeroBuild28, function Trig_HeroBuild28_Actions)
endfunction
function Trig_HeroSkills29_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local timer t
local integer n2
local integer n3
local real dmg
local real r
local real x
local real y
local texttag text
local integer ItemType
if Skill == 0x41304456 then
set u3=GetSpellTargetUnit()
set dmg=30 + 30 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.30
set r=GetUnitLifePercent(u3)
set n3=R2I(r)
set n2=GetRandomInt(1, 100)
if n2 <= n3 then
set n2=5 + 5 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.05)
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + n2)
set text=CreateTextTagUnitBJ("|cFFFFDC00+" + I2S(n2), u3, 0, 14.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", u, "origin"))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", u3, "origin"))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl", u3, "origin"))
call UnitDamageTarget(u, u3, dmg * ( 1 + r * 0.02 ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
elseif Skill == 0x41303847 then
set n3=GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD)
if n3 >= 750 then
call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, n3 - 750)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", u, "origin"))
set n2=GetRandomInt(1, 100)
if n2 <= 25 then
set ItemType=T2_CreateItem()
elseif n2 > 25 and n2 <= 50 then
set ItemType=T3_CreateItem()
elseif n2 > 50 and n2 <= 70 then
set ItemType=T4_CreateItem()
elseif n2 > 70 and n2 <= 80 then
set T6_Drop=T6_Drop + 2
if GetPlayerTechCount(pl, 0x52303153, true) == 1 then
set T6_Drop=T6_Drop + 1
endif
if T6_Drop >= 6 then
set T6_Drop=T6_Drop - 6
set T7_Drop=T7_Drop + 1
if T7_Drop >= 5 then
set T7_Drop=0
set ItemType=T7_CreateItem()
else
set ItemType=T6_CreateItem()
endif
else
set ItemType=T5_CreateItem()
endif
elseif n2 > 80 then
set n3=GetRandomInt(1, udg_PurpleItemsCount)
set ItemType=udg_PurpleItems[n3]
endif
call UnitAddItemById(u, ItemType)
endif
elseif Skill == 0x41304451 then
set u3=GetSpellTargetUnit()
set n2=GetRandomInt(0, 5)
loop
exitwhen UnitItemInSlot(u3, n2) != null
if n2 >= 5 then
set n2=0
else
set n2=n2 + 1
endif
endloop
set ItemType=GetItemTypeId(UnitItemInSlot(u3, n2))
call RemoveItem(UnitItemInSlot(u3, n2))
call UnitAddItemById(u, ItemType)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", u, "origin"))
endif
set u=null
set pl=null
set u3=null
set t=null
set text=null
endfunction
function InitTrig_HeroSkills29 takes nothing returns nothing
set gg_trg_HeroSkills29=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills29, function Trig_HeroSkills29_Actions)
endfunction
function Trig_HeroCheckSkills29_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local integer FreeSlots
local integer L
if GetSpellAbilityId() == 0x41303847 and GetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD) < 750 then
call IssueImmediateOrder(u, "stop")
elseif GetSpellAbilityId() == 0x41304451 then
set FreeSlots=0
set L=0
loop
exitwhen L > 5
if UnitItemInSlot(u2, L) == null then
set FreeSlots=FreeSlots + 1
endif
set L=L + 1
endloop
if FreeSlots == 6 then
call IssueImmediateOrder(u, "stop")
endif
endif
set u=null
set u2=null
endfunction
function InitTrig_HeroCheckSkills29 takes nothing returns nothing
set gg_trg_HeroCheckSkills29=CreateTrigger()
call TriggerAddAction(gg_trg_HeroCheckSkills29, function Trig_HeroCheckSkills29_Actions)
endfunction
function HeroQ30 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u3=LoadUnitHandle(udg_hash, Id, 1)
local real cof=LoadReal(udg_hash, Id, 1)
local integer lvl=LoadInteger(udg_hash, Id, 2)
local real DefCof
local unit u
local player pl
local integer n
local group ug
local real x
local real y
call UnitRemoveAbility(u3, 0x41304531)
set DefCof=LoadReal(udg_hash, GetHandleId(u3), 4)
call SaveReal(udg_hash, GetHandleId(u3), 4, DefCof + cof)
if IsDead(u3) != true then
set u=LoadUnitHandle(udg_hash, Id, 2)
set pl=GetOwningPlayer(u)
set n=GetPlayerId(pl) + 1
set x=GetUnitX(u3)
set y=GetUnitY(u3)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdl", x, y))
set DefCof=25 + 25 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.25
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, DefCof, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
call FlushChildHashtable(udg_hash, Id)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u3=null
set u=null
set pl=null
set ug=null
endfunction
function HeroW30 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local real dmg
local real x2
local real y2
local unit u3
local integer L
local group ug=CreateGroup()
set count=count - 1
if count < 1 then
set dmg=30 + 30 * I2R(GetUnitAbilityLevel(u, 0x41304459)) + udg_ItemBonusDMG[n] * 0.40
call GroupEnumUnitsInRange(ug, x, y, 270, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyEffect(AddSpecialEffect("war3mapImported\\Ground Slam Fire.mdx", x, y))
set u3=CreateUnit(pl, 0x6F303148, x, y, 270)
call UnitApplyTimedLife(u3, 0x42544C46, 3)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
set dmg=5 + 5 * I2R(GetUnitAbilityLevel(u, 0x41304459)) + udg_ItemBonusDMG[n] * 0.10
call GroupEnumUnitsInRange(ug, x, y, 165, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
set L=1
loop
exitwhen L > 5
set dmg=GetRandomReal(50, 150)
set x2=PolarX(x , dmg , I2R(L) * 72)
set y2=PolarY(y , dmg , I2R(L) * 72)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", x2, y2))
set L=L + 1
endloop
call SaveInteger(udg_hash, Id, 3, count)
endif
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroR30 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local real dmg
local unit u3
local integer L
local group ug=CreateGroup()
set dmg=7.5 + udg_ItemBonusDMG[n] * 0.025
call GroupEnumUnitsInRange(ug, x, y, 600, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
if count < 1 then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 3, count)
endif
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function Trig_HeroSkills30_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Id
local unit u3
local timer t
local real dmg
local real x
local real y
if Skill == 0x41304530 or Skill == 0x41304350 then
set u3=GetSpellTargetUnit()
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Holy Light.mdx", u3, "origin"))
set dmg=35 + 35 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.30
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsDead(u3) != true then
call UnitAddAbility(u3, 0x41304531)
set x=LoadReal(udg_hash, GetHandleId(u3), 4)
set dmg=0.06 + 0.06 * I2R(GetUnitAbilityLevel(u, Skill))
call SaveReal(udg_hash, GetHandleId(u3), 4, x - dmg)
set t=CreateTimer()
call TimerStart(t, 5, true, function HeroQ30)
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u3)
call SaveUnitHandle(udg_hash, Id, 2, u)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveInteger(udg_hash, Id, 2, GetUnitAbilityLevel(u, Skill))
endif
elseif Skill == 0x41304459 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, 8)
call TimerStart(t, 0.5, true, function HeroW30)
elseif Skill == 0x4130445A then
set x=GetUnitX(u)
set y=GetUnitY(u)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
call SaveInteger(udg_hash, Id, 3, 40)
call TimerStart(t, 0.5, true, function HeroR30)
set u3=CreateUnit(pl, 0x6F303149, x, y, 270)
call UnitApplyTimedLife(u3, 0x42544C46, 20)
endif
set u=null
set pl=null
set u3=null
set t=null
endfunction
function InitTrig_HeroSkills30 takes nothing returns nothing
set gg_trg_HeroSkills30=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills30, function Trig_HeroSkills30_Actions)
endfunction
function LSMagUgolMT takes real x1,real x2,real y1,real y2 returns real
return bj_RADTODEG * Atan2(y2 - y1, x2 - x1)
endfunction
function LSMagRastMT takes real x1,real x2,real y1,real y2 returns real
local real dx=x2 - x1
local real dy=y2 - y1
return SquareRoot(dx * dx + dy * dy)
endfunction
function Trig_Ice_Blades_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41304533
endfunction
function Trig_Ice_Blades_Move2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local unit Cel=LoadUnitHandle(udg_hash, h, 2)
local unit dammy=LoadUnitHandle(udg_hash, h, 3)
local real x=GetUnitX(dammy)
local real y=GetUnitY(dammy)
local real x1=GetUnitX(Cel)
local real y1=GetUnitY(Cel)
local real ugol=LSMagUgolMT(x , x1 , y , y1)
if LSMagRastMT(x , x1 , y , y1) > 25 then
set x1=x + 15 * Cos(ugol * bj_DEGTORAD)
set y1=y + 15 * Sin(ugol * bj_DEGTORAD)
call SetUnitFacing(dammy, ugol)
call SetUnitX(dammy, x1)
call SetUnitY(dammy, y1)
else
if GT != Cel then
call UnitDamageTarget(GT, Cel, LoadReal(udg_hash, h, 4), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call SetUnitState(GT, UNIT_STATE_LIFE, GetUnitState(GT, UNIT_STATE_LIFE) + LoadReal(udg_hash, h, 4) / 3)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", GetUnitX(Cel), GetUnitY(Cel)))
endif
call KillUnit(dammy)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
set dammy=null
set t=null
set GT=null
set Cel=null
endfunction
function Trig_Ice_Blades_Move1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local integer n=GetPlayerId(GetOwningPlayer(GT)) + 1
local group g=LoadGroupHandle(udg_hash, h, 2)
local integer kol=LoadInteger(udg_hash, h, 3)
local real x=GetUnitX(GT)
local real y=GetUnitY(GT)
local real ugolGT=GetUnitFacing(GT)
local real x1
local real y1
local integer i=1
local integer j=1
local timer t1
local integer h1
local unit GE
local group gg=CreateGroup()
local group gg2
local boolean fl=false
local real ugol
if kol > 0 then
call GroupAddGroup(g, gg)
loop
set GE=FirstOfGroup(gg)
exitwhen GE == null
set ugol=GetUnitFacing(GE)
set x1=x + ( 35 + i * 8 ) * Cos(( ugolGT - j * 90 ) * bj_DEGTORAD)
set y1=y + ( 35 + i * 8 ) * Sin(( ugolGT - j * 90 ) * bj_DEGTORAD)
set x1=x1 + ( 35 + i * 8 ) * Cos(( ugol + j * 6 - j * 90 ) * bj_DEGTORAD)
set y1=y1 + ( 35 + i * 8 ) * Sin(( ugol + j * 6 - j * 90 ) * bj_DEGTORAD)
call SetUnitX(GE, x1)
call SetUnitY(GE, y1)
call SetUnitFacing(GE, ugol + j * 6)
call GroupRemoveUnit(gg, GE)
set i=i + 1
set j=j * ( - 1 )
endloop
call SaveInteger(udg_hash, h, 3, kol - 1)
else
call GroupEnumUnitsInRange(gg, x, y, 500, null)
set gg2=CreateGroup()
loop
set GE=FirstOfGroup(gg)
exitwhen GE == null
if not IsUnitType(GE, UNIT_TYPE_STRUCTURE) and not IsUnitType(GE, UNIT_TYPE_DEAD) and IsPlayerEnemy(GetOwningPlayer(GE), GetOwningPlayer(GT)) then
set fl=true
call GroupAddUnit(gg2, GE)
endif
call GroupRemoveUnit(gg, GE)
endloop
loop
set GE=FirstOfGroup(g)
exitwhen GE == null
set t1=CreateTimer()
set h1=GetHandleId(t1)
call SaveUnitHandle(udg_hash, h1, 1, GT)
if fl then
call SaveUnitHandle(udg_hash, h1, 2, GroupPickRandomUnit(gg2))
else
call SaveUnitHandle(udg_hash, h1, 2, GT)
endif
call SaveUnitHandle(udg_hash, h1, 3, GE)
call SaveReal(udg_hash, h1, 4, 25 + 25 * GetUnitAbilityLevel(GT, 0x41304533) + udg_ItemBonusDMG[n] * 0.25)
call TimerStart(t1, 0.01, true, function Trig_Ice_Blades_Move2)
call GroupRemoveUnit(g, GE)
endloop
call DestroyGroup(gg2)
call DestroyGroup(g)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
call DestroyGroup(gg)
set gg2=null
set gg=null
set GE=null
set t1=null
set t=null
set GT=null
set g=null
endfunction
function Trig_Ice_Blades_Actions takes nothing returns nothing
local unit GT=GetTriggerUnit()
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local group g=CreateGroup()
local integer i=1
local real x=GetUnitX(GT)
local real y=GetUnitY(GT)
local real ugol=GetUnitFacing(GT)
loop
exitwhen i > 8
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GT), 0x68303236, x, y, ugol + 180)
call GroupAddUnit(g, bj_lastCreatedUnit)
set i=i + 1
endloop
call SaveUnitHandle(udg_hash, h, 1, GT)
call SaveGroupHandle(udg_hash, h, 2, g)
call SaveInteger(udg_hash, h, 3, 30)
call TimerStart(t, 0.03, true, function Trig_Ice_Blades_Move1)
set t=null
set GT=null
set g=null
endfunction
function InitTrig_HeroSkillE30 takes nothing returns nothing
set gg_trg_HeroSkillE30=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroSkillE30, Condition(function Trig_Ice_Blades_Conditions))
call TriggerAddAction(gg_trg_HeroSkillE30, function Trig_Ice_Blades_Actions)
endfunction
function HeroW31 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, i, 1)
call UnitRemoveAbility(u, 0x53303035)
call UnitRemoveAbility(u, 0x41304632)
call FlushChildHashtable(udg_hash, i)
call PauseTimer(t)
call DestroyTimer(t)
set u=null
set t=null
endfunction
function HeroQ31 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real x2
local real y2
local player pl
local integer n
local real dmg=LoadReal(udg_hash, Id, 1)
local real degrees=LoadReal(udg_hash, Id, 4)
local integer check=LoadInteger(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local real speed=LoadReal(udg_hash, GetHandleId(u2), 1)
local real plus_speed=LoadReal(udg_hash, GetHandleId(u2), 2)
local group ug
local boolean B=false
local real r
if plus_speed == 0.30 then
set u=LoadUnitHandle(udg_hash, Id, 1)
set x2=GetUnitX(u)
set y2=GetUnitY(u)
set degrees=AngleXY(x , y , x2 , y2)
set count=10
endif
call SetUnitX(u2, PolarX(x , speed , degrees))
call SetUnitY(u2, PolarY(y , speed , degrees))
call SaveReal(udg_hash, GetHandleId(u2), 1, speed + plus_speed)
set check=check + 1
set count=count - 1
if check == 7 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 210, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if plus_speed == 0.30 then
if DistanceNative(x , y , x2 , y2) <= 50 then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set n=GetPlayerId(pl) + 1
set dmg=I2R(GetHeroInt(u, true)) * 1.25 + udg_ItemBonusDMG[n] * 0.50
if GetUnitAbilityLevel(u, 0x424E6D73) == 1 then
set dmg=dmg * ( 1.00 + 0.10 * I2R(GetUnitAbilityLevel(u, 0x41304553)) )
endif
set x=GetUnitX(u)
set y=GetUnitY(u)
set count=1
loop
exitwhen count > 5
set x=PolarX(x2 , 300 , I2R(72 * count))
set y=PolarY(y2 , 300 , I2R(72 * count))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
set count=count + 1
endloop
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call FlushChildHashtable(udg_hash, GetHandleId(u2))
call SaveUnitHandle(udg_hash, GetHandleId(pl), 1, null)
call RemoveUnit(u2)
endif
else
if count == 0 then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call FlushChildHashtable(udg_hash, GetHandleId(u2))
call SaveUnitHandle(udg_hash, GetHandleId(pl), 1, null)
call RemoveUnit(u2)
else
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
endif
endif
set t=null
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
endfunction
function Trig_HeroSkills31_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Id
local unit u3
local timer t
local real dmg
local real x
local real y
local real x2
local real y2
local real degrees
if Skill == 0x41304558 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetSpellTargetX()
set y2=GetSpellTargetY()
set dmg=8 + 8 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.08
set degrees=AngleXY(x , y , x2 , y2)
set u3=CreateUnit(pl, 0x6F30314A, x, y, degrees)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveInteger(udg_hash, Id, 2, 0)
call SaveInteger(udg_hash, Id, 3, 168)
call SaveReal(udg_hash, Id, 4, degrees)
call SaveReal(udg_hash, GetHandleId(u3), 1, 12)
call SaveReal(udg_hash, GetHandleId(u3), 2, 0.20)
call TimerStart(t, 0.03, true, function HeroQ31)
call SaveUnitHandle(udg_hash, GetHandleId(pl), 1, u3)
elseif Skill == 0x4130455A then
set u3=LoadUnitHandle(udg_hash, GetHandleId(pl), 1)
if GetUnitTypeId(u3) == 0x6F30314A then
call SaveReal(udg_hash, GetHandleId(u3), 2, 0.30)
endif
elseif Skill == 0x41304631 then
call UnitAddAbility(u, 0x53303035)
call UnitAddAbility(u, 0x41304632)
call SetUnitAbilityLevel(u, 0x53303035, GetUnitAbilityLevel(u, Skill))
call SetUnitAbilityLevel(u, 0x41304632, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 10, false, function HeroW31)
endif
set u=null
set pl=null
set u3=null
set t=null
endfunction
function InitTrig_HeroSkills31 takes nothing returns nothing
set gg_trg_HeroSkills31=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills31, function Trig_HeroSkills31_Actions)
endfunction
function Trig_ice_attack_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41304557
endfunction
function Trig_ice_attack_Move2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local real x1=LoadReal(udg_hash, h, 2)
local real y1=LoadReal(udg_hash, h, 3)
local unit dammy=LoadUnitHandle(udg_hash, h, 4)
local real x=GetUnitX(dammy)
local real y=GetUnitY(dammy)
local real ugol=LSMagUgolMT(x , x1 , y , y1)
local group g
local unit GE
local real uron
if LSMagRastMT(x , x1 , y , y1) > 25 then
set x=x + 15 * Cos(ugol * bj_DEGTORAD)
set y=y + 15 * Sin(ugol * bj_DEGTORAD)
call SetUnitFacing(dammy, ugol)
call SetUnitX(dammy, x)
call SetUnitY(dammy, y)
else
set g=CreateGroup()
call GroupEnumUnitsInRange(g, x1, y1, 280, null)
set uron=75 + GetUnitState(GT, UNIT_STATE_MAX_MANA) * 0.08
loop
set GE=FirstOfGroup(g)
exitwhen GE == null
if not IsUnitType(GE, UNIT_TYPE_DEAD) and IsPlayerEnemy(GetOwningPlayer(GE), GetOwningPlayer(GT)) then
call UnitDamageTarget(GT, GE, uron, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g, GE)
endloop
call DestroyGroup(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x1, y1))
call RemoveUnit(dammy)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
set GE=null
set g=null
set dammy=null
set t=null
set GT=null
endfunction
function Trig_ice_attack_Move1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local unit dammy=LoadUnitHandle(udg_hash, h, 4)
local integer j=LoadInteger(udg_hash, h, 5)
local integer kol=LoadInteger(udg_hash, h, 6)
local real x1=GetUnitX(GT)
local real y1=GetUnitY(GT)
local timer t1
local integer h1
local real ugol
local real ugolGT=GetUnitFacing(GT)
if kol > 0 then
set ugol=GetUnitFacing(dammy)
set x1=x1 + 80 * Cos(( ugolGT - j * 90 ) * bj_DEGTORAD)
set y1=y1 + 80 * Sin(( ugolGT - j * 90 ) * bj_DEGTORAD)
set x1=x1 + 80 * Cos(( ugol + j * 6 - j * 90 ) * bj_DEGTORAD)
set y1=y1 + 80 * Sin(( ugol + j * 6 - j * 90 ) * bj_DEGTORAD)
call SetUnitX(dammy, x1)
call SetUnitY(dammy, y1)
call SetUnitFacing(dammy, ugol + j * 6)
call SaveInteger(udg_hash, h, 6, kol - 1)
else
set t1=CreateTimer()
set h1=GetHandleId(t1)
call SaveUnitHandle(udg_hash, h1, 1, GT)
call SaveReal(udg_hash, h1, 2, LoadReal(udg_hash, h, 2))
call SaveReal(udg_hash, h1, 3, LoadReal(udg_hash, h, 3))
call SaveUnitHandle(udg_hash, h1, 4, dammy)
call TimerStart(t1, 0.01, true, function Trig_ice_attack_Move2)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
set t=null
set dammy=null
set GT=null
set t1=null
endfunction
function Trig_ice_attack_Create takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit GT=LoadUnitHandle(udg_hash, h, 1)
local integer kol=LoadInteger(udg_hash, h, 4)
local timer t1
local integer h1
local real x=GetUnitX(GT)
local real y=GetUnitY(GT)
local real dist=GetRandomReal(120, 500)
local real angle=GetRandomReal(0, 360)
local real x2=PolarX(x , dist , angle)
local real y2=PolarY(y , dist , angle)
if kol > 0 then
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GT), 0x68303241, x, y, angle)
set t1=CreateTimer()
set h1=GetHandleId(t1)
call SaveUnitHandle(udg_hash, h1, 1, GT)
call SaveReal(udg_hash, h1, 2, x2)
call SaveReal(udg_hash, h1, 3, y2)
call SaveUnitHandle(udg_hash, h1, 4, bj_lastCreatedUnit)
call SaveInteger(udg_hash, h1, 5, LoadInteger(udg_hash, h, 5))
call SaveInteger(udg_hash, h1, 6, 30)
call TimerStart(t1, 0.03, true, function Trig_ice_attack_Move1)
call SaveInteger(udg_hash, h, 5, - 1 * LoadInteger(udg_hash, h, 5))
call SaveInteger(udg_hash, h, 4, kol - 1)
else
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, h)
endif
set t1=null
set t=null
set GT=null
endfunction
function Trig_ice_attack_Actions takes nothing returns nothing
local unit GT=GetTriggerUnit()
local timer t=CreateTimer()
local integer h=GetHandleId(t)
call SaveUnitHandle(udg_hash, h, 1, GT)
call SaveInteger(udg_hash, h, 4, 28)
call SaveInteger(udg_hash, h, 5, 1)
call TimerStart(t, 0.25, true, function Trig_ice_attack_Create)
set t=null
set GT=null
endfunction
function InitTrig_HeroSkillR31 takes nothing returns nothing
set gg_trg_HeroSkillR31=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroSkillR31, Condition(function Trig_ice_attack_Conditions))
call TriggerAddAction(gg_trg_HeroSkillR31, function Trig_ice_attack_Actions)
endfunction
function HeroW32 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real r=LoadReal(udg_hash, Id, 1)
call UnitRemoveAbility(u, 0x41304731)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - r)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroSkills32_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local unit u2
local real dmg
local real L
local real L2
local real r
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
if Skill == 0x41304656 then
set dmg=20 + 15 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.10
set r=udg_ItemBonusDMG[n]
set L2=6
loop
exitwhen r < 150
set L2=L2 + 1
set r=r - 150
endloop
set L=1
loop
exitwhen L > L2
set x2=x + 40 * Cos(L * ( 360 / L2 ) * bj_DEGTORAD)
set y2=y + 40 * Sin(L * ( 360 / L2 ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u2), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitAddAbility(u2, 0x41304657)
call UnitApplyTimedLife(u2, 0x42544C46, 2.00)
call IssuePointOrderById(u2, Order_carrionswarm, x2, y2)
set L=L + 1
endloop
elseif Skill == 0x41304730 then
set dmg=0.15 * I2R(GetUnitAbilityLevel(u, Skill))
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) + dmg)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", u, "origin"))
call UnitAddAbility(u, 0x41304731)
call SetUnitVertexColor(u, 125, 125, 255, 255)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, dmg)
call TimerStart(t, 6, false, function HeroW32)
endif
set u=null
set pl=null
set t=null
set u2=null
endfunction
function InitTrig_HeroSkills32 takes nothing returns nothing
set gg_trg_HeroSkills32=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills32, function Trig_HeroSkills32_Actions)
endfunction
function Hero33Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer count=LoadInteger(udg_hash, Id, 1)
local real dmg=LoadReal(udg_hash, Id, 1)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real x2
local real y2
local group ug
local group ug2
local group CheckGroup=LoadGroupHandle(udg_hash, Id, 3)
local integer L=0
local texttag text
set count=count - 1
if count <= 0 then
if GetUnitTypeId(u) == 0x45303133 then
call UnitRemoveAbility(u, 0x41303342)
else
call UnitRemoveAbility(u, 0x41304751)
endif
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
call PauseTimer(t)
call DestroyTimer(t)
set x=LoadReal(udg_hash, Id, 2)
set y=LoadReal(udg_hash, Id, 3)
set dmg=LoadReal(udg_hash, Id, 4)
call SetUnitX(u, x)
call SetUnitY(u, y)
call SetUnitFacing(u, dmg)
call PauseUnit(u, false)
call SetUnitInvulnerable(u, false)
call SetUnitTimeScale(u, 1.00)
call GroupClear(CheckGroup)
call DestroyGroup(CheckGroup)
call FlushChildHashtable(udg_hash, Id)
else
set x2=PolarX(x , 100 , GetUnitFacing(u2) + 180)
set y2=PolarY(y , 100 , GetUnitFacing(u2) + 180)
call SetUnitX(u, x2)
call SetUnitY(u, y2)
call SetUnitFacing(u, GetUnitFacing(u2))
call SetUnitAnimation(u, "attack")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", x2, y2))
if IsUnitInGroup(u2, CheckGroup) then
set dmg=dmg * 0.50
else
call GroupAddUnit(CheckGroup, u2)
endif
if GetUnitAbilityLevel(u, 0x41304755) > 0 then
set L=GetRandomInt(1, 100)
if L <= 25 then
set dmg=dmg * ( 1.25 + 0.25 * I2R(GetUnitAbilityLevel(u, 0x41304754)) + LoadReal(udg_hash, GetHandleId(u), 7) )
set text=CreateTextTagUnitBJ("|cFFFF7D00" + I2S(R2I(dmg)) + "!", u, 0, 10, 100, 100, 100, 0)
call SetTextTagVelocity(text, 75.00, 90)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
if GetUnitAbilityLevel(u, 0x4130444C) == 1 then
set count=count + 1
endif
endif
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
if GetUnitAbilityLevel(u, 0x4130444C) == 1 and IsDead(u2) then
set count=count + 1
endif
set L=0
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false and IsUnitInGroup(u2, CheckGroup) == false then
call GroupAddUnit(ug2, u2)
set L=L + 1
endif
call GroupRemoveUnit(ug, u2)
endloop
if L == 0 then
call GroupEnumUnitsInRange(ug, x, y, 400, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) and IsUnitType(u2, UNIT_TYPE_STRUCTURE) == false then
call GroupAddUnit(ug2, u2)
set L=L + 1
endif
call GroupRemoveUnit(ug, u2)
endloop
if L == 0 then
set count=0
else
set ug2=GetRandomSubGroup(1, ug2)
set u2=FirstOfGroup(ug2)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call GroupRemoveUnit(ug2, u2)
endif
else
set ug2=GetRandomSubGroup(1, ug2)
set u2=FirstOfGroup(ug2)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call GroupRemoveUnit(ug2, u2)
endif
call DestroyGroup(ug)
call GroupClear(ug2)
call DestroyGroup(ug2)
call SaveInteger(udg_hash, Id, 1, count)
call SaveGroupHandle(udg_hash, Id, 3, CheckGroup)
endif
set u=null
set u2=null
set pl=null
set ug=null
set ug2=null
set CheckGroup=null
set text=null
set t=null
endfunction
function HeroR33_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer count=LoadInteger(udg_hash, Id, 1)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call UnitRemoveAbility(u, 0x41436D32)
call UnitRemoveAbility(u, 0x41303152)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - count)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero33R_Bladestorm takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer count=LoadInteger(udg_hash, Id, 1)
local real aoe=LoadReal(udg_hash, Id, 2)
local real dmg=LoadReal(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit u3
local texttag text
local integer L=0
local group ug=CreateGroup()
if GetUnitAbilityLevel(u, 0x41304755) > 0 then
set L=GetRandomInt(1, 100)
if L <= 25 then
set dmg=dmg * ( 1.25 + 0.25 * I2R(GetUnitAbilityLevel(u, 0x41304754)) + LoadReal(udg_hash, GetHandleId(u), 7) )
set text=CreateTextTagUnitBJ("|cFFFF7D00" + I2S(R2I(dmg)) + "!", u, 0, 10, 100, 100, 100, 0)
call SetTextTagVelocity(text, 75.00, 90)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
endif
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitEnemy(u3, pl) and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
if count == 0 then
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) - 0.25)
call SaveInteger(udg_hash, GetHandleId(u), 7, 0)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
call SaveReal(udg_hash, Id, 2, aoe + 7.5)
endif
set t=null
set u=null
set pl=null
set u3=null
set text=null
set ug=null
call DestroyGroup(ug)
endfunction
function Trig_HeroSkills33_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Skill=GetSpellAbilityId()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local unit u2
local real dmg
local integer L
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if Skill == 0x41304356 then
call UnitRemoveAbility(u, 0x41304357)
call UnitAddAbility(u, 0x4130474F)
elseif Skill == 0x41304430 then
call UnitRemoveAbility(u, 0x41304357)
call UnitAddAbility(u, 0x4130444C)
elseif Skill == 0x4130444D then
call UnitRemoveAbility(u, 0x41304357)
call UnitAddAbility(u, 0x4130444E)
endif
if Skill == 0x41304750 then
set dmg=20 + 20 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.20 + LoadReal(udg_hash, GetHandleId(u), 16) * 4.00
if GetUnitTypeId(u) == 0x45303133 then
call UnitAddAbility(u, 0x41303342)
else
call UnitAddAbility(u, 0x41304751)
endif
set u2=GetSpellTargetUnit()
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
set L=5 + GetUnitAbilityLevel(u, Skill)
if GetUnitAbilityLevel(u, 0x41303152) == 1 then
set L=L * 2
endif
call SaveInteger(udg_hash, GetHandleId(u), 7, 1)
call SaveInteger(udg_hash, Id, 1, L + 1)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveReal(udg_hash, Id, 2, x)
call SaveReal(udg_hash, Id, 3, y)
call SaveReal(udg_hash, Id, 4, GetUnitFacing(u))
call SaveGroupHandle(udg_hash, Id, 3, CreateGroup())
call PauseUnit(u, true)
call SetUnitInvulnerable(u, true)
call SetUnitTimeScale(u, 3.00)
call TimerStart(t, 0.15, true, function Hero33Q)
elseif Skill == 0x41304754 then
call UnitAddAbility(u, 0x41304755)
call SetUnitAbilityLevel(u, 0x41304755, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41304755)
call TimerStart(t, 10, false, function RemoveBuff)
elseif Skill == 0x41304753 then
set dmg=( 75 + udg_ItemBonusDMG[n] * 0.30 + LoadReal(udg_hash, GetHandleId(u), 16) * 3.00 ) * 0.20
call SaveReal(udg_hash, GetHandleId(u), 4, LoadReal(udg_hash, GetHandleId(u), 4) + 0.25)
call SaveInteger(udg_hash, GetHandleId(u), 7, 1)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 40)
call SaveReal(udg_hash, Id, 2, 200)
call SaveReal(udg_hash, Id, 1, dmg)
call TimerStart(t, 0.20, true, function Hero33R_Bladestorm)
elseif Skill == 0x41303153 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", u, "origin"))
call SetUnitVertexColor(u, 255, 70, 70, 125)
set L=GetHeroAgi(u, true)
call UnitAddAbility(u, 0x41436D32)
call UnitAddAbility(u, 0x41303152)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + L)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, L)
call TimerStart(t, 18, true, function HeroR33_End)
endif
set u=null
set pl=null
set t=null
set u2=null
endfunction
function InitTrig_HeroSkills33 takes nothing returns nothing
set gg_trg_HeroSkills33=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills33, function Trig_HeroSkills33_Actions)
endfunction
function Hero33E_1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real dmg=LoadReal(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - dmg
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set pl=null
endfunction
function Hero33E_2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer L=LoadInteger(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
call SetHeroAgi(u, GetHeroAgi(u, false) - L, true)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set pl=null
endfunction
function Trig_HeroKills33_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local unit u2=GetDyingUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg
local integer L=0
local timer t
local integer Id
if GetUnitTypeId(u) == 0x4F30314F or GetUnitTypeId(u) == 0x45303133 then
if IsUnitType(u2, UNIT_TYPE_HERO) and GetUnitAbilityLevel(u, 0x4130474F) == 1 then
if GetHeroLevel(u) == 16 then
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[udg_n] + 25.00
else
call SetHeroLevel(u, GetHeroLevel(u) + 1, true)
endif
endif
if IsUnitType(u2, UNIT_TYPE_HERO) and GetUnitAbilityLevel(u, 0x4130444C) == 1 then
call SaveReal(udg_hash, GetHandleId(u), 16, LoadReal(udg_hash, GetHandleId(u), 16) + 2.5)
endif
if IsUnitType(u2, UNIT_TYPE_HERO) and GetUnitAbilityLevel(u, 0x4130444E) == 1 then
call SaveReal(udg_hash, GetHandleId(u), 7, LoadReal(udg_hash, GetHandleId(u), 7) + 0.15)
endif
if GetUnitAbilityLevel(u, 0x41304752) > 0 then
if GetUnitAbilityLevel(u, 0x4130444E) == 1 and GetUnitAbilityLevel(u, 0x41304755) > 0 then
if LoadInteger(udg_hash, GetHandleId(u), 7) == 1 then
set dmg=8.00 + GetUnitAbilityLevel(u, 0x41304752) * 8.00
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + dmg
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 2, dmg)
call TimerStart(t, 10, false, function Hero33E_1)
else
set L=( 1 + GetUnitAbilityLevel(u, 0x41304752) ) * 2
call SetHeroAgi(u, GetHeroAgi(u, false) + L, true)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, L)
call TimerStart(t, 5, false, function Hero33E_2)
endif
else
if LoadInteger(udg_hash, GetHandleId(u), 7) == 1 then
set dmg=4.00 + GetUnitAbilityLevel(u, 0x41304752) * 4.00
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + dmg
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 2, dmg)
call TimerStart(t, 10, false, function Hero33E_1)
else
set L=1 + GetUnitAbilityLevel(u, 0x41304752)
call SetHeroAgi(u, GetHeroAgi(u, false) + L, true)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, L)
call TimerStart(t, 5, false, function Hero33E_2)
endif
endif
endif
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroKills33 takes nothing returns nothing
set gg_trg_HeroKills33=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills33, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroKills33, function Trig_HeroKills33_Actions)
endfunction
function Hero34Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit u3
local unit hero=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(hero)
local integer count=LoadInteger(udg_hash, Id, 1)
local integer n=GetPlayerId(pl) + 1
local real dmg=5 + 5 * I2R(GetUnitAbilityLevel(hero, 0x41304758)) + udg_ItemBonusDMG[n] * 0.04
local group ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 135, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(hero, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(udg_ug)
set count=count - 1
if count == 0 then
call RemoveUnit(u)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set u3=null
set ug=null
set hero=null
set pl=null
endfunction
function Hero34R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local integer L
local unit u3
local unit hero=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(hero)
local integer n=GetPlayerId(pl) + 1
local real dmg=350 + udg_ItemBonusDMG[n] * 1.25
local group ug=CreateGroup()
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x, y))
set L=1
loop
exitwhen L > 6
set x2=x + 250 * Cos(60 * I2R(L) * bj_DEGTORAD)
set y2=y + 250 * Sin(60 * I2R(L) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x2, y2))
set L=L + 1
endloop
call GroupEnumUnitsInRange(ug, x, y, 405, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(hero, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call KillUnit(u)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u3=null
set ug=null
set hero=null
set pl=null
endfunction
function Trig_HeroSkills34_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local real x2
local real y2
local real angle
local integer count
local integer L
local real dmg
local group ug
if Skill == 0x41304758 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set count=36 + R2I(udg_ItemBonusDMG[n] * 0.04)
set L=1
loop
exitwhen L > 3
set angle=GetUnitFacing(u) + 120 * I2R(L)
set x2=x + 175 * Cos(angle * bj_DEGTORAD)
set y2=y + 175 * Sin(angle * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303151, x2, y2, 270)
if udg_ItemBonusDMG[n] >= 300 then
call UnitAddAbility(u2, 0x53303038)
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 0.5, true, function Hero34Q)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveUnitHandle(udg_hash, Id, 2, u)
call SaveInteger(udg_hash, Id, 1, count)
set L=L + 1
endloop
elseif Skill == 0x41303151 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=x + 128 * Cos(GetUnitFacing(u) * bj_DEGTORAD)
set y2=y + 128 * Sin(GetUnitFacing(u) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", x2, y2))
set u2=CreateUnit(pl, 0x68303249, x2, y2, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.25) + 275 + 175 * GetUnitAbilityLevel(u, Skill)
call SetUnitLife(u2 , count)
set count=20 + 14 * GetUnitAbilityLevel(u, Skill) + R2I(udg_ItemBonusDMG[n] * 0.10)
call SetUnitBaseDamage(u2 , count - 1)
set count=1 + GetUnitAbilityLevel(u, Skill)
call SetUnitExtraArmor(u2 , count)
call SetUnitLifeRegeneration(u2 , 2.0)
if UnitHasItemOfTypeBJ(u, 0x73686561) == true then
call SetUnitAttackSpeed(u2 , 30)
endif
if udg_ItemBonusDMG[n] >= 150 then
call UnitRemoveAbility(u2, 0x41304341)
call UnitAddAbility(u2, 0x41304759)
call SetUnitAbilityLevel(u2, 0x41304759, GetUnitAbilityLevel(u, 0x4130354C))
endif
if udg_ItemBonusDMG[n] >= 300 then
call UnitRemoveAbility(u2, 0x41304342)
call UnitAddAbility(u2, 0x41303746)
call UnitAddAbility(u2, 0x41303747)
endif
if udg_ItemBonusDMG[n] >= 500 then
call UnitRemoveAbility(u2, 0x41303655)
call UnitAddAbility(u2, 0x41304B45)
call UnitApplyTimedLife(u2, 0x42544C46, 80)
call SetUnitLifeRegeneration(u2 , 14.0)
else
call UnitApplyTimedLife(u2, 0x42544C46, 60)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
elseif Skill == 0x41304831 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6830324A, x, y, GetRandomReal(0, 360))
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 0.7, false, function Hero34R)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveUnitHandle(udg_hash, Id, 2, u)
endif
set u=null
set u2=null
set pl=null
set t=null
set ug=null
endfunction
function InitTrig_HeroSkills34 takes nothing returns nothing
set gg_trg_HeroSkills34=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills34, function Trig_HeroSkills34_Actions)
endfunction
function Trig_HeroAttack34_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303352 and LoadInteger(udg_hash, GetHandleId(GetAttacker()), 40) != 1 and GetUnitAbilityLevel(GetAttacker(), 0x4130475A) != 0
endfunction
function Hero34E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 40, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroAttack34_Actions takes nothing returns nothing
local unit u=GetAttacker()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl)
local unit u2=GetTriggerUnit()
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real r=24 + 6 * I2R(GetUnitAbilityLevel(u, 0x4130475A))
local real dmg=25 + 25 * I2R(GetUnitAbilityLevel(u, 0x4130475A)) + udg_ItemBonusDMG[n] * 0.20
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
local group ug=CreateGroup()
call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) - r)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
call GroupEnumUnitsInRange(ug, x, y, 175, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
if GetUnitAbilityLevel(u2, 0x42303155) == 1 then
call UnitDamageTarget(u, u2, dmg * 1.40, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
set r=6.5 - 0.5 * I2R(GetUnitAbilityLevel(u, 0x4130475A))
call TimerStart(t, r, false, function Hero34E)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, GetHandleId(u), 40, 1)
set ug=null
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroAttack34 takes nothing returns nothing
set gg_trg_HeroAttack34=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack34, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack34, Condition(function Trig_HeroAttack34_Conditions))
call TriggerAddAction(gg_trg_HeroAttack34, function Trig_HeroAttack34_Actions)
endfunction
function Trig_HeroSkills35_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_StormPanda ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills35_Func001Func017002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills35_Func001Func017002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_StormPanda)) == true )
endfunction
function Trig_HeroSkills35_Func001Func017002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills35_Func001Func017002003001(), Trig_HeroSkills35_Func001Func017002003002())
endfunction
function Trig_HeroSkills35_Func001Func018A takes nothing returns nothing
call UnitDamageTargetBJ(udg_StormPanda, GetEnumUnit(), udg_StormPandaRDmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_HeroSkills35_Func001C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304854 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills35_Func002Func009002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_StormPanda)) == true )
endfunction
function Trig_HeroSkills35_Func002Func009002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills35_Func002Func009002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills35_Func002Func009002003001(), Trig_HeroSkills35_Func002Func009002003002())
endfunction
function Trig_HeroSkills35_Func002Func010A takes nothing returns nothing
call UnitDamageTargetBJ(udg_StormPanda, GetEnumUnit(), ( udg_dmg * udg_StormPandaWcof ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_StormPandaWCount=( udg_StormPandaWCount + 1 )
endfunction
function Trig_HeroSkills35_Func002Func012C takes nothing returns boolean
if ( not ( udg_StormPandaWCount > 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills35_Func002C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304834 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills35_Actions takes nothing returns nothing
if ( Trig_HeroSkills35_Func001C() ) then
set udg_StormPandaRLogic=true
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_StormPandaRDmg=( 200.00 + ( udg_ItemBonusDMG[udg_n] * 0.75 ) )
set udg_StormPandaRPoint=GetSpellTargetLoc()
call CreateTextTagLocBJ(( "|cFFED2B27" + I2S(R2I(udg_StormPandaRDmg)) ), udg_StormPandaRPoint, 0, 12.00, 100, 100, 100, 0)
set udg_StormPandaRText=GetLastCreatedTextTag()
call ShowTextTagForceBJ(false, udg_StormPandaRText, GetPlayersAll())
call ShowTextTagForceBJ(true, udg_StormPandaRText, GetForceOfPlayer(GetOwningPlayer(udg_StormPanda)))
call CreateNUnitsAtLoc(1, 0x6F303235, GetOwningPlayer(udg_StormPanda), udg_StormPandaRPoint, GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(10.00, 0x42544C46, GetLastCreatedUnit())
call CreateNUnitsAtLoc(1, 0x6F303236, GetOwningPlayer(udg_StormPanda), udg_StormPandaRPoint, GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(10.00, 0x42544C46, GetLastCreatedUnit())
call PolledWait(10.00)
set udg_StormPandaRLogic=false
call DestroyTextTagBJ(udg_StormPandaRText)
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_ug=GetUnitsInRangeOfLocMatching(350.00, udg_StormPandaRPoint, Condition(function Trig_HeroSkills35_Func001Func017002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills35_Func001Func018A)
call DestroyGroup(udg_ug)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", udg_StormPandaRPoint))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Conflagrate Blue.mdx", udg_StormPandaRPoint))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
set udg_p3=PolarProjectionBJ(udg_StormPandaRPoint, 250.00, ( I2R(GetForLoopIndexA()) * 60.00 ))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", udg_p3))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Conflagrate Blue.mdx", udg_p3))
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
endif
if ( Trig_HeroSkills35_Func002C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_dmg=( ( 30.00 + ( 30.00 * I2R(GetUnitAbilityLevel(udg_StormPanda, 0x41304834)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.18 ) )
set udg_p=GetUnitLoc(udg_StormPanda)
set udg_StormPandaWPoint=GetSpellTargetLoc()
set udg_StormPandaWAngle=AngleBetweenPoints(udg_p, udg_StormPandaWPoint)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Electric Spark - Classic.mdx", udg_StormPandaWPoint))
set udg_StormPandaWCount=0
set udg_StormPandaWcof=1.00
set udg_ug=GetUnitsInRangeOfLocMatching(205.00, udg_StormPandaWPoint, Condition(function Trig_HeroSkills35_Func002Func009002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills35_Func002Func010A)
call DestroyGroup(udg_ug)
if ( Trig_HeroSkills35_Func002Func012C() ) then
call StartTimerBJ(udg_StormPandaWTimer, true, 0.30)
else
endif
else
endif
endfunction
function InitTrig_HeroSkills35 takes nothing returns nothing
set gg_trg_HeroSkills35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills35, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills35, Condition(function Trig_HeroSkills35_Conditions))
call TriggerAddAction(gg_trg_HeroSkills35, function Trig_HeroSkills35_Actions)
endfunction
function Trig_HeroKills35_Func001C takes nothing returns boolean
if ( not ( GetKillingUnit() == udg_StormPanda ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills35_Func002Func002C takes nothing returns boolean
if ( not ( DistanceBetweenPoints(udg_StormPandaRPoint, udg_p) <= 350.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills35_Func002C takes nothing returns boolean
if ( not ( udg_StormPandaRLogic == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills35_Actions takes nothing returns nothing
if ( Trig_HeroKills35_Func001C() ) then
call SetUnitManaPercentBJ(udg_StormPanda, ( GetUnitManaPercent(udg_StormPanda) + 1 ))
else
endif
if ( Trig_HeroKills35_Func002C() ) then
set udg_p=GetUnitLoc(GetDyingUnit())
if ( Trig_HeroKills35_Func002Func002C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_StormPandaRDmg=( udg_StormPandaRDmg + ( 16.00 + ( udg_ItemBonusDMG[udg_n] * 0.06 ) ) )
call DestroyTextTagBJ(udg_StormPandaRText)
call CreateTextTagLocBJ(( "|cFFED2B27" + I2S(R2I(udg_StormPandaRDmg)) ), udg_StormPandaRPoint, 0, 12.00, 100, 100, 100, 0)
set udg_StormPandaRText=GetLastCreatedTextTag()
call ShowTextTagForceBJ(false, udg_StormPandaRText, GetPlayersAll())
call ShowTextTagForceBJ(true, udg_StormPandaRText, GetForceOfPlayer(GetOwningPlayer(udg_StormPanda)))
else
endif
else
endif
endfunction
function InitTrig_HeroKills35 takes nothing returns nothing
set gg_trg_HeroKills35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills35, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroKills35, function Trig_HeroKills35_Actions)
endfunction
function Trig_Hero35W_Func006C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 300.00 ) ) then
return false
endif
return true
endfunction
function Trig_Hero35W_Func007002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_StormPanda)) == true )
endfunction
function Trig_Hero35W_Func007002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_Hero35W_Func007002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Hero35W_Func007002003001(), Trig_Hero35W_Func007002003002())
endfunction
function Trig_Hero35W_Func008A takes nothing returns nothing
call UnitDamageTargetBJ(udg_StormPanda, GetEnumUnit(), ( udg_dmg * udg_StormPandaWcof ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_StormPandaWCount=( udg_StormPandaWCount + 1 )
endfunction
function Trig_Hero35W_Func010C takes nothing returns boolean
if ( not ( udg_StormPandaWCount == 0 ) ) then
return false
endif
return true
endfunction
function Trig_Hero35W_Actions takes nothing returns nothing
set udg_StormPandaWPoint=PolarProjectionBJ(udg_StormPandaWPoint, 200.00, udg_StormPandaWAngle)
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_dmg=( ( 30.00 + ( 30.00 * I2R(GetUnitAbilityLevel(udg_StormPanda, 0x41304834)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.18 ) )
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Electric Spark - Classic.mdx", udg_StormPandaWPoint))
set udg_StormPandaWCount=0
if ( Trig_Hero35W_Func006C() ) then
set udg_StormPandaWcof=( udg_StormPandaWcof + 0.10 )
else
endif
set udg_ug=GetUnitsInRangeOfLocMatching(205.00, udg_StormPandaWPoint, Condition(function Trig_Hero35W_Func007002003))
call ForGroupBJ(udg_ug, function Trig_Hero35W_Func008A)
call DestroyGroup(udg_ug)
if ( Trig_Hero35W_Func010C() ) then
call PauseTimer(udg_StormPandaWTimer)
else
endif
endfunction
function InitTrig_Hero35W takes nothing returns nothing
set gg_trg_Hero35W=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Hero35W, udg_StormPandaWTimer)
call TriggerAddAction(gg_trg_Hero35W, function Trig_Hero35W_Actions)
endfunction
function Trig_Hero35D_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41304843
endfunction
function Trig_Hero35D_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_Hero35DAttack)
call TriggerSleepAction(8.0)
call DisableTrigger(gg_trg_Hero35DAttack)
endfunction
function InitTrig_Hero35D takes nothing returns nothing
set gg_trg_Hero35D=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hero35D, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hero35D, Condition(function Trig_Hero35D_Conditions))
call TriggerAddAction(gg_trg_Hero35D, function Trig_Hero35D_Actions)
endfunction
function Trig_Hero35DAttack_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303353
endfunction
function Enemy takes nothing returns boolean
return IsDead(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) == true
endfunction
function Damage takes nothing returns nothing
local real dmg=( ( GetHeroInt(GetAttacker(), true) * 1.5 ) + ( udg_ItemBonusDMG[GetPlayerId(GetOwningPlayer(GetAttacker())) + 1] * 0.2 ) )
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_Hero35DAttack_Actions takes nothing returns nothing
local unit t=GetTriggerUnit()
local group g=CreateGroup()
local real x=GetUnitX(t)
local real y=GetUnitY(t)
local integer random=GetRandomInt(1, 10)
local integer a=0
if GetUnitAbilityLevel(GetAttacker(), 0x41304854) == 1 then
set a=5
else
set a=3
endif
if random <= a then
call TriggerSleepAction(1.0)
call GroupEnumUnitsInRange(g, x, y, 200, Condition(function Enemy))
if FirstOfGroup(g) != null then
call ForGroup(g, function Damage)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\Singularity I Blue.mdx", x, y))
endif
call DestroyGroup(g)
set t=null
set g=null
endfunction
function InitTrig_Hero35DAttack takes nothing returns nothing
set gg_trg_Hero35DAttack=CreateTrigger()
call DisableTrigger(gg_trg_Hero35DAttack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hero35DAttack, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Hero35DAttack, Condition(function Trig_Hero35DAttack_Conditions))
call TriggerAddAction(gg_trg_Hero35DAttack, function Trig_Hero35DAttack_Actions)
endfunction
function Trig_HeroAttack35_Conditions takes nothing returns boolean
if ( not ( GetAttacker() == udg_StormPanda ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack35_Func003Func006C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 300.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack35_Func003Func010C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 150.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack35_Func003Func011C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 500.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack35_Func003C takes nothing returns boolean
if ( not ( GetUnitAbilityLevel(udg_StormPanda, 0x41304855) >= 1 ) ) then
return false
endif
if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack35_Actions takes nothing returns nothing
if ( Trig_HeroAttack35_Func003C() ) then
call DisableTrigger(GetTriggeringTrigger())
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_StormPanda))
set udg_p=GetUnitLoc(udg_StormPanda)
call CreateNUnitsAtLoc(1, 0x6F303130, GetOwningPlayer(udg_StormPanda), udg_p, GetUnitFacing(udg_StormPanda))
call UnitAddAbility(GetLastCreatedUnit(), 0x41304853)
if ( Trig_HeroAttack35_Func003Func006C() ) then
call SetUnitAbilityLevel(GetLastCreatedUnit(), 0x41304853, ( GetUnitAbilityLevel(udg_StormPanda, 0x41304855) + 5 ))
else
call SetUnitAbilityLevel(GetLastCreatedUnit(), 0x41304853, ( GetUnitAbilityLevel(udg_StormPanda, 0x41304855) + 0 ))
endif
call UnitApplyTimedLifeBJ(2.00, 0x42544C46, GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(), "forkedlightning", GetAttackedUnitBJ())
call RemoveLocation(udg_p)
if ( Trig_HeroAttack35_Func003Func010C() ) then
call SetUnitLifePercentBJ(udg_StormPanda, ( GetUnitLifePercent(udg_StormPanda) + 5.00 ))
else
endif
if ( Trig_HeroAttack35_Func003Func011C() ) then
call PolledWait(7.00)
else
call PolledWait(9.00)
endif
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_HeroAttack35 takes nothing returns nothing
set gg_trg_HeroAttack35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack35, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack35, Condition(function Trig_HeroAttack35_Conditions))
call TriggerAddAction(gg_trg_HeroAttack35, function Trig_HeroAttack35_Actions)
endfunction
function Trig_Hero35Q_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41304833
endfunction
function FilterQ takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetSpellAbilityUnit())) == true and IsDead(GetFilterUnit()) == false
endfunction
function Damage_Q takes nothing returns nothing
local integer lvl=GetUnitAbilityLevel(GetSpellAbilityUnit(), 0x41304833)
local real dmg=( 40 + ( 40 * lvl ) + ( udg_ItemBonusDMG[GetPlayerId(GetOwningPlayer(GetSpellAbilityUnit())) + 1] * 0.35 ) )
call UnitDamageTarget(GetSpellAbilityUnit(), GetEnumUnit(), dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_Hero35Q_Actions takes nothing returns nothing
local group g=CreateGroup()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call GroupEnumUnitsInRange(g, x, y, 255, Condition(function FilterQ))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Stormfall.mdl", x, y))
if FirstOfGroup(g) != null then
call ForGroup(g, function Damage_Q)
endif
call DestroyGroup(g)
set g=null
endfunction
function InitTrig_Hero35Q takes nothing returns nothing
set gg_trg_Hero35Q=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hero35Q, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hero35Q, Condition(function Trig_Hero35Q_Conditions))
call TriggerAddAction(gg_trg_Hero35Q, function Trig_Hero35Q_Actions)
endfunction
function Trig_HeroSkills36_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Moon ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills36_Func005Func013002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Moon)) == true )
endfunction
function Trig_HeroSkills36_Func005Func013002003002001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills36_Func005Func013002003002002 takes nothing returns boolean
return ( GetFilterUnit() != udg_u2 )
endfunction
function Trig_HeroSkills36_Func005Func013002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills36_Func005Func013002003002001(), Trig_HeroSkills36_Func005Func013002003002002())
endfunction
function Trig_HeroSkills36_Func005Func013002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills36_Func005Func013002003001(), Trig_HeroSkills36_Func005Func013002003002())
endfunction
function Trig_HeroSkills36_Func005Func014A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Moon, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_HeroSkills36_Func005Func016Func002002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Moon)) == true )
endfunction
function Trig_HeroSkills36_Func005Func016Func002002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills36_Func005Func016Func002002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills36_Func005Func016Func002002003001(), Trig_HeroSkills36_Func005Func016Func002002003002())
endfunction
function Trig_HeroSkills36_Func005Func016Func003A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(), 0x41304A54)
endfunction
function Trig_HeroSkills36_Func005Func016Func005A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(), 0x41304A54)
endfunction
function Trig_HeroSkills36_Func005Func016C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 250.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills36_Func005C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A53 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills36_Func006C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A51 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills36_Func007C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A55 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills36_Actions takes nothing returns nothing
local location p
local location p2
local unit u
local unit u2
if ( Trig_HeroSkills36_Func005C() ) then
set u=GetSpellAbilityUnit()
set u2=GetSpellTargetUnit()
set p=GetUnitLoc(u)
set p2=GetUnitLoc(u2)
call TriggerSleepAction(( DistanceBetweenPoints(p, p2) / 1300.00 ))
set udg_u2=u2
set udg_p2=GetUnitLoc(udg_u2)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", udg_p2))
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Moon))
set udg_dmg=( ( 30.00 + ( 40.00 * I2R(GetUnitAbilityLevel(udg_Moon, 0x41304A53)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.40 ) )
call UnitDamageTargetBJ(udg_Moon, udg_u2, udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_dmg=( ( 15.00 + ( 25.00 * I2R(GetUnitAbilityLevel(udg_Moon, 0x41304A53)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.30 ) )
set udg_ug=GetUnitsInRangeOfLocMatching(275.00, udg_p2, Condition(function Trig_HeroSkills36_Func005Func013002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills36_Func005Func014A)
call DestroyGroup(udg_ug)
if ( Trig_HeroSkills36_Func005Func016C() ) then
set udg_MoonDisarm=GetUnitsInRangeOfLocMatching(275.00, udg_p2, Condition(function Trig_HeroSkills36_Func005Func016Func002002003))
call ForGroupBJ(udg_MoonDisarm, function Trig_HeroSkills36_Func005Func016Func003A)
call PolledWait(6.00)
call ForGroupBJ(udg_MoonDisarm, function Trig_HeroSkills36_Func005Func016Func005A)
call GroupClear(udg_MoonDisarm)
else
endif
else
endif
if ( Trig_HeroSkills36_Func006C() ) then
call UnitAddAbility(udg_Moon, 0x41304A52)
call SetUnitAbilityLevel(udg_Moon, 0x41304A52, GetUnitAbilityLevel(udg_Moon, 0x41304A51))
call PolledWait(11.00)
call UnitRemoveAbility(udg_Moon, 0x41304A52)
else
endif
if ( Trig_HeroSkills36_Func007C() ) then
set udg_MoonRLogic=true
set udg_MoonRCount=40
set udg_MoonRPoint=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1, 0x6F303156, GetOwningPlayer(udg_Moon), udg_MoonRPoint, bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(16.00, 0x42544C46, GetLastCreatedUnit())
call StartTimerBJ(udg_MoonRTimer, true, 0.40)
else
endif
call RemoveLocation(p)
call RemoveLocation(p2)
set p=null
set p2=null
set u=null
set u2=null
endfunction
function InitTrig_HeroSkills36 takes nothing returns nothing
set gg_trg_HeroSkills36=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills36, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills36, Condition(function Trig_HeroSkills36_Conditions))
call TriggerAddAction(gg_trg_HeroSkills36, function Trig_HeroSkills36_Actions)
endfunction
function Trig_HeroAttack36_Conditions takes nothing returns boolean
if ( not ( GetAttacker() == udg_Moon ) ) then
return false
endif
if ( not ( IsUnitEnemy(GetAttackedUnitBJ(), GetOwningPlayer(udg_Moon)) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack36_Func001Func002C takes nothing returns boolean
if ( not ( GetAttackedUnitBJ() != udg_MoonETarget ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack36_Func001Func007Func004C takes nothing returns boolean
if ( not ( DistanceBetweenPoints(udg_p, udg_p2) <= 405.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack36_Func001Func007C takes nothing returns boolean
if ( not ( udg_MoonRLogic == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack36_Func001C takes nothing returns boolean
if ( not ( GetUnitAbilityLevelSwapped(0x41303243, udg_Moon) >= 1 ) ) then
return false
endif
if ( not ( udg_MoonE == false ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack36_Actions takes nothing returns nothing
if ( Trig_HeroAttack36_Func001C() ) then
set udg_MoonE=true
if ( Trig_HeroAttack36_Func001Func002C() ) then
set udg_MoonEDmg=1.00
else
endif
set udg_MoonETarget=GetAttackedUnitBJ()
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Moon))
set udg_dmg=( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Moon, true)) * ( 0.70 + ( 0.30 * I2R(GetUnitAbilityLevel(udg_Moon, 0x41303243)) ) ) )
set udg_dmg=( udg_dmg * udg_MoonEDmg )
if ( Trig_HeroAttack36_Func001Func007C() ) then
set udg_p=GetUnitLoc(udg_Moon)
set udg_p2=GetUnitLoc(GetAttackedUnitBJ())
if ( Trig_HeroAttack36_Func001Func007Func004C() ) then
call UnitDamageTargetBJ(udg_Moon, udg_MoonETarget, udg_dmg, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(udg_Moon, udg_MoonETarget, udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endif
else
call UnitDamageTargetBJ(udg_Moon, udg_MoonETarget, udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endif
call AddSpecialEffectTargetUnitBJ("origin", udg_MoonETarget, "war3mapImported\\Smite Blue.mdx")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_MoonEDmg=( udg_MoonEDmg + 0.20 )
call PolledWait(5.00)
set udg_MoonE=false
else
endif
endfunction
function InitTrig_HeroAttack36 takes nothing returns nothing
set gg_trg_HeroAttack36=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack36, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack36, Condition(function Trig_HeroAttack36_Conditions))
call TriggerAddAction(gg_trg_HeroAttack36, function Trig_HeroAttack36_Actions)
endfunction
function Trig_HeroTimerR36_Func003002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Moon)) == true )
endfunction
function Trig_HeroTimerR36_Func003002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroTimerR36_Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroTimerR36_Func003002003001(), Trig_HeroTimerR36_Func003002003002())
endfunction
function Trig_HeroTimerR36_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Moon, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Trig_HeroTimerR36_Func008C takes nothing returns boolean
if ( not ( udg_MoonRCount <= 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimerR36_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Moon))
set udg_dmg=( ( 30.00 + ( udg_ItemBonusDMG[udg_n] * 0.10 ) ) + ( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Moon, true)) * 0.50 ) )
set udg_ug=GetUnitsInRangeOfLocMatching(405.00, udg_MoonRPoint, Condition(function Trig_HeroTimerR36_Func003002003))
set udg_ug=GetRandomSubGroup(3, udg_ug)
call ForGroupBJ(udg_ug, function Trig_HeroTimerR36_Func005A)
call DestroyGroup(udg_ug)
set udg_MoonRCount=( udg_MoonRCount - 1 )
if ( Trig_HeroTimerR36_Func008C() ) then
call PauseTimer(udg_MoonRTimer)
set udg_MoonRLogic=false
else
endif
endfunction
function InitTrig_HeroTimerR36 takes nothing returns nothing
set gg_trg_HeroTimerR36=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroTimerR36, udg_MoonRTimer)
call TriggerAddAction(gg_trg_HeroTimerR36, function Trig_HeroTimerR36_Actions)
endfunction
function Hero37Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit hero=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(hero)
local integer n=GetPlayerId(pl) + 1
local unit u=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local integer count=LoadInteger(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local real dmg=10 + 10 * I2R(GetUnitAbilityLevel(hero, 0x41304D31)) + udg_ItemBonusDMG[n] * 0.10
local real r=235
if GetUnitAbilityLevel(u, 0x53303043) == 1 then
set dmg=dmg * 0.40
set r=300
endif
call GroupEnumUnitsInRange(ug, x, y, r, null)
if GetUnitAbilityLevel(hero, 0x41304D47) == 1 then
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
if GetUnitAbilityLevel(u3, 0x42456572) == 1 then
call UnitDamageTarget(hero, u3, dmg * 2.25, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(hero, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
else
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(hero, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
endif
call DestroyGroup(ug)
set count=count - 1
if count == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
elseif count == 5 then
call KillUnit(u)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set u3=null
set hero=null
set ug=null
set pl=null
endfunction
function Hero37W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
local real dmg=( 6 + 6 * I2R(GetUnitAbilityLevel(u, 0x41304D32)) + udg_ItemBonusDMG[n] * 0.09 ) * 0.25
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if GetUnitAbilityLevel(u2, 0x42456572) == 0 then
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
set t=null
set u=null
set u2=null
endfunction
function Hero37E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 1)
local integer n=GetPlayerId(GetOwningPlayer(u)) + 1
local real r=( 150 + 150 * I2R(GetUnitAbilityLevel(u, 0x41304D32)) + udg_ItemBonusDMG[n] * 1.15 ) / 60.0
local real r2=( 40 + 40 * I2R(GetUnitAbilityLevel(u, 0x41304D32)) + udg_ItemBonusDMG[n] * 0.20 ) / 60.0
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_LIFE) + r)
call SetUnitState(u2, UNIT_STATE_MANA, GetUnitState(u2, UNIT_STATE_MANA) + r2)
set count=count - 1
if count == 0 or IsDead(u2) == true then
if LoadInteger(udg_hash, Id, 2) == 1 then
call SetUnitAttackSpeed(u2 , GetUnitAttackSpeed(u2) - 75)
endif
if LoadInteger(udg_hash, Id, 2) == 2 then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) - 10)
endif
call DestroyEffect(LoadEffectHandle(udg_hash, Id, 3))
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, Id, 1, count)
endif
set t=null
set u=null
set u2=null
endfunction
function Trig_HeroSkills37_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local unit dummy
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local real degrees
local real dmg
local integer count
local group ug
local effect e
if Skill == 0x41304D42 then
call UnitRemoveAbility(u, 0x41304D41)
call UnitAddAbility(u, 0x41304D43)
elseif Skill == 0x41304D44 then
call UnitRemoveAbility(u, 0x41304D41)
call UnitAddAbility(u, 0x41304D45)
call SetPlayerTechResearched(pl, 0x52303250, 1)
elseif Skill == 0x41304D46 then
call UnitRemoveAbility(u, 0x41304D41)
call UnitAddAbility(u, 0x41304D47)
endif
if Skill == 0x41304D31 then
set x2=GetSpellTargetX()
set y2=GetSpellTargetY()
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set u2=CreateUnit(pl, 0x6F303231, x, y, degrees)
if GetUnitTypeId(u) == 0x45303134 then
call SetUnitVertexColor(u2, 50, 50, 50, 255)
endif
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, 0.12, true, function Hero37Q)
if GetUnitAbilityLevel(u, 0x41304D45) == 1 then
call SetUnitAbilityLevel(u2, 0x53303043, 2)
call KnockBackUnit2(u2 , 850 , 3.0 , degrees , 0.03)
call SaveInteger(udg_hash, Id, 1, 25)
else
call KnockBackUnit2(u2 , 1150 , 1.56 , degrees , 0.03)
call SaveInteger(udg_hash, Id, 1, 13)
endif
elseif Skill == 0x41304D32 then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set x2=180 + 20 * I2R(GetUnitAbilityLevel(u, Skill))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, x2, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
set dummy=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(dummy, 0x41304D33)
if GetUnitAbilityLevel(u, 0x41304D47) == 1 then
call SetUnitAbilityLevel(dummy, 0x41304D33, 2)
endif
call IssueTargetOrderById(dummy, Order_entanglingroots, u2)
call UnitApplyTimedLife(dummy, 0x42544C46, 1.00)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, 0.25, true, function Hero37W)
endif
call GroupRemoveUnit(ug, u2)
endloop
call DestroyGroup(ug)
elseif Skill == 0x41304D34 then
set u2=GetSpellTargetUnit()
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 1, 60)
set e=AddSpecialEffectTarget("war3mapImported\\Athelas Green.mdx", u2, "origin")
call SaveEffectHandle(udg_hash, Id, 3, e)
if GetUnitAbilityLevel(u, 0x41304D45) == 1 then
call SetUnitAttackSpeed(u2 , GetUnitAttackSpeed(u2) + 75)
call SaveInteger(udg_hash, Id, 2, 1)
endif
if GetUnitAbilityLevel(u, 0x41304D47) == 1 then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 10)
call SaveInteger(udg_hash, Id, 2, 2)
endif
call TimerStart(t, 0.10, true, function Hero37E)
elseif Skill == 0x41304D36 then
set x2=x + 128 * Cos(GetUnitFacing(u) * bj_DEGTORAD)
set y2=y + 128 * Sin(GetUnitFacing(u) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl", x2, y2))
set u2=CreateUnit(pl, 0x65303050, x2, y2, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.50) + 800
call SetUnitLife(u2 , count)
set count=70 + R2I(udg_ItemBonusDMG[n] * 0.20)
call SetUnitBaseDamage(u2 , count - 1)
if GetUnitAbilityLevel(u, 0x41304D47) == 1 then
call SetUnitExtraArmor(u2 , 10)
call UnitApplyTimedLife(u2, 0x42544C46, 100)
else
call SetUnitExtraArmor(u2 , 5)
call UnitApplyTimedLife(u2, 0x42544C46, 60)
endif
call SetUnitLifeRegeneration(u2 , 5.0)
if UnitHasItemOfTypeBJ(u, 0x73686561) == true then
call SetUnitAttackSpeed(u2 , 30)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
call TriggerRegisterUnitEvent(gg_trg_HeroSkills37, u2, EVENT_UNIT_SPELL_EFFECT)
elseif Skill == 0x41303653 then
set x2=x + 128 * Cos(GetUnitFacing(u) * bj_DEGTORAD)
set y2=y + 128 * Sin(GetUnitFacing(u) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
set u2=CreateUnit(pl, 0x7530314F, x2, y2, GetUnitFacing(u))
set count=R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.50) + 1200
call SetUnitLife(u2 , count)
set count=100 + R2I(udg_ItemBonusDMG[n] * 0.20)
call SetUnitBaseDamage(u2 , count - 1)
if GetUnitAbilityLevel(u, 0x41304D47) == 1 then
call SetUnitExtraArmor(u2 , 15)
call UnitApplyTimedLife(u2, 0x42544C46, 100)
else
call SetUnitExtraArmor(u2 , 10)
call UnitApplyTimedLife(u2, 0x42544C46, 60)
endif
call SetUnitLifeRegeneration(u2 , 15.0)
if UnitHasItemOfTypeBJ(u, 0x73686561) == true then
call SetUnitAttackSpeed(u2 , 30)
endif
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
elseif Skill == 0x41304D39 then
set dmg=115 + udg_ItemBonusDMG[n] * 0.50
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 275, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u2)
endloop
elseif Skill == 0x41304D43 then
set x2=x + 128 * Cos(GetUnitFacing(u) * bj_DEGTORAD)
set y2=y + 128 * Sin(GetUnitFacing(u) * bj_DEGTORAD)
set dmg=400.00 + udg_ItemBonusDMG[n]
loop
exitwhen dmg < 200.00
set u2=CreateUnit(pl, 0x65303038, x2, y2, GetUnitFacing(u))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", u2, "origin"))
call UnitApplyTimedLife(u2, 0x42544C46, 40)
if UnitHasItemOfTypeBJ(u, 0x49303839) == true then
call SetUnitExtraArmor(u2 , GetUnitExtraArmor(u2) + 5)
endif
set dmg=dmg - 200.00
endloop
endif
set u=null
set pl=null
set u2=null
set t=null
set ug=null
set dummy=null
set e=null
endfunction
function InitTrig_HeroSkills37 takes nothing returns nothing
set gg_trg_HeroSkills37=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills37, function Trig_HeroSkills37_Actions)
endfunction
function Trig_HeroSkills38_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Kilrogg ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Func001Func004C takes nothing returns boolean
if ( not ( IsUnitInGroup(udg_KilroggQUnit, udg_KilroggDGroup) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Func001Func012C takes nothing returns boolean
if ( not ( IsUnitType(udg_KilroggQUnit, UNIT_TYPE_HERO) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Func001C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304E51 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Func002C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304E57 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Func003C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304E59 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills38_Actions takes nothing returns nothing
if ( Trig_HeroSkills38_Func001C() ) then
set udg_KilroggQUnit=GetSpellTargetUnit()
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Kilrogg))
set udg_dmg=( ( 125.00 * I2R(GetUnitAbilityLevel(udg_Kilrogg, 0x41304E51)) ) + ( udg_ItemBonusDMG[udg_n] * 0.85 ) )
if ( Trig_HeroSkills38_Func001Func004C() ) then
set udg_dmg=( udg_dmg * 1.30 )
else
endif
call UnitDamageTargetBJ(udg_Kilrogg, udg_KilroggQUnit, udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_p=GetUnitLoc(GetSpellAbilityUnit())
set udg_p2=GetUnitLoc(udg_KilroggQUnit)
set udg_KilroggQUgol=AngleBetweenPoints(udg_p, udg_p2)
call RemoveLocation(udg_p)
call RemoveLocation(udg_p2)
call StartTimerBJ(udg_KilroggTimer[1], true, 0.03)
if ( Trig_HeroSkills38_Func001Func012C() ) then
set udg_KilroggCount[1]=10
else
set udg_KilroggCount[1]=15
endif
else
endif
if ( Trig_HeroSkills38_Func002C() ) then
set udg_KilroggW=( udg_KilroggW + 0.10 )
call StartTimerBJ(udg_KilroggTimer[2], true, 0.50)
set udg_KilroggCount[3]=20
else
endif
if ( Trig_HeroSkills38_Func003C() ) then
call SetUnitVertexColorBJ(udg_Kilrogg, 100.00, 0.00, 0.00, 0.00)
call AddSpecialEffectTargetUnitBJ("chest", udg_Kilrogg, "Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbility(udg_Kilrogg, 0x41304E5A)
call UnitAddAbility(udg_Kilrogg, 0x41304F30)
call PolledWait(12.00)
call UnitRemoveAbility(udg_Kilrogg, 0x41304E5A)
call UnitRemoveAbility(udg_Kilrogg, 0x41304F30)
call UnitRemoveBuffBJ(0x4230324E, udg_Kilrogg)
call SetUnitVertexColorBJ(udg_Kilrogg, 100.00, 100.00, 100.00, 0.00)
else
endif
endfunction
function InitTrig_HeroSkills38 takes nothing returns nothing
set gg_trg_HeroSkills38=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills38, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills38, Condition(function Trig_HeroSkills38_Conditions))
call TriggerAddAction(gg_trg_HeroSkills38, function Trig_HeroSkills38_Actions)
endfunction
function Trig_HeroAttack38_Func003Func002C takes nothing returns boolean
if ( not ( udg_n == 1 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack38_Func003C takes nothing returns boolean
if ( not ( GetUnitAbilityLevel(udg_u, 0x41304E56) == 0 ) ) then
return false
endif
if ( not ( IsUnitEnemy(udg_u, GetOwningPlayer(udg_Kilrogg)) == true ) ) then
return false
endif
if ( not ( udg_u2 == udg_Kilrogg ) ) then
return false
endif
if ( not ( IsUnitInGroup(udg_u2, udg_KilroggDGroup) == false ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack38_Func004C takes nothing returns boolean
if ( not ( udg_u == udg_Kilrogg ) ) then
return false
endif
if ( not ( udg_KilroggD == false ) ) then
return false
endif
if ( not ( GetUnitLifePercent(udg_u2) <= 40.00 ) ) then
return false
endif
if ( not ( IsUnitInGroup(udg_u2, udg_KilroggDGroup) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack38_Func005C takes nothing returns boolean
if ( not ( GetUnitAbilityLevel(udg_Kilrogg, 0x41304E5A) == 1 ) ) then
return false
endif
if ( not ( udg_u == udg_Kilrogg ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack38_Actions takes nothing returns nothing
set udg_u=GetAttacker()
set udg_u2=GetAttackedUnitBJ()
if ( Trig_HeroAttack38_Func003C() ) then
set udg_n=GetRandomInt(1, 10)
if ( Trig_HeroAttack38_Func003Func002C() ) then
call ConditionalTriggerExecute(gg_trg_HeroD38)
else
endif
else
endif
if ( Trig_HeroAttack38_Func004C() ) then
set udg_KilroggD=true
set udg_dmg=I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Kilrogg, true))
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_Kilrogg, udg_u2, udg_dmg, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL)
call PolledWait(1.00)
set udg_KilroggD=false
else
endif
if ( Trig_HeroAttack38_Func005C() ) then
set udg_dmg=( GetUnitState(udg_Kilrogg, UNIT_STATE_LIFE) * 0.05 )
call UnitDamageTargetBJ(udg_Kilrogg, udg_Kilrogg, udg_dmg, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_HeroAttack38 takes nothing returns nothing
set gg_trg_HeroAttack38=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack38, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_HeroAttack38, function Trig_HeroAttack38_Actions)
endfunction
function Trig_HeroD38_Actions takes nothing returns nothing
local unit u
set u=udg_u
call GroupAddUnit(udg_KilroggDGroup, u)
call UnitAddAbility(u, 0x41304E56)
call PolledWait(10.00)
call UnitRemoveAbility(u, 0x41304E56)
call PolledWait(2.50)
call GroupRemoveUnit(udg_KilroggDGroup, u)
set u=null
endfunction
function InitTrig_HeroD38 takes nothing returns nothing
set gg_trg_HeroD38=CreateTrigger()
call DisableTrigger(gg_trg_HeroD38)
call TriggerAddAction(gg_trg_HeroD38, function Trig_HeroD38_Actions)
endfunction
function Trig_HeroTimer38_Q_Func005C takes nothing returns boolean
if ( not ( udg_KilroggCount[2] == 2 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimer38_Q_Func007C takes nothing returns boolean
if ( not ( udg_KilroggCount[1] == 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimer38_Q_Actions takes nothing returns nothing
set udg_p=GetUnitLoc(udg_KilroggQUnit)
set udg_p2=PolarProjectionBJ(udg_p, ( 42.50 - ( I2R(( 15 - udg_KilroggCount[1] )) * 2.50 ) ), udg_KilroggQUgol)
call SetUnitPositionLoc(udg_KilroggQUnit, udg_p2)
set udg_KilroggCount[2]=( udg_KilroggCount[2] + 1 )
if ( Trig_HeroTimer38_Q_Func005C() ) then
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl", udg_p2))
set udg_KilroggCount[2]=0
else
endif
set udg_KilroggCount[1]=( udg_KilroggCount[1] - 1 )
if ( Trig_HeroTimer38_Q_Func007C() ) then
call PauseTimer(udg_KilroggTimer[1])
set udg_KilroggCount[2]=0
else
endif
call RemoveLocation(udg_p)
call RemoveLocation(udg_p2)
endfunction
function InitTrig_HeroTimer38_Q takes nothing returns nothing
set gg_trg_HeroTimer38_Q=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroTimer38_Q, udg_KilroggTimer[1])
call TriggerAddAction(gg_trg_HeroTimer38_Q, function Trig_HeroTimer38_Q_Actions)
endfunction
function Trig_HeroTimer38_W_Func003002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Kilrogg)) == true )
endfunction
function Trig_HeroTimer38_W_Func003002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroTimer38_W_Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroTimer38_W_Func003002003001(), Trig_HeroTimer38_W_Func003002003002())
endfunction
function Trig_HeroTimer38_W_Func004A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Kilrogg, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_HeroTimer38_W_Func008Func003C takes nothing returns boolean
if ( ( udg_KilroggCount[3] == 0 ) ) then
return true
endif
if ( ( IsUnitDeadBJ(udg_Kilrogg) == true ) ) then
return true
endif
return false
endfunction
function Trig_HeroTimer38_W_Func008C takes nothing returns boolean
if ( not Trig_HeroTimer38_W_Func008Func003C() ) then
return false
endif
return true
endfunction
function Trig_HeroTimer38_W_Actions takes nothing returns nothing
set udg_p=GetUnitLoc(udg_Kilrogg)
set udg_dmg=( ( 10.00 + ( 8.00 * I2R(GetUnitAbilityLevel(udg_Kilrogg, 0x41304E57)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.10 ) )
set udg_ug=GetUnitsInRangeOfLocMatching(230.00, udg_p, Condition(function Trig_HeroTimer38_W_Func003002003))
call ForGroupBJ(udg_ug, function Trig_HeroTimer38_W_Func004A)
call DestroyGroup(udg_ug)
call UnitDamageTargetBJ(udg_Kilrogg, udg_Kilrogg, ( udg_dmg * 0.80 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_KilroggCount[3]=( udg_KilroggCount[3] - 1 )
if ( Trig_HeroTimer38_W_Func008C() ) then
call PauseTimer(udg_KilroggTimer[2])
set udg_KilroggCount[3]=0
else
endif
call RemoveLocation(udg_p)
endfunction
function InitTrig_HeroTimer38_W takes nothing returns nothing
set gg_trg_HeroTimer38_W=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroTimer38_W, udg_KilroggTimer[2])
call TriggerAddAction(gg_trg_HeroTimer38_W, function Trig_HeroTimer38_W_Actions)
endfunction
function Trig_HeroTimer38_E_Func001C takes nothing returns boolean
if ( not ( udg_KilroggCount[4] > 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimer38_E_Actions takes nothing returns nothing
if ( Trig_HeroTimer38_E_Func001C() ) then
call SetUnitLifeBJ(udg_Kilrogg, ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Kilrogg) + I2R(udg_KilroggCount[4]) ))
else
endif
endfunction
function InitTrig_HeroTimer38_E takes nothing returns nothing
set gg_trg_HeroTimer38_E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroTimer38_E, udg_KilroggTimer[3])
call TriggerAddAction(gg_trg_HeroTimer38_E, function Trig_HeroTimer38_E_Actions)
endfunction
function Trig_HeroKills38_Conditions takes nothing returns boolean
if ( not ( GetKillingUnitBJ() == udg_Kilrogg ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills38_Func002C takes nothing returns boolean
if ( not ( GetUnitAbilityLevel(udg_Kilrogg, 0x41304E58) >= 1 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills38_Actions takes nothing returns nothing
local integer i=1
if ( Trig_HeroKills38_Func002C() ) then
set i=( ( 2 + ( 2 * GetUnitAbilityLevel(udg_Kilrogg, 0x41304E58) ) ) + ( GetUnitLevel(GetDyingUnit()) * 2 ) )
set udg_KilroggCount[4]=( udg_KilroggCount[4] + i )
call PolledWait(5.00)
set udg_KilroggCount[4]=( udg_KilroggCount[4] - i )
else
endif
set i=0
endfunction
function InitTrig_HeroKills38 takes nothing returns nothing
set gg_trg_HeroKills38=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills38, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills38, Condition(function Trig_HeroKills38_Conditions))
call TriggerAddAction(gg_trg_HeroKills38, function Trig_HeroKills38_Actions)
endfunction
function Trig_HeroSkills39_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Dreadlord ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills39_Func001C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41305042 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills39_Actions takes nothing returns nothing
if ( Trig_HeroSkills39_Func001C() ) then
set udg_DreadlordCount[2]=16
call StartTimerBJ(udg_DreadlordTimer[2], true, 0.50)
set udg_DreadlordRTarget=GetSpellTargetUnit()
call UnitAddAbility(udg_DreadlordRTarget, 0x41305043)
else
endif
endfunction
function InitTrig_HeroSkills39 takes nothing returns nothing
set gg_trg_HeroSkills39=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills39, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills39, Condition(function Trig_HeroSkills39_Conditions))
call TriggerAddAction(gg_trg_HeroSkills39, function Trig_HeroSkills39_Actions)
endfunction
function HeroQ39_debuff takes nothing returns nothing
local unit u=udg_Dreadlord
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local integer Skill=LoadInteger(udg_hash, i, 2)
local group ug=LoadGroupHandle(udg_hash, i, 1)
local group ug2=CreateGroup()
local integer time=LoadInteger(udg_hash, i, 1)
local real dmg=6.00 + ( 6.00 * I2R(GetUnitAbilityLevel(u, Skill)) ) + ( udg_ItemBonusDMG[n] * 0.10 )
set time=time - 1
if time >= 0 then
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPeasant.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupAddUnit(ug2, u2)
call GroupRemoveUnit(ug, u2)
endloop
call SaveInteger(udg_hash, i, 1, time)
call SaveGroupHandle(udg_hash, i, 1, ug2)
else
call DestroyGroup(ug)
call DestroyGroup(ug2)
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
endif
set u=null
set u2=null
set ug=null
set ug2=null
set pl=null
set t=null
endfunction
function Trig_HeroQ39_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=GetSpellTargetUnit()
local group ug=CreateGroup()
local group ug2=CreateGroup()
local integer Skill=GetSpellAbilityId()
local timer t=CreateTimer()
local integer i=GetHandleId(t)
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local real aoe=225.00
local real dmg=15.00 + ( 15.00 * I2R(GetUnitAbilityLevel(u, Skill)) ) + ( udg_ItemBonusDMG[n] * 0.10 )
local integer time=10
if Skill == 0x41305037 then
if udg_DreadlordQuest[1] == 100 then
set time=time + 2
endif
if udg_DreadlordQuest[2] == 1 then
set aoe=aoe * 1.30
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Reaper's Claws Red.mdx", u, "hand left"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Reaper's Claws Red.mdx", u, "hand right"))
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPeasant.mdl", u2, "origin"))
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupAddUnit(ug2, u2)
call GroupRemoveUnit(ug, u2)
endloop
call SaveGroupHandle(udg_hash, i, 1, ug2)
call SaveInteger(udg_hash, i, 1, time)
call SaveInteger(udg_hash, i, 2, Skill)
call TimerStart(t, 0.50, true, function HeroQ39_debuff)
endif
set u=null
set u2=null
set ug=null
set ug2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroQ39 takes nothing returns nothing
set gg_trg_HeroQ39=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ39, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_HeroQ39, function Trig_HeroQ39_Actions)
endfunction
function HeroW39_endbuff takes nothing returns nothing
local unit u=udg_Dreadlord
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=GetExpiredTimer()
local integer i=GetHandleId(t)
local real spd_total=LoadReal(udg_hash, i, 1)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - spd_total
call FlushChildHashtable(udg_hash, i)
call DestroyTimer(t)
set u=null
set pl=null
set t=null
endfunction
function Trig_HeroW39_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2
local timer t=CreateTimer()
local integer i=GetHandleId(t)
local integer Skill=GetSpellAbilityId()
local group ug=CreateGroup()
local real aoe=250.00
local real dmg=20.00 + ( 15.00 * I2R(GetUnitAbilityLevel(u, Skill)) ) + ( udg_ItemBonusDMG[n] * 0.15 )
local real spd=3.00 + ( 3.00 * I2R(GetUnitAbilityLevel(u, Skill)) )
local real spd_total=0.00
if Skill == 0x41305044 then
if udg_DreadlordQuest[2] == 1 then
set aoe=aoe * 1.30
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Call of Dread Red.mdx", u, "origin"))
call GroupEnumUnitsInRange(ug, x, y, aoe, null)
loop
set u2=FirstOfGroup(ug)
exitwhen u2 == null
if IsDead(u2) == false and IsUnitEnemy(u2, pl) == true then
call UnitDamageTarget(u, u2, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set spd_total=spd_total + spd
endif
call GroupRemoveUnit(ug, u2)
endloop
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + spd_total
call SaveReal(udg_hash, i, 1, spd_total)
call TimerStart(t, 8.00, false, function HeroW39_endbuff)
endif
set u=null
set u2=null
set ug=null
set pl=null
set t=null
endfunction
function InitTrig_HeroW39 takes nothing returns nothing
set gg_trg_HeroW39=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW39, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_HeroW39, function Trig_HeroW39_Actions)
endfunction
function Trig_HeroTimer39_R_dmg_Func007C takes nothing returns boolean
if ( not ( udg_DreadlordCount[2] <= 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimer39_R_dmg_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Dreadlord))
set udg_dmg=( 55.00 + ( udg_ItemBonusDMG[udg_n] * 0.20 ) )
call UnitDamageTargetBJ(udg_Dreadlord, udg_DreadlordRTarget, udg_dmg, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin", udg_DreadlordRTarget, "Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set udg_DreadlordCount[2]=( udg_DreadlordCount[2] - 1 )
if ( Trig_HeroTimer39_R_dmg_Func007C() ) then
call PauseTimer(udg_DreadlordTimer[2])
call UnitRemoveAbility(udg_DreadlordRTarget, 0x41305043)
set udg_DreadlordRTarget=null
else
endif
endfunction
function InitTrig_HeroTimer39_R_dmg takes nothing returns nothing
set gg_trg_HeroTimer39_R_dmg=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroTimer39_R_dmg, udg_DreadlordTimer[2])
call TriggerAddAction(gg_trg_HeroTimer39_R_dmg, function Trig_HeroTimer39_R_dmg_Actions)
endfunction
function Trig_HeroKills39_Func001Func003C takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func001Func004C takes nothing returns boolean
if ( not ( IsUnitDeadBJ(udg_Dreadlord) == false ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func001C takes nothing returns boolean
if ( not ( GetDyingUnit() == udg_DreadlordRTarget ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func002Func002C takes nothing returns boolean
if ( not ( udg_DreadlordQuest[1] == 100 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func002C takes nothing returns boolean
if ( not ( GetOwningPlayer(GetKillingUnitBJ()) == GetOwningPlayer(udg_Dreadlord) ) ) then
return false
endif
if ( not ( GetUnitLevel(GetDyingUnit()) <= 1 ) ) then
return false
endif
if ( not ( udg_DreadlordQuest[1] < 100 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func003Func002C takes nothing returns boolean
if ( not ( udg_DreadlordQuest[2] == 1 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func003C takes nothing returns boolean
if ( not ( GetOwningPlayer(GetKillingUnitBJ()) == GetOwningPlayer(udg_Dreadlord) ) ) then
return false
endif
if ( not ( IsUnitType(GetKillingUnitBJ(), UNIT_TYPE_STRUCTURE) == true ) ) then
return false
endif
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not ( udg_DreadlordQuest[2] < 1 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func004Func001Func001Func001C takes nothing returns boolean
if ( not ( GetHeroLevel(GetDyingUnit()) >= 8 ) ) then
return false
endif
if ( not ( GetUnitAbilityLevel(udg_Dreadlord, 0x41305035) < 2 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func004Func001Func001C takes nothing returns boolean
if ( not ( GetHeroLevel(GetDyingUnit()) >= 16 ) ) then
return false
endif
if ( not ( GetUnitAbilityLevel(udg_Dreadlord, 0x41305035) < 3 ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func004Func001C takes nothing returns boolean
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(udg_Dreadlord)) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Func004C takes nothing returns boolean
if ( not ( GetKillingUnitBJ() == udg_Dreadlord ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills39_Actions takes nothing returns nothing
if ( Trig_HeroKills39_Func001C() ) then
call UnitRemoveAbility(udg_DreadlordRTarget, 0x41305043)
call PauseTimer(udg_DreadlordTimer[2])
if ( Trig_HeroKills39_Func001Func003C() ) then
set udg_n=GetHeroLevel(GetDyingUnit())
else
set udg_n=GetUnitLevel(GetDyingUnit())
endif
if ( Trig_HeroKills39_Func001Func004C() ) then
call SetUnitBaseDamage(udg_Dreadlord , GetUnitBaseDamage(udg_Dreadlord) + udg_n)
else
endif
else
endif
if ( Trig_HeroKills39_Func002C() ) then
set udg_DreadlordQuest[1]=( udg_DreadlordQuest[1] + 1 )
if ( Trig_HeroKills39_Func002Func002C() ) then
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305039, 2)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Dreadlord)), 10.00, "TRIGSTR_9273")
else
endif
else
endif
if ( Trig_HeroKills39_Func003C() ) then
set udg_DreadlordQuest[2]=( udg_DreadlordQuest[2] + 1 )
if ( Trig_HeroKills39_Func003Func002C() ) then
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305045, 2)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Dreadlord)), 10.00, "TRIGSTR_9381")
else
endif
else
endif
if ( Trig_HeroKills39_Func004C() ) then
if ( Trig_HeroKills39_Func004Func001C() ) then
if ( Trig_HeroKills39_Func004Func001Func001C() ) then
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305035, 3)
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305036, 3)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Dreadlord)), 10.00, "TRIGSTR_9162")
else
if ( Trig_HeroKills39_Func004Func001Func001Func001C() ) then
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305035, 2)
call SetUnitAbilityLevel(udg_Dreadlord, 0x41305036, 2)
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Dreadlord)), 10.00, "TRIGSTR_9161")
else
endif
endif
else
endif
else
endif
endfunction
function InitTrig_HeroKills39 takes nothing returns nothing
set gg_trg_HeroKills39=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills39, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroKills39, function Trig_HeroKills39_Actions)
endfunction
function Hero40Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real dmg=20 + 30 * GetUnitAbilityLevel(u, 0x41305435) + udg_ItemBonusDMG[n] * 0.65
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u2=null
set pl=null
endfunction
function Trig_HeroSkills40_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local player pl=GetOwningPlayer(u)
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real x
local real y
local real x2
local real y2
if Skill == 0x41305432 then
call UnitAddAbility(u, 0x41305433)
call SetUnitAbilityLevel(u, 0x41305433, GetUnitAbilityLevel(u, Skill))
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41305433)
call TimerStart(t, 6, false, function RemoveBuff)
elseif Skill == 0x41305435 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y) / 1000
call TimerStart(t, x, false, function Hero40Q)
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills40 takes nothing returns nothing
set gg_trg_HeroSkills40=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills40, function Trig_HeroSkills40_Actions)
endfunction
function Trig_HeroKills40_Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit()) == 0x4E303554
endfunction
function Trig_HeroKills40_Actions takes nothing returns nothing
local unit u=GetKillingUnit()
local player pl=GetOwningPlayer(u)
local unit u2=GetDyingUnit()
local texttag text
local integer Id=GetHandleId(u)
local integer count
local real life
local real heal
local item Item
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if GetUnitAbilityLevel(u, 0x41305434) > 0 and IsUnitAlly(u2, pl) == false then
set count=LoadInteger(udg_hash, Id, 21) + 1
if count == 5 then
set life=GetUnitState(u, UNIT_STATE_LIFE)
set heal=GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.05
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
set text=CreateTextTagUnitBJ("|cFFFF4B395% heal|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
elseif count == 10 then
call SetUnitBaseDamage(u , GetUnitBaseDamage(u) + 1)
set text=CreateTextTagUnitBJ("|cFFFF4B39+1 attack|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
elseif count == 15 then
set count=GetHeroAgi(u, false)
call SetHeroAgi(u, count + 1, true)
set count=0
set text=CreateTextTagUnitBJ("|cFFFF4B39+1 agi|r", u, 0, 12.00, 100, 100, 100, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SetTextTagVelocityBJ(text, 75.00, 90.00)
call SetTextTagSuspended(text, false)
call SetTextTagPermanent(text, false)
call SetTextTagLifespan(text, 3.00)
call SetTextTagFadepoint(text, 2.00)
endif
call SaveInteger(udg_hash, Id, 21, count)
endif
set u=null
set pl=null
set u2=null
set text=null
set Item=null
endfunction
function InitTrig_HeroKills40 takes nothing returns nothing
set gg_trg_HeroKills40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills40, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills40, Condition(function Trig_HeroKills40_Conditions))
call TriggerAddAction(gg_trg_HeroKills40, function Trig_HeroKills40_Actions)
endfunction
function Trig_HeroAttack40_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker()) == 0x4E303554
endfunction
function Hero40E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer Id_u=GetHandleId(u)
local real r=LoadReal(udg_hash, Id, 1)
local real r2=LoadReal(udg_hash, Id, 2)
call SetUnitVertexColor(u, 255, 255, 255, 255)
call UnitRemoveAbility(u, 0x41305430)
call SaveReal(udg_hash, Id_u, 6, LoadReal(udg_hash, Id_u, 6) - r)
call SaveReal(udg_hash, Id_u, 4, LoadReal(udg_hash, Id_u, 4) + r2)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero40E_Cd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 20, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroAttack40_Actions takes nothing returns nothing
local unit u=GetAttacker()
local player pl=GetOwningPlayer(u)
local timer t
local timer t2
local integer Id
local integer Id_u=GetHandleId(u)
local integer lvl
local real dmg
if GetUnitAbilityLevel(u, 0x41304A32) > 0 then
set lvl=LoadInteger(udg_hash, Id_u, 20)
if lvl == 0 then
call SaveInteger(udg_hash, Id_u, 20, 1)
set lvl=GetUnitAbilityLevel(u, 0x41304A32)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 6, false, function Hero40E)
call SetUnitVertexColor(u, 255, 100, 100, 255)
call UnitAddAbility(u, 0x41305430)
call SetUnitAbilityLevel(u, 0x41305430, lvl)
set dmg=0.10 + 0.10 * I2R(lvl)
call SaveReal(udg_hash, Id_u, 6, LoadReal(udg_hash, Id_u, 6) + dmg)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, dmg)
set dmg=0.12 + 0.06 * I2R(lvl)
call SaveReal(udg_hash, Id_u, 4, LoadReal(udg_hash, Id_u, 4) - dmg)
call SaveReal(udg_hash, Id, 2, dmg)
set t2=CreateTimer()
set Id=GetHandleId(t2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t2, 14, false, function Hero40E_Cd)
endif
endif
set u=null
set pl=null
set t=null
set t2=null
endfunction
function InitTrig_HeroAttack40 takes nothing returns nothing
set gg_trg_HeroAttack40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack40, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack40, Condition(function Trig_HeroAttack40_Conditions))
call TriggerAddAction(gg_trg_HeroAttack40, function Trig_HeroAttack40_Actions)
endfunction
function Trig_HeroAttack40_Alt_Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit()) == 0x4E303554
endfunction
function Trig_HeroAttack40_Alt_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit u2=GetAttacker()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer lvl=GetUnitAbilityLevel(u, 0x41304A32)
local real dmg
local real x
local real y
local real x2
local real y2
if lvl > 0 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y)
if x <= 180 then
set dmg=6 + 6 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.05
if GetUnitAbilityLevel(u, 0x42303334) > 0 then
set dmg=dmg * ( 1.30 + 0.30 * I2R(lvl) )
endif
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endif
endif
set u=null
set u2=null
set pl=null
endfunction
function InitTrig_HeroAttack40_Alt takes nothing returns nothing
set gg_trg_HeroAttack40_Alt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack40_Alt, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack40_Alt, Condition(function Trig_HeroAttack40_Alt_Conditions))
call TriggerAddAction(gg_trg_HeroAttack40_Alt, function Trig_HeroAttack40_Alt_Actions)
endfunction
function HeroQ41 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call UnitRemoveAbility(u, 0x53303051)
call UnitRemoveAbility(u, 0x42303337)
call SaveInteger(udg_hash, GetHandleId(u), 11, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Trig_HeroSkills41_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local real x
local real y
local real x2
local real y2
if Skill == 0x41303949 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", u2, "origin"))
call UnitAddAbility(u2, 0x53303051)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
set x=6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.10 + I2R(GetHeroLevel(u2) * ( 1 + GetUnitAbilityLevel(u, Skill) ))
call SaveInteger(udg_hash, GetHandleId(u2), 11, R2I(x))
call TimerStart(t, 6, false, function HeroQ41)
else
set x=6 + 6 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.10 + I2R(GetUnitLevel(u2) * ( 1 + GetUnitAbilityLevel(u, Skill) ))
call SaveInteger(udg_hash, GetHandleId(u2), 11, R2I(x))
call TimerStart(t, 12, false, function HeroQ41)
endif
elseif Skill == 0x41304136 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl", u2, "origin"))
set x=4 + 2 * I2R(GetUnitAbilityLevel(u, Skill))
call UnitAddAbility(u2, 0x41304153)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveInteger(udg_hash, Id, 2, 0x41304153)
call TimerStart(t, x, false, function RemoveBuff)
elseif Skill == 0x41303954 then
set u2=GetSpellTargetUnit()
set y=GetUnitState(u2, UNIT_STATE_LIFE)
set x=50 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 0.45
set x2=175 * I2R(GetUnitAbilityLevel(u, Skill)) + udg_ItemBonusDMG[n] * 1.35
set y2=GetRandomReal(x, x2)
call SetUnitState(u2, UNIT_STATE_LIFE, y + y2)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphTarget.mdl", u2, "overhead"))
elseif Skill == 0x41303953 then
set x=GetLocationX(GetSpellTargetLoc())
set y=GetLocationY(GetSpellTargetLoc())
set u2=CreateUnit(pl, 0x6E303638, x, y, 270)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
endif
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroSkills41 takes nothing returns nothing
set gg_trg_HeroSkills41=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills41, function Trig_HeroSkills41_Actions)
endfunction
function Hero42Q_EndDebuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call UnitRemoveAbility(u, 0x53303053)
call SaveReal(udg_hash, GetHandleId(u), 14, 0.00)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call SaveTimerHandle(udg_hash, GetHandleId(u), 1, null)
set t=null
set u=null
endfunction
function Hero42Q_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local timer t2
local integer Id2
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u3
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug=CreateGroup()
local group ug2=CreateGroup()
local real dmg=4.5 + 4.5 * I2R(GetUnitAbilityLevel(u, 0x4130554A)) + udg_ItemBonusDMG[n] * 0.045
local real r
call GroupEnumUnitsInRange(ug, x, y, 275, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call UnitDamageTarget(u, u3, dmg * ( 1.00 + r ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
if IsDead(u3) == false and GetUnitAbilityLevel(u3, 0x53303053) == 0 then
call GroupAddUnit(ug2, u3)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(1, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
call UnitAddAbility(u3, 0x53303053)
call SetUnitAbilityLevel(u3, 0x53303053, GetUnitAbilityLevel(u, 0x4130554A))
set t2=CreateTimer()
set Id2=GetHandleId(t2)
set r=0.10 + 0.05 * I2R(GetUnitAbilityLevel(u, 0x4130554A)) + I2R(GetHeroInt(u, true)) * 0.15 * 0.01
call SaveReal(udg_hash, GetHandleId(u3), 14, r)
call SaveUnitHandle(udg_hash, Id2, 1, u3)
call SaveTimerHandle(udg_hash, GetHandleId(u3), 1, t)
if IsUnitType(u3, UNIT_TYPE_HERO) == true then
call TimerStart(t2, 5, false, function Hero42Q_EndDebuff)
else
call TimerStart(t2, 10, false, function Hero42Q_EndDebuff)
endif
call GroupRemoveUnit(ug2, u3)
endloop
set count=count - 1
call SaveInteger(udg_hash, Id, 3, count)
if count < 1 then
set u3=LoadUnitHandle(udg_hash, Id, 2)
call RemoveUnit(u3)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
elseif count == 2 then
set u3=LoadUnitHandle(udg_hash, Id, 2)
call SetUnitAnimation(u3, "death")
endif
set t=null
set u=null
set pl=null
set u3=null
call DestroyGroup(ug)
set ug=null
call DestroyGroup(ug2)
set ug2=null
endfunction
function Hero42W_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug=CreateGroup()
local real dmg=10 + 10 * I2R(GetUnitAbilityLevel(u, 0x4130554B)) + I2R(GetHeroInt(u, true)) * 0.50 + udg_ItemBonusDMG[n] * 0.10
local real r
call DestroyEffect(AddSpecialEffect("war3mapImported\\Blink Gold Target.mdx", x, y))
call GroupEnumUnitsInRange(ug, x, y, 180, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call UnitDamageTarget(u, u3, dmg * ( 1.00 + r ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
call SaveInteger(udg_hash, Id, 3, count)
if count < 1 or IsDead(u2) == true then
call UnitRemoveAbility(u2, 0x41303234)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call SaveTimerHandle(udg_hash, GetHandleId(u2), 2, null)
endif
set t=null
set u=null
set u2=null
set pl=null
set u3=null
call DestroyGroup(ug)
set ug=null
endfunction
function Hero42E_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local group ug=CreateGroup()
local real dmg=60 + 60 * I2R(GetUnitAbilityLevel(u, 0x4130554C)) + I2R(GetHeroInt(u, true)) * 0.90 + udg_ItemBonusDMG[n] * 0.40
local real r
set r=LoadReal(udg_hash, GetHandleId(u2), 14)
if r > 0 then
call UnitDamageTarget(u, u2, dmg * ( 1.00 + r ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call GroupEnumUnitsInRange(ug, x, y, 225, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false and u3 != u2 then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call UnitDamageTarget(u, u3, dmg * ( 1.00 + r ) * 0.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg * 0.5, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u2=null
set pl=null
set u3=null
call DestroyGroup(ug)
set ug=null
endfunction
function Hero42R takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local player pl
local real dmg=LoadReal(udg_hash, Id, 1)
local real degrees=LoadReal(udg_hash, Id, 4)
local integer check=LoadInteger(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local group ug
local boolean B=false
local real r
call SetUnitX(u2, PolarX(x , 36 , degrees))
call SetUnitY(u2, PolarY(y , 36 , degrees))
set check=check + 1
set count=count - 1
if check == 2 and count != 0 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 50, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set B=true
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) == true then
set B=true
endif
if B == true then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 180, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call UnitDamageTarget(u, u3, dmg * ( 1.00 + r ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call DestroyGroup(ug)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
set t=null
set u=null
set u2=null
set u3=null
set pl=null
return
endif
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if count == 0 then
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 180, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call UnitDamageTarget(u, u3, dmg * ( 1.00 + r ), false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
call RemoveUnit(u2)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", x, y))
else
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
set dmg=dmg + ( 32 + 0.21 * I2R(GetHeroInt(u, true)) ) * 0.21
call SaveReal(udg_hash, Id, 1, dmg)
endif
set t=null
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
endfunction
function Trig_HeroSkills42_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local integer Skill=GetSpellAbilityId()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local timer t
local integer Id
local real dmg
local group ug
local real degrees
local integer L
local real r
if Skill == 0x4130554A then
set x2=GetSpellTargetX()
set y2=GetSpellTargetY()
set u2=CreateUnit(pl, 0x6F30304D, x2, y2, 270)
call SetUnitScale(u2, 2.75, 2.75, 2.75)
call SetUnitVertexColor(u2, 255, 180, 120, 255)
call SetUnitAnimation(u2, "birth")
call UnitApplyTimedLife(u2, 0x42726169, 6.5)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveReal(udg_hash, Id, 1, x2)
call SaveReal(udg_hash, Id, 2, y2)
call SaveInteger(udg_hash, Id, 3, 12)
call TimerStart(t, 0.5, true, function Hero42Q_Dmg)
elseif Skill == 0x4130554B then
set t=CreateTimer()
set Id=GetHandleId(t)
set u2=GetSpellTargetUnit()
call UnitAddAbility(u2, 0x41303234)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 3, 8)
call SaveTimerHandle(udg_hash, GetHandleId(u2), 2, t)
call TimerStart(t, 1, true, function Hero42W_Dmg)
elseif Skill == 0x4130554C then
set t=CreateTimer()
set Id=GetHandleId(t)
set u2=GetSpellTargetUnit()
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
set x2=GetUnitX(u2)
set y2=GetUnitY(u2)
set u3=CreateUnit(pl, 0x6F303136, x, y, 0)
call UnitApplyTimedLife(u3, 0x42544C46, 2)
call IssueTargetOrder(u3, "attack", u2)
set x=x2 - x
set y=y2 - y
set x=SquareRoot(x * x + y * y) / 1199
call TimerStart(t, x, false, function Hero42E_Dmg)
elseif Skill == 0x4130554D then
set x2=GetSpellTargetX()
set y2=GetSpellTargetY()
set degrees=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set dmg=32 + 0.21 * I2R(GetHeroInt(u, true))
set L=- 8
loop
exitwhen L > 8
set x2=x + 400 * Cos(( degrees + I2R(L * 4) ) * bj_DEGTORAD)
set y2=y + 400 * Sin(( degrees + I2R(L * 4) ) * bj_DEGTORAD)
set u2=CreateUnit(pl, 0x6F303233, x, y, degrees + I2R(L * 5))
set t=CreateTimer()
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u)
call SaveUnitHandle(udg_hash, GetHandleId(t), 2, u2)
call SaveReal(udg_hash, GetHandleId(t), 1, dmg)
call SaveInteger(udg_hash, GetHandleId(t), 2, 0)
call SaveInteger(udg_hash, GetHandleId(t), 3, 50)
call SaveReal(udg_hash, GetHandleId(t), 4, degrees + I2R(L * 5))
call TimerStart(t, 0.03, true, function Hero42R)
set L=L + 1
endloop
elseif Skill == 0x4130554E then
set x2=GetSpellTargetX()
set y2=GetSpellTargetY()
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x2, y2, 355, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false and GetUnitTypeId(u3) != 0x6F30304D then
set r=LoadReal(udg_hash, GetHandleId(u3), 14)
if r > 0 then
call SetUnitAbilityLevel(u3, 0x53303053, GetUnitAbilityLevel(u, 0x4130554A))
set t=LoadTimerHandle(udg_hash, GetHandleId(u3), 1)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=CreateTimer()
set Id=GetHandleId(t)
set r=0.10 + 0.05 * I2R(GetUnitAbilityLevel(u, 0x4130554A)) + I2R(GetHeroInt(u, true)) * 0.15 * 0.01
call SaveReal(udg_hash, GetHandleId(u3), 14, r)
call SaveUnitHandle(udg_hash, Id, 1, u3)
call SaveTimerHandle(udg_hash, GetHandleId(u3), 1, t)
if IsUnitType(u3, UNIT_TYPE_HERO) == true then
call TimerStart(t, 5, false, function Hero42Q_EndDebuff)
else
call TimerStart(t, 10, false, function Hero42Q_EndDebuff)
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Heal Orange.mdx", u3, "origin"))
endif
if GetUnitAbilityLevel(u3, 0x41303234) == 1 then
set t=LoadTimerHandle(udg_hash, GetHandleId(u3), 2)
call FlushChildHashtable(udg_hash, GetHandleId(t))
call DestroyTimer(t)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u3)
call SaveInteger(udg_hash, Id, 3, 7)
call SaveTimerHandle(udg_hash, GetHandleId(u3), 2, t)
call TimerStart(t, 1, true, function Hero42W_Dmg)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Heal Orange.mdx", u3, "origin"))
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set u=null
set u2=null
set pl=null
set t=null
set ug=null
endfunction
function InitTrig_HeroSkills42 takes nothing returns nothing
set gg_trg_HeroSkills42=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills42, function Trig_HeroSkills42_Actions)
endfunction
function Skill43W2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real regen=LoadReal(udg_hash, Id, 1)
local integer atk=LoadInteger(udg_hash, Id, 1)
local effect e=LoadEffectHandle(udg_hash, Id, 2)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) - atk)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) - regen)
call DestroyEffect(e)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
set e=null
endfunction
function Skill43W takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer lvl=GetUnitAbilityLevel(u, 0x4162736B)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit u2
local real dmg=35 + 35 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.25
local real regen=2 + 2 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.03
local integer atk=10 + 10 * lvl + R2I(udg_ItemBonusDMG[n] * 0.10)
local effect e
set u2=CreateUnit(pl, 0x6F30324B, x, y, 0)
call SaveReal(udg_hash, GetHandleId(u2), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u2), 13, u)
call UnitApplyTimedLife(u2, 0x42544C46, 1.5)
call IssuePointOrderById(u2, Order_attack, x, y)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 8, false, function Skill43W2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, regen)
call SaveInteger(udg_hash, Id, 1, atk)
set e=AddSpecialEffectTarget("war3mapImported\\Ember Sword FX 5.mdx", u, "weapon")
call SaveEffectHandle(udg_hash, Id, 2, e)
call SetUnitExtraDamage(u , GetUnitExtraDamage(u) + atk)
call SetUnitLifeRegeneration(u , GetUnitLifeRegeneration(u) + regen)
set t=null
set u=null
set u2=null
set pl=null
set e=null
endfunction
function Skill43Q takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2
local real y2
local unit u3
local player pl
local integer n
local real degrees=LoadReal(udg_hash, Id, 1)
local integer check=LoadInteger(udg_hash, Id, 2)
local integer count=LoadInteger(udg_hash, Id, 3)
local effect e
local boolean B=false
local group ug
local real dmg
set x=x + 40 * Cos(degrees * bj_DEGTORAD)
set y=y + 40 * Sin(degrees * bj_DEGTORAD)
call SetUnitX(u, x)
call SetUnitY(u, y)
set check=check + 1
set count=count - 1
if check == 2 and count != 0 then
set check=0
set u=LoadUnitHandle(udg_hash, Id, 1)
set pl=GetOwningPlayer(u)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 75, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
set B=true
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) == true then
set B=true
endif
if B == true then
set n=GetPlayerId(pl) + 1
set dmg=50 + 50 * I2R(GetUnitAbilityLevel(u, 0x41303155)) + udg_ItemBonusDMG[n] * 0.40
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 230, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
if IsUnitType(u, UNIT_TYPE_HERO) == true then
call UnitDamageTarget(u, u3, dmg * 2.00, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if LoadInteger(udg_hash, GetHandleId(u), 29) == 1 then
set x2=x + 40 * Cos(( GetUnitFacing(u) + 45 ) * bj_DEGTORAD)
set y2=y + 40 * Sin(( GetUnitFacing(u) + 45 ) * bj_DEGTORAD)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg * 0.75)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u)
call UnitAddAbility(u3, 0x41304657)
call IssuePointOrderById(u3, Order_carrionswarm, x2, y2)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
set x2=x + 40 * Cos(( GetUnitFacing(u) - 45 ) * bj_DEGTORAD)
set y2=y + 40 * Sin(( GetUnitFacing(u) - 45 ) * bj_DEGTORAD)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg * 0.75)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u)
call UnitAddAbility(u3, 0x41304657)
call IssuePointOrderById(u3, Order_carrionswarm, x2, y2)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
endif
call DestroyTimer(t)
set e=LoadEffectHandle(udg_hash, Id, 2)
call DestroyEffect(e)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call PauseUnit(u, false)
call SetUnitAnimation(u, "Stand")
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
set u3=null
set e=null
set pl=null
set ug=null
return
endif
endif
call SaveInteger(udg_hash, GetHandleId(t), 2, check)
if count == 0 then
set pl=GetOwningPlayer(u)
set n=GetPlayerId(pl) + 1
set dmg=50 + 50 * I2R(GetUnitAbilityLevel(u, 0x41303155)) + udg_ItemBonusDMG[n] * 0.40
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 230, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if LoadInteger(udg_hash, GetHandleId(u), 29) == 1 then
set x2=x + 250 * Cos(( GetUnitFacing(u) + 45 ) * bj_DEGTORAD)
set y2=y + 250 * Sin(( GetUnitFacing(u) + 45 ) * bj_DEGTORAD)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg * 0.75)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u)
call UnitAddAbility(u3, 0x41304657)
call IssuePointOrderById(u3, Order_carrionswarm, x2, y2)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
set x2=x + 250 * Cos(( GetUnitFacing(u) - 45 ) * bj_DEGTORAD)
set y2=y + 250 * Sin(( GetUnitFacing(u) - 45 ) * bj_DEGTORAD)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg * 0.75)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u)
call UnitAddAbility(u3, 0x41304657)
call IssuePointOrderById(u3, Order_carrionswarm, x2, y2)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
endif
set e=LoadEffectHandle(udg_hash, Id, 2)
call DestroyEffect(e)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call PauseUnit(u, false)
call SetUnitAnimation(u, "Stand")
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
else
call SaveInteger(udg_hash, GetHandleId(t), 3, count)
endif
set t=null
set u=null
set u3=null
set e=null
set pl=null
set ug=null
endfunction
function Trig_HeroSkills43_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local unit u2
local integer Skill=GetSpellAbilityId()
local timer t
local integer Id
local integer n=GetPlayerId(pl) + 1
local real x
local real y
local real x2
local real y2
local integer count
local effect e
local location p
if Skill == 0x41303155 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set p=GetSpellTargetLoc()
set x2=GetLocationX(p)
set y2=GetLocationY(p)
set x=bj_RADTODEG * Atan2(y2 - y, x2 - x)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 0.03, true, function Skill43Q)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveInteger(udg_hash, Id, 2, 0)
call SaveInteger(udg_hash, Id, 3, 20)
set e=AddSpecialEffectTarget("war3mapImported\\Valiant Charge.mdx", u, "origin")
call SaveEffectHandle(udg_hash, Id, 2, e)
call PauseUnit(u, true)
call SetUnitAnimation(u, "Stand Defend")
elseif Skill == 0x4162736B then
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 5, false, function Skill43W)
call SaveUnitHandle(udg_hash, Id, 1, u)
elseif Skill == 0x41303157 then
call UnitAddAbility(u, 0x41303159)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 2, 0x41303159)
call TimerStart(t, 22, true, function RemoveBuff)
endif
set u=null
set u2=null
set pl=null
set t=null
set e=null
call RemoveLocation(p)
set p=null
endfunction
function InitTrig_HeroSkills43 takes nothing returns nothing
set gg_trg_HeroSkills43=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills43, function Trig_HeroSkills43_Actions)
endfunction
function Hero43E2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 28, 0)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=null
set u=null
endfunction
function Hero43E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer count=LoadInteger(udg_hash, Id, 1)
local group ug
local unit u3
local real dmg=8 + 8 * I2R(GetUnitAbilityLevel(u, 0x416D676C)) + udg_ItemBonusDMG[n] * 0.05
local effect e
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 215, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsUnitAlly(u3, pl) == false and IsDead(u3) == false then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 then
call SaveInteger(udg_hash, GetHandleId(u), 29, 0)
set e=LoadEffectHandle(udg_hash, Id, 2)
call DestroyEffect(e)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call TimerStart(t, 10, false, function Hero43E2)
endif
set t=null
set u=null
set u3=null
set ug=null
set pl=null
set e=null
endfunction
function Trig_HeroAttack43_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit u2=GetAttacker()
local player pl=GetOwningPlayer(u2)
local integer n=GetPlayerId(pl) + 1
local timer t
local integer Id
local effect e
local real r
local real x
local real y
local group ug
if GetUnitAbilityLevel(u, 0x416D676C) > 0 then
if LoadInteger(udg_hash, GetHandleId(u), 28) != 1 then
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, 10)
call TimerStart(t, 1, true, function Hero43E)
call SaveInteger(udg_hash, GetHandleId(u), 28, 1)
call SaveInteger(udg_hash, GetHandleId(u), 29, 1)
set e=AddSpecialEffectTarget("war3mapImported\\Ember Shield II FX 5.mdx", u, "hand, right")
call SaveEffectHandle(udg_hash, Id, 2, e)
endif
endif
if GetUnitAbilityLevel(u2, 0x41303158) == 0 and GetUnitTypeId(u) == 0x486D6B67 then
if GetUnitAbilityLevel(u, 0x41303159) == 1 then
set Id=GetRandomInt(1, 4)
else
set Id=GetRandomInt(1, 10)
endif
if Id == 2 then
call UnitAddAbility(u2, 0x41303158)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u2)
call SaveInteger(udg_hash, Id, 2, 0x41303158)
call TimerStart(t, 8, true, function RemoveBuff)
endif
elseif GetUnitAbilityLevel(u2, 0x41303159) == 1 then
if GetUnitAbilityLevel(u, 0x41303158) == 1 then
set Id=GetRandomInt(1, 3)
if Id == 2 then
call UnitRemoveAbility(u, 0x41303158)
set x=GetUnitX(u)
set y=GetUnitY(u)
set r=I2R(GetHeroStr(u2, true)) * 0.65
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_LIFE) + r)
set r=50 + udg_ItemBonusDMG[n] * 0.25
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u=FirstOfGroup(ug)
exitwhen u == null
if IsUnitAlly(u, pl) == false and IsDead(u) == false then
call UnitDamageTarget(u2, u, r, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endif
call GroupRemoveUnit(ug, u)
endloop
call DestroyGroup(ug)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Ground Slam Fire.mdx", x, y))
endif
endif
endif
set u=null
set u2=null
set t=null
set e=null
set ug=null
set pl=null
endfunction
function InitTrig_HeroAttack43 takes nothing returns nothing
set gg_trg_HeroAttack43=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack43, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_HeroAttack43, function Trig_HeroAttack43_Actions)
endfunction
function Trig_HeroKills43_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
local unit u2=GetKillingUnit()
local real r
if GetUnitAbilityLevel(u, 0x41303158) == 1 then
if GetUnitTypeId(u2) == 0x486D6B67 then
set r=I2R(GetHeroStr(u2, true)) * 0.65
call SetUnitState(u2, UNIT_STATE_LIFE, GetUnitState(u2, UNIT_STATE_LIFE) + r)
endif
call UnitRemoveAbility(u, 0x41303158)
endif
set u=null
set u2=null
endfunction
function InitTrig_HeroKills43 takes nothing returns nothing
set gg_trg_HeroKills43=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills43, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_HeroKills43, function Trig_HeroKills43_Actions)
endfunction
function Trig_HeroSkills44_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Legat ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func001Func008002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills44_Func001Func008002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Legat)) == true )
endfunction
function Trig_HeroSkills44_Func001Func008002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills44_Func001Func008002003001(), Trig_HeroSkills44_Func001Func008002003002())
endfunction
function Trig_HeroSkills44_Func001Func009Func002C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func001Func009A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Legat, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
if ( Trig_HeroSkills44_Func001Func009Func002C() ) then
call GroupRemoveUnit(udg_LegatQGroup, GetEnumUnit())
else
endif
endfunction
function Trig_HeroSkills44_Func001C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304948 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func002Func006002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills44_Func002Func006002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Legat)) == true )
endfunction
function Trig_HeroSkills44_Func002Func006002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills44_Func002Func006002003001(), Trig_HeroSkills44_Func002Func006002003002())
endfunction
function Trig_HeroSkills44_Func002Func007Func002C takes nothing returns boolean
if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func002Func007A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Legat, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
if ( Trig_HeroSkills44_Func002Func007Func002C() ) then
call GroupRemoveUnit(udg_LegatWGroup, GetEnumUnit())
else
endif
endfunction
function Trig_HeroSkills44_Func002C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x4130494A ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303030 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func002Func001C takes nothing returns boolean
if ( ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303032 ) ) then
return true
endif
if ( ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303350 ) ) then
return true
endif
return false
endfunction
function Trig_HeroSkills44_Func003Func002C takes nothing returns boolean
if ( not Trig_HeroSkills44_Func003Func002Func001C() ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func003C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303031 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func004C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303033 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func005C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303155 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003Func006C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 0x6E303638 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Func003C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x4130494B ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills44_Actions takes nothing returns nothing
if ( Trig_HeroSkills44_Func001C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Legat))
set udg_dmg=( ( 20.00 + ( 20.00 * I2R(GetUnitAbilityLevel(udg_Legat, 0x41304948)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.30 ) )
call UnitDamageTargetBJ(udg_Legat, GetSpellTargetUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
set udg_dmg=( ( 30.00 + ( 30.00 * I2R(GetUnitAbilityLevel(udg_Legat, 0x41304948)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.20 ) )
set udg_LegatQPoint=GetUnitLoc(udg_Legat)
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", udg_p))
set udg_LegatQGroup=GetUnitsInRangeOfLocMatching(235.00, udg_p, Condition(function Trig_HeroSkills44_Func001Func008002003))
call ForGroupBJ(udg_LegatQGroup, function Trig_HeroSkills44_Func001Func009A)
call RemoveLocation(udg_p)
set udg_LegatQCount=22
call StartTimerBJ(udg_LegatQTimer, true, 0.04)
else
endif
if ( Trig_HeroSkills44_Func002C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Legat))
set udg_dmg=( ( 30.00 + ( 30.00 * I2R(GetUnitAbilityLevel(udg_Legat, 0x4130494A)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.40 ) )
set udg_LegatWPoint=GetUnitLoc(udg_Legat)
set udg_p=GetSpellTargetLoc()
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", udg_p))
set udg_LegatWGroup=GetUnitsInRangeOfLocMatching(255.00, udg_p, Condition(function Trig_HeroSkills44_Func002Func006002003))
call ForGroupBJ(udg_LegatWGroup, function Trig_HeroSkills44_Func002Func007A)
call RemoveLocation(udg_p)
set udg_LegatWCount=20
call StartTimerBJ(udg_LegatWTimer, true, 0.04)
else
endif
if ( Trig_HeroSkills44_Func003C() ) then
if ( Trig_HeroSkills44_Func003Func001C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x6830324F, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills44_Func003Func002C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x6830324D, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills44_Func003Func003C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x68303250, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call GroupAddUnit(udg_CrystalCavesGroup, GetLastCreatedUnit())
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills44_Func003Func004C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x6830324E, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills44_Func003Func005C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x6E303431, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills44_Func003Func006C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call KillUnit(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1, 0x68303357, GetOwningPlayer(udg_Legat), udg_p, bj_UNIT_FACING)
call RemoveLocation(udg_p)
else
endif
else
endif
endfunction
function InitTrig_HeroSkills44 takes nothing returns nothing
set gg_trg_HeroSkills44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills44, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills44, Condition(function Trig_HeroSkills44_Conditions))
call TriggerAddAction(gg_trg_HeroSkills44, function Trig_HeroSkills44_Actions)
endfunction
function Trig_HeroSkillQ44_Func001A takes nothing returns nothing
set udg_p=GetUnitLoc(GetEnumUnit())
set udg_p2=PolarProjectionBJ(udg_p, 16.00, AngleBetweenPoints(udg_LegatQPoint, udg_p))
call SetUnitPositionLoc(GetEnumUnit(), udg_p2)
endfunction
function Trig_HeroSkillQ44_Func003Func002A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(), 0x53303039)
endfunction
function Trig_HeroSkillQ44_Func003Func004A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(), 0x53303039)
endfunction
function Trig_HeroSkillQ44_Func003C takes nothing returns boolean
if ( not ( udg_LegatQCount == 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkillQ44_Actions takes nothing returns nothing
call ForGroupBJ(udg_LegatQGroup, function Trig_HeroSkillQ44_Func001A)
set udg_LegatQCount=( udg_LegatQCount - 1 )
if ( Trig_HeroSkillQ44_Func003C() ) then
call PauseTimer(udg_LegatQTimer)
call ForGroupBJ(udg_LegatQGroup, function Trig_HeroSkillQ44_Func003Func002A)
call PolledWait(2.00)
call ForGroupBJ(udg_LegatQGroup, function Trig_HeroSkillQ44_Func003Func004A)
call GroupClear(udg_LegatQGroup)
else
endif
endfunction
function InitTrig_HeroSkillQ44 takes nothing returns nothing
set gg_trg_HeroSkillQ44=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroSkillQ44, udg_LegatQTimer)
call TriggerAddAction(gg_trg_HeroSkillQ44, function Trig_HeroSkillQ44_Actions)
endfunction
function Trig_HeroSkillW44_Func001A takes nothing returns nothing
set udg_p=GetUnitLoc(GetEnumUnit())
set udg_p2=PolarProjectionBJ(udg_p, 17.00, AngleBetweenPoints(udg_p, udg_LegatWPoint))
call SetUnitPositionLoc(GetEnumUnit(), udg_p2)
endfunction
function Trig_HeroSkillW44_Func003C takes nothing returns boolean
if ( not ( udg_LegatWCount == 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkillW44_Actions takes nothing returns nothing
call ForGroupBJ(udg_LegatWGroup, function Trig_HeroSkillW44_Func001A)
set udg_LegatWCount=( udg_LegatWCount - 1 )
if ( Trig_HeroSkillW44_Func003C() ) then
call PauseTimer(udg_LegatWTimer)
call GroupClear(udg_LegatWGroup)
else
endif
endfunction
function InitTrig_HeroSkillW44 takes nothing returns nothing
set gg_trg_HeroSkillW44=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroSkillW44, udg_LegatWTimer)
call TriggerAddAction(gg_trg_HeroSkillW44, function Trig_HeroSkillW44_Actions)
endfunction
function Trig_HeroGiveSkills44_Conditions takes nothing returns boolean
if ( not ( GetLearningUnit() == udg_Legat ) ) then
return false
endif
return true
endfunction
function Trig_HeroGiveSkills44_Func003C takes nothing returns boolean
if ( not ( GetLearnedSkillBJ() == 0x41304949 ) ) then
return false
endif
return true
endfunction
function Trig_HeroGiveSkills44_Actions takes nothing returns nothing
if ( Trig_HeroGiveSkills44_Func003C() ) then
set udg_LegatE=( udg_LegatE + 0.04 )
else
endif
endfunction
function InitTrig_HeroGiveSkills44 takes nothing returns nothing
set gg_trg_HeroGiveSkills44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroGiveSkills44, EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_HeroGiveSkills44, Condition(function Trig_HeroGiveSkills44_Conditions))
call TriggerAddAction(gg_trg_HeroGiveSkills44, function Trig_HeroGiveSkills44_Actions)
endfunction
function Trig_HeroRCheck44_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Legat ) ) then
return false
endif
if ( not ( GetSpellAbilityId() == 0x4130494B ) ) then
return false
endif
return true
endfunction
function Trig_HeroRCheck44_Func001C takes nothing returns boolean
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303030 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303032 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303350 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303031 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303033 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303155 ) ) then
return false
endif
if ( not ( GetUnitTypeId(GetSpellTargetUnit()) != 0x6E303638 ) ) then
return false
endif
if ( not ( GetOwningPlayer(GetSpellTargetUnit()) != GetOwningPlayer(udg_Legat) ) ) then
return false
endif
return true
endfunction
function Trig_HeroRCheck44_Actions takes nothing returns nothing
if ( Trig_HeroRCheck44_Func001C() ) then
call IssueImmediateOrderBJ(udg_Legat, "stop")
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Legat)), 20.00, "TRIGSTR_3641")
else
endif
endfunction
function InitTrig_HeroRCheck44 takes nothing returns nothing
set gg_trg_HeroRCheck44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroRCheck44, EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_HeroRCheck44, Condition(function Trig_HeroRCheck44_Conditions))
call TriggerAddAction(gg_trg_HeroRCheck44, function Trig_HeroRCheck44_Actions)
endfunction
function HeroW45_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 21, 0)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function HeroR45_End takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local integer str=LoadInteger(udg_hash, Id, 1)
local integer agi=LoadInteger(udg_hash, Id, 2)
call SetHeroStr(u, GetHeroStr(u, false) + str, true)
call SetHeroAgi(u, GetHeroAgi(u, false) + agi, true)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function HeroQ45_Move takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local real dist=LoadReal(udg_hash, Id, 2)
local real angle=LoadReal(udg_hash, Id, 3)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real max_dist=LoadReal(udg_hash, GetHandleId(u), 20)
set angle=angle + 10
set dist=dist + 3
if dist > max_dist then
set dist=dist - 3
endif
if angle >= 360 then
set angle=0
endif
set x=PolarX(x , dist , angle)
set y=PolarY(y , dist , angle)
call SetUnitX(u2, x)
call SetUnitY(u2, y)
call SetUnitFacing(u2, angle - 100)
call SaveReal(udg_hash, Id, 2, dist)
call SaveReal(udg_hash, Id, 3, angle)
set t=null
set u=null
set u2=null
endfunction
function HeroQ45_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local real x=GetUnitX(u2)
local real y=GetUnitY(u2)
local timer t2
local integer count=LoadInteger(udg_hash, Id, 3)
local real dmg=8 + 8 * I2R(GetUnitAbilityLevel(u, 0x41303854)) + udg_ItemBonusDMG[n] * 0.08
local group ug=CreateGroup()
local real cof=1 + ( ( LoadReal(udg_hash, GetHandleId(u), 20) - 300 ) * 0.008 )
set dmg=dmg * cof
call GroupEnumUnitsInRange(ug, x, y, 160, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
set count=count - 1
if count == 0 then
call KillUnit(u2)
set t2=LoadTimerHandle(udg_hash, Id, 3)
call FlushChildHashtable(udg_hash, GetHandleId(t2))
call DestroyTimer(t2)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
else
call SaveInteger(udg_hash, Id, 3, count)
endif
set t=null
set t2=null
set u=null
set u2=null
set u3=null
set ug=null
set pl=null
endfunction
function Trig_HeroSkills45_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=GetSpellAbilityId()
local timer t
local timer t2
local integer Id
local real x
local real y
local real x2
local real y2
local real angle
local real dmg
local group ug
local integer str
local integer agi
if Skill == 0x41303854 then
set x=GetUnitX(u)
set y=GetUnitY(u)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 2, 50)
call SaveReal(udg_hash, Id, 3, 0)
set angle=GetUnitFacing(u)
set x2=PolarX(x , 50 , angle)
set y2=PolarY(y , 50 , angle)
set u2=CreateUnit(pl, 0x68303432, x2, y2, angle)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, 0.03, true, function HeroQ45_Move)
set t2=CreateTimer()
set Id=GetHandleId(t2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 3, 60)
call SaveTimerHandle(udg_hash, Id, 3, t)
call TimerStart(t2, 0.20, true, function HeroQ45_Dmg)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 2, 50)
call SaveReal(udg_hash, Id, 3, 120)
set angle=GetUnitFacing(u) + 120
set x2=PolarX(x , 50 , angle)
set y2=PolarY(y , 50 , angle)
set u2=CreateUnit(pl, 0x68303432, x2, y2, angle)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, 0.03, true, function HeroQ45_Move)
set t2=CreateTimer()
set Id=GetHandleId(t2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 3, 60)
call SaveTimerHandle(udg_hash, Id, 3, t)
call TimerStart(t2, 0.20, true, function HeroQ45_Dmg)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 2, 50)
call SaveReal(udg_hash, Id, 3, 240)
set angle=GetUnitFacing(u) + 240
set x2=PolarX(x , 50 , angle)
set y2=PolarY(y , 50 , angle)
set u2=CreateUnit(pl, 0x68303432, x2, y2, angle)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call TimerStart(t, 0.03, true, function HeroQ45_Move)
set t2=CreateTimer()
set Id=GetHandleId(t2)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 3, 60)
call SaveTimerHandle(udg_hash, Id, 3, t)
call TimerStart(t2, 0.20, true, function HeroQ45_Dmg)
elseif Skill == 0x4130384D then
call SaveInteger(udg_hash, GetHandleId(u), 21, 1)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 8, false, function HeroW45_End)
call SaveUnitHandle(udg_hash, Id, 1, u)
elseif Skill == 0x41303856 then
if IsUnitType(u2, UNIT_TYPE_HERO) == true then
set dmg=600 + I2R(GetHeroStr(u2, true) + GetHeroAgi(u2, true)) * 1.80
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\VengeanceBlast_omni012.mdx", x, y))
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set u3=CreateUnit(pl, 0x6F303130, x, y, 0.00)
call UnitAddAbility(u3, 0x41303858)
call IssueTargetOrderById(u3, Order_creepthunderbolt, u2)
call UnitApplyTimedLife(u3, 0x42544C46, 2.00)
else
set dmg=800 + I2R(GetHeroStr(u2, true) + GetHeroAgi(u2, true)) * 2.50
set x=GetUnitX(u2)
set y=GetUnitY(u2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewDirtEXNofire.mdx", x, y))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call UnitDamageTarget(u, u2, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 300, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and u3 != u2 then
call UnitDamageTarget(u, u3, dmg * 0.30, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
set str=GetHeroStr(u, false) / 5
set agi=GetHeroAgi(u, false) / 5
call SetHeroStr(u, GetHeroStr(u, false) - str, true)
call SetHeroAgi(u, GetHeroAgi(u, false) - agi, true)
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 12, false, function HeroR45_End)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveInteger(udg_hash, Id, 1, str)
call SaveInteger(udg_hash, Id, 2, agi)
endif
set u=null
set u2=null
set pl=null
set t=null
set t2=null
set ug=null
endfunction
function InitTrig_HeroSkills45 takes nothing returns nothing
set gg_trg_HeroSkills45=CreateTrigger()
call TriggerAddAction(gg_trg_HeroSkills45, function Trig_HeroSkills45_Actions)
endfunction
function HeroE45_Cd takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
call SaveInteger(udg_hash, GetHandleId(u), 23, 0)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
endfunction
function Trig_HeroAttack45_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit u2=GetAttacker()
local unit u3
local player pl=GetOwningPlayer(u2)
local integer n=GetPlayerId(pl) + 1
local integer Id
local real dmg
local real x
local real y
local group ug
local timer t
if LoadInteger(udg_hash, GetHandleId(u2), 20) > 0 and GetUnitTypeId(u2) == 0x4E70626D then
call SaveInteger(udg_hash, GetHandleId(u2), 20, 0)
set x=GetUnitX(u)
set y=GetUnitY(u)
set dmg=40 + udg_ItemBonusDMG[n] * 0.12 + I2R(GetHeroStr(u2, true) + GetHeroAgi(u2, true)) * 0.35
call DestroyEffect(AddSpecialEffect("war3mapImported\\Conflagrate.mdl", x, y))
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 220, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u2, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
endif
if GetUnitAbilityLevel(u2, 0x41303859) > 0 and LoadInteger(udg_hash, GetHandleId(u2), 23) != 1 then
set Id=LoadInteger(udg_hash, GetHandleId(u2), 22)
set Id=Id + 1
if Id >= 7 then
set Id=0
set x=GetUnitX(u2)
set y=GetUnitY(u2)
set u3=CreateUnit(pl, 0x6F303130, x, y, 270)
call UnitApplyTimedLife(u3, 0x42544C46, 2)
set dmg=20 + 20 * I2R(GetUnitAbilityLevel(u2, 0x41303859)) + udg_ItemBonusDMG[n] * 0.20
call SaveReal(udg_hash, GetHandleId(u3), 13, dmg)
call SaveUnitHandle(udg_hash, GetHandleId(u3), 13, u2)
set x=GetUnitX(u)
set y=GetUnitY(u)
call UnitAddAbility(u3, 0x4130385A)
call IssuePointOrderById(u3, Order_carrionswarm, x, y)
endif
call SaveInteger(udg_hash, GetHandleId(u2), 22, Id)
call SaveInteger(udg_hash, GetHandleId(u2), 23, 1)
set t=CreateTimer()
call TimerStart(t, 0.35, false, function HeroE45_Cd)
call SaveUnitHandle(udg_hash, GetHandleId(t), 1, u2)
endif
set u=null
set u2=null
set u3=null
set ug=null
set pl=null
set t=null
endfunction
function InitTrig_HeroAttack45 takes nothing returns nothing
set gg_trg_HeroAttack45=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack45, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg_HeroAttack45, function Trig_HeroAttack45_Actions)
endfunction
function Trig_HeroSkills46_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Bard ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func002C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A56 ) ) then
return false
endif
if ( not ( IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func003C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A57 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func004C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304B33 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func005C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304B38 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func006Func006C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 200.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func006C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304B41 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func007Func006C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 500.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func007C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304B42 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Func008Func005002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills46_Func008Func005002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Bard)) == true )
endfunction
function Trig_HeroSkills46_Func008Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills46_Func008Func005002003001(), Trig_HeroSkills46_Func008Func005002003002())
endfunction
function Trig_HeroSkills46_Func008Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bard, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_HeroSkills46_Func008C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304B35 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills46_Actions takes nothing returns nothing
local unit u
if ( Trig_HeroSkills46_Func002C() ) then
set udg_p=GetUnitLoc(GetSpellTargetUnit())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl", udg_p))
call SetUnitOwner(GetSpellTargetUnit(), GetOwningPlayer(udg_Bard), true)
else
endif
if ( Trig_HeroSkills46_Func003C() ) then
set udg_BardRPoint=GetUnitLoc(udg_Bard)
call StartTimerBJ(udg_BardRTimer, true, 0.50)
call UnitAddAbility(udg_Bard, 0x41304B32)
else
endif
if ( Trig_HeroSkills46_Func004C() ) then
set udg_u=GetSpellTargetUnit()
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ModifyHeroStat(bj_HEROSTAT_INT, udg_u, bj_MODIFYMETHOD_ADD, 1)
call UnitAddAbility(udg_u, 0x41304B34)
call SetUnitAbilityLevel(udg_u, 0x41304B34, GetUnitAbilityLevel(udg_Bard, 0x41304B33))
set u=udg_u
call PolledWait(9.00)
set udg_u=u
call UnitRemoveAbility(udg_u, 0x41304B34)
else
endif
if ( Trig_HeroSkills46_Func005C() ) then
set udg_u=GetSpellTargetUnit()
call UnitAddAbility(udg_u, 0x41304B37)
call SetUnitAbilityLevel(udg_u, 0x41304B37, GetUnitAbilityLevel(udg_Bard, 0x41304B38))
set u=udg_u
call PolledWait(12.00)
set udg_u=u
call UnitRemoveAbility(udg_u, 0x41304B37)
else
endif
if ( Trig_HeroSkills46_Func006C() ) then
set udg_u=GetSpellTargetUnit()
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(udg_u, ( GetUnitLifePercent(udg_u) + 15.00 ))
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Bard))
if ( Trig_HeroSkills46_Func006Func006C() ) then
call SetUnitLife(udg_u , R2I(GetUnitState(udg_u, UNIT_STATE_MAX_LIFE)) + 20)
else
endif
else
endif
if ( Trig_HeroSkills46_Func007C() ) then
set udg_u=GetSpellTargetUnit()
call AddSpecialEffectTargetUnitBJ("origin", udg_u, "Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ModifyHeroStat(bj_HEROSTAT_STR, udg_u, bj_MODIFYMETHOD_ADD, 1)
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Bard))
if ( Trig_HeroSkills46_Func007Func006C() ) then
call ModifyHeroStat(bj_HEROSTAT_STR, udg_u, bj_MODIFYMETHOD_ADD, 1)
else
endif
else
endif
if ( Trig_HeroSkills46_Func008C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Bard))
set udg_dmg=( ( 50.00 * I2R(GetUnitAbilityLevelSwapped(0x41304B35, udg_Bard)) ) + ( udg_ItemBonusDMG[udg_n] * 0.50 ) )
set udg_dmg=( ( udg_ItemBonusDMG[udg_n] * 0.50 ) + ( I2R(( ( GetHeroStr(udg_Bard, true) + GetHeroAgi(udg_Bard, true) ) + GetHeroInt(udg_Bard, true) )) * ( 0.10 + ( 0.10 * I2R(GetUnitAbilityLevel(udg_Bard, 0x41304B35)) ) ) ) )
set udg_p=GetUnitLoc(udg_Bard)
set udg_ug=GetUnitsInRangeOfLocMatching(305.00, udg_p, Condition(function Trig_HeroSkills46_Func008Func005002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills46_Func008Func006A)
call DestroyGroup(udg_ug)
call RemoveLocation(udg_p)
else
endif
set u=null
endfunction
function InitTrig_HeroSkills46 takes nothing returns nothing
set gg_trg_HeroSkills46=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills46, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills46, Condition(function Trig_HeroSkills46_Conditions))
call TriggerAddAction(gg_trg_HeroSkills46, function Trig_HeroSkills46_Actions)
endfunction
function Trig_HeroCheckSkills46_Func003C takes nothing returns boolean
if ( ( GetSpellAbilityId() == 0x41304B33 ) ) then
return true
endif
if ( ( GetSpellAbilityId() == 0x41304B38 ) ) then
return true
endif
if ( ( GetSpellAbilityId() == 0x41304B41 ) ) then
return true
endif
if ( ( GetSpellAbilityId() == 0x41304B42 ) ) then
return true
endif
return false
endfunction
function Trig_HeroCheckSkills46_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Bard ) ) then
return false
endif
if ( not Trig_HeroCheckSkills46_Func003C() ) then
return false
endif
if ( not ( IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(udg_Bard)) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroCheckSkills46_Actions takes nothing returns nothing
call IssueImmediateOrder(udg_Bard, "stop")
endfunction
function InitTrig_HeroCheckSkills46 takes nothing returns nothing
set gg_trg_HeroCheckSkills46=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroCheckSkills46, EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_HeroCheckSkills46, Condition(function Trig_HeroCheckSkills46_Conditions))
call TriggerAddAction(gg_trg_HeroCheckSkills46, function Trig_HeroCheckSkills46_Actions)
endfunction
function Trig_HeroEndSkill46_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Bard ) ) then
return false
endif
return true
endfunction
function Trig_HeroEndSkill46_Func001C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304A57 ) ) then
return false
endif
return true
endfunction
function Trig_HeroEndSkill46_Actions takes nothing returns nothing
if ( Trig_HeroEndSkill46_Func001C() ) then
call PauseTimer(udg_BardRTimer)
call UnitRemoveAbility(udg_Bard, 0x41304B32)
else
endif
endfunction
function InitTrig_HeroEndSkill46 takes nothing returns nothing
set gg_trg_HeroEndSkill46=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroEndSkill46, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_HeroEndSkill46, Condition(function Trig_HeroEndSkill46_Conditions))
call TriggerAddAction(gg_trg_HeroEndSkill46, function Trig_HeroEndSkill46_Actions)
endfunction
function Trig_HeroTimerR46_Func003002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Bard)) == true )
endfunction
function Trig_HeroTimerR46_Func003002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroTimerR46_Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroTimerR46_Func003002003001(), Trig_HeroTimerR46_Func003002003002())
endfunction
function Trig_HeroTimerR46_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bard, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "war3mapImported\\SoulRitual.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Trig_HeroTimerR46_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Bard))
set udg_dmg=( ( 20.00 + ( udg_ItemBonusDMG[udg_n] * 0.10 ) ) + ( I2R(( ( GetHeroStr(udg_Bard, true) + GetHeroAgi(udg_Bard, true) ) + GetHeroInt(udg_Bard, true) )) * 0.30 ) )
set udg_ug=GetUnitsInRangeOfLocMatching(2000.00, udg_BardRPoint, Condition(function Trig_HeroTimerR46_Func003002003))
set udg_ug=GetRandomSubGroup(8, udg_ug)
call ForGroupBJ(udg_ug, function Trig_HeroTimerR46_Func005A)
call DestroyGroup(udg_ug)
endfunction
function InitTrig_HeroTimerR46 takes nothing returns nothing
set gg_trg_HeroTimerR46=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroTimerR46, udg_BardRTimer)
call TriggerAddAction(gg_trg_HeroTimerR46, function Trig_HeroTimerR46_Actions)
endfunction
function Trig_HeroSkills49_Conditions takes nothing returns boolean
if ( not ( GetSpellAbilityUnit() == udg_Silver ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills49_Func002Func004002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills49_Func002Func004002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Silver)) == true )
endfunction
function Trig_HeroSkills49_Func002Func004002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills49_Func002Func004002003001(), Trig_HeroSkills49_Func002Func004002003002())
endfunction
function Trig_HeroSkills49_Func002Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Silver, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call SetUnitManaBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) - ( udg_dmg * 0.75 ) ))
call SetUnitLifeBJ(udg_Silver, ( GetUnitState(udg_Silver, UNIT_STATE_LIFE) + ( udg_dmg * 0.10 ) ))
endfunction
function Trig_HeroSkills49_Func002Func007002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroSkills49_Func002Func007002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Silver)) == true )
endfunction
function Trig_HeroSkills49_Func002Func007002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroSkills49_Func002Func007002003001(), Trig_HeroSkills49_Func002Func007002003002())
endfunction
function Trig_HeroSkills49_Func002Func008A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Silver, GetEnumUnit(), ( udg_dmg * 0.50 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call SetUnitManaBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) - ( udg_dmg * 0.38 ) ))
call SetUnitLifeBJ(udg_Silver, ( GetUnitState(udg_Silver, UNIT_STATE_LIFE) + ( udg_dmg * 0.05 ) ))
endfunction
function Trig_HeroSkills49_Func002C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304F41 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills49_Func003C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304F46 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills49_Func004C takes nothing returns boolean
if ( not ( GetSpellAbilityId() == 0x41304F47 ) ) then
return false
endif
return true
endfunction
function Trig_HeroSkills49_Actions takes nothing returns nothing
local unit u
if ( Trig_HeroSkills49_Func002C() ) then
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Silver))
set udg_dmg=( ( 40.00 + ( 40.00 * I2R(GetUnitAbilityLevel(udg_Silver, 0x41304F41)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.40 ) )
set udg_p=GetUnitLoc(udg_Silver)
set udg_ug=GetUnitsInRangeOfLocMatching(400.00, udg_p, Condition(function Trig_HeroSkills49_Func002Func004002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills49_Func002Func005A)
call DestroyGroup(udg_ug)
set udg_ug=GetUnitsInRangeOfLocMatching(175.00, udg_p, Condition(function Trig_HeroSkills49_Func002Func007002003))
call ForGroupBJ(udg_ug, function Trig_HeroSkills49_Func002Func008A)
call DestroyGroup(udg_ug)
call RemoveLocation(udg_p)
else
endif
if ( Trig_HeroSkills49_Func003C() ) then
set udg_SilverRCount=22
set udg_SilverPoint[1]=GetUnitLoc(udg_Silver)
call CreateNUnitsAtLoc(1, 0x6F303134, GetOwningPlayer(udg_Silver), udg_SilverPoint[1], bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(11.00, 0x42544C46, GetLastCreatedUnit())
call StartTimerBJ(udg_SilverTimer[1], true, 0.50)
else
endif
if ( Trig_HeroSkills49_Func004C() ) then
set udg_p=GetUnitLoc(udg_Silver)
set udg_SilverPoint[2]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1, 0x6F303234, GetOwningPlayer(udg_Silver), udg_p, GetUnitFacing(udg_Silver))
set udg_SilverWSpirit=GetLastCreatedUnit()
call IssuePointOrderLoc(udg_SilverWSpirit, "move", udg_SilverPoint[2])
call StartTimerBJ(udg_SilverTimer[2], false, ( DistanceBetweenPoints(udg_p, udg_SilverPoint[2]) / 522.00 ))
else
endif
set u=null
endfunction
function InitTrig_HeroSkills49 takes nothing returns nothing
set gg_trg_HeroSkills49=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroSkills49, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroSkills49, Condition(function Trig_HeroSkills49_Conditions))
call TriggerAddAction(gg_trg_HeroSkills49, function Trig_HeroSkills49_Actions)
endfunction
function Trig_HeroTimerR49_Func004002003001 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Silver)) == true )
endfunction
function Trig_HeroTimerR49_Func004002003002 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroTimerR49_Func004002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroTimerR49_Func004002003001(), Trig_HeroTimerR49_Func004002003002())
endfunction
function Trig_HeroTimerR49_Func005Func001C takes nothing returns boolean
if ( not ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > udg_r ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimerR49_Func005A takes nothing returns nothing
if ( Trig_HeroTimerR49_Func005Func001C() ) then
call UnitDamageTargetBJ(udg_Silver, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call SetUnitLifeBJ(udg_Silver, ( GetUnitState(udg_Silver, UNIT_STATE_LIFE) + ( udg_dmg * 0.10 ) ))
else
endif
endfunction
function Trig_HeroTimerR49_Func008C takes nothing returns boolean
if ( not ( udg_SilverRCount <= 0 ) ) then
return false
endif
return true
endfunction
function Trig_HeroTimerR49_Actions takes nothing returns nothing
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Silver))
set udg_dmg=( 50.00 + ( udg_ItemBonusDMG[udg_n] * 0.20 ) )
set udg_r=GetUnitState(udg_Silver, UNIT_STATE_LIFE)
set udg_ug=GetUnitsInRangeOfLocMatching(400.00, udg_SilverPoint[1], Condition(function Trig_HeroTimerR49_Func004002003))
call ForGroupBJ(udg_ug, function Trig_HeroTimerR49_Func005A)
call DestroyGroup(udg_ug)
set udg_SilverRCount=( udg_SilverRCount - 1 )
if ( Trig_HeroTimerR49_Func008C() ) then
call PauseTimer(udg_SilverTimer[1])
else
endif
endfunction
function InitTrig_HeroTimerR49 takes nothing returns nothing
set gg_trg_HeroTimerR49=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroTimerR49, udg_SilverTimer[1])
call TriggerAddAction(gg_trg_HeroTimerR49, function Trig_HeroTimerR49_Actions)
endfunction
function Trig_HeroTimerW49_Actions takes nothing returns nothing
call RemoveUnit(udg_SilverWSpirit)
call SetUnitPositionLoc(udg_Silver, udg_SilverPoint[2])
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", udg_SilverPoint[2]))
call UnitAddAbility(udg_Silver, 0x41304F49)
call UnitAddAbility(udg_Silver, 0x41304F48)
set udg_n=GetUnitAbilityLevel(udg_Silver, 0x41304F47)
call SetUnitAbilityLevel(udg_Silver, 0x41304F49, udg_n)
call SetUnitAbilityLevel(udg_Silver, 0x41304F48, udg_n)
call PolledWait(8.00)
call UnitRemoveAbility(udg_Silver, 0x41304F49)
call UnitRemoveAbility(udg_Silver, 0x41304F48)
call UnitRemoveBuffBJ(0x42303251, udg_Silver)
endfunction
function InitTrig_HeroTimerW49 takes nothing returns nothing
set gg_trg_HeroTimerW49=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_HeroTimerW49, udg_SilverTimer[2])
call TriggerAddAction(gg_trg_HeroTimerW49, function Trig_HeroTimerW49_Actions)
endfunction
function Trig_HeroKills49_Conditions takes nothing returns boolean
if ( not ( GetKillingUnitBJ() == udg_Silver ) ) then
return false
endif
if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) ) then
return false
endif
if ( not ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(udg_Silver)) == true ) ) then
return false
endif
return true
endfunction
function Trig_HeroKills49_Actions takes nothing returns nothing
set udg_n=GetUnitAbilityLevel(udg_Silver, 0x41304F44)
call SetUnitAbilityLevel(udg_Silver, 0x41304F44, ( udg_n + 1 ))
endfunction
function InitTrig_HeroKills49 takes nothing returns nothing
set gg_trg_HeroKills49=CreateTrigger()
call DisableTrigger(gg_trg_HeroKills49)
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroKills49, EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroKills49, Condition(function Trig_HeroKills49_Conditions))
call TriggerAddAction(gg_trg_HeroKills49, function Trig_HeroKills49_Actions)
endfunction
function Trig_HeroAttack49_Conditions takes nothing returns boolean
if ( not ( GetAttacker() == udg_Silver ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack49_Func003Func005002003001 takes nothing returns boolean
return ( IsUnitDeadBJ(GetFilterUnit()) == false )
endfunction
function Trig_HeroAttack49_Func003Func005002003002 takes nothing returns boolean
return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Silver)) == true )
endfunction
function Trig_HeroAttack49_Func003Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_HeroAttack49_Func003Func005002003001(), Trig_HeroAttack49_Func003Func005002003002())
endfunction
function Trig_HeroAttack49_Func003Func006C takes nothing returns boolean
if ( not ( udg_ItemBonusDMG[udg_n] >= 500.00 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack49_Func003Func007A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_Silver, GetEnumUnit(), udg_dmg, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
call SetUnitLifeBJ(udg_Silver, ( GetUnitState(udg_Silver, UNIT_STATE_LIFE) + ( udg_dmg * 0.10 ) ))
endfunction
function Trig_HeroAttack49_Func003C takes nothing returns boolean
if ( not ( GetUnitAbilityLevel(udg_Silver, 0x41304F45) >= 1 ) ) then
return false
endif
return true
endfunction
function Trig_HeroAttack49_Actions takes nothing returns nothing
if ( Trig_HeroAttack49_Func003C() ) then
call DisableTrigger(GetTriggeringTrigger())
set udg_n=GetConvertedPlayerId(GetOwningPlayer(udg_Silver))
set udg_dmg=( ( 20.00 + ( 20.00 * I2R(GetUnitAbilityLevel(udg_Silver, 0x41304F45)) ) ) + ( udg_ItemBonusDMG[udg_n] * 0.20 ) )
set udg_p=GetUnitLoc(GetAttackedUnitBJ())
set udg_ug=GetUnitsInRangeOfLocMatching(250.00, udg_p, Condition(function Trig_HeroAttack49_Func003Func005002003))
if ( Trig_HeroAttack49_Func003Func006C() ) then
set udg_ug=GetRandomSubGroup(5, udg_ug)
else
set udg_ug=GetRandomSubGroup(3, udg_ug)
endif
call ForGroupBJ(udg_ug, function Trig_HeroAttack49_Func003Func007A)
call DestroyGroup(udg_ug)
call RemoveLocation(udg_p)
call PolledWait(6.00)
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_HeroAttack49 takes nothing returns nothing
set gg_trg_HeroAttack49=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroAttack49, EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HeroAttack49, Condition(function Trig_HeroAttack49_Conditions))
call TriggerAddAction(gg_trg_HeroAttack49, function Trig_HeroAttack49_Actions)
endfunction
function HeroQ51_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41305046
endfunction
function HeroQ51_Move takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local group ug2=CreateGroup()
local integer count=LoadInteger(udg_hash, Id, 1)
local unit u3
local real x=LoadReal(udg_hash, Id, 2)
local real y=LoadReal(udg_hash, Id, 3)
local real ux
local real uy
local real angle
call GroupAddGroup(ug, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
set ux=GetUnitX(u3)
set uy=GetUnitY(u3)
set angle=Atan2(y - uy, x - ux)
if IsUnitType(u3, UNIT_TYPE_HERO) == true then
call SetUnitX(u3, ux + 8. * Cos(angle))
call SetUnitY(u3, uy + 8. * Sin(angle))
else
call SetUnitX(u3, ux + 15. * Cos(angle))
call SetUnitY(u3, uy + 15. * Sin(angle))
endif
call GroupRemoveUnit(ug2, u3)
endloop
call DestroyGroup(ug2)
set count=count - 1
if count > 0 then
call SaveInteger(udg_hash, Id, 1, count)
else
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
call DestroyGroup(ug)
endif
set t=null
set u3=null
set ug=null
set ug2=null
endfunction
function HeroQ51_EndDebuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local group ug=LoadGroupHandle(udg_hash, Id, 1)
local unit u3
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
call UnitRemoveAbility(u3, 0x53303045)
call UnitRemoveAbility(u3, 0x41305047)
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u3=null
set ug=null
endfunction
function Trig_HeroQ51_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer Skill=0x41305046
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real dmg=45 + ( 45 * I2R(lvl) ) + ( udg_ItemBonusDMG[n] * 0.35 )
local location p=GetSpellTargetLoc()
local real x=GetLocationX(p)
local real y=GetLocationY(p)
local group ug=CreateGroup()
local group ug2=CreateGroup()
local timer t=CreateTimer()
local timer t2=CreateTimer()
local integer Id=GetHandleId(t)
local integer Id2=GetHandleId(t2)
set u2=CreateUnit(pl, 0x6F303237, x, y, 270)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call GroupEnumUnitsInRange(ug, x, y, 260, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
if IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false and IsUnitType(u3, UNIT_TYPE_MAGIC_IMMUNE) == false and IsDead(u3) == false then
call GroupAddUnit(ug2, u3)
call UnitAddAbility(u3, 0x53303045)
call UnitAddAbility(u3, 0x41305047)
call SetUnitAbilityLevel(u3, 0x41305047, lvl)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call DestroyGroup(ug)
if udg_ItemBonusDMG[n] >= 400.00 then
call SaveInteger(udg_hash, Id, 1, 20)
call TimerStart(t2, 7, true, function HeroQ51_EndDebuff)
else
call SaveInteger(udg_hash, Id, 1, 15)
call TimerStart(t2, 5, true, function HeroQ51_EndDebuff)
endif
call TimerStart(t, 0.04, true, function HeroQ51_Move)
call SaveGroupHandle(udg_hash, Id, 1, ug2)
call SaveGroupHandle(udg_hash, Id2, 1, ug2)
call SaveReal(udg_hash, Id, 2, x)
call SaveReal(udg_hash, Id, 3, y)
call RemoveLocation(p)
set p=null
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
set ug2=null
set t=null
set t2=null
endfunction
function InitTrig_HeroQ51 takes nothing returns nothing
set gg_trg_HeroQ51=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroQ51, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroQ51, Condition(function HeroQ51_conditions))
call TriggerAddAction(gg_trg_HeroQ51, function Trig_HeroQ51_Actions)
endfunction
function HeroW51_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130504D
endfunction
function HeroW51_Dmg takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer lvl=GetUnitAbilityLevel(u, 0x4130504D)
local real Int=I2R(GetHeroInt(u, true))
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local real x2
local real y2
local group ug=CreateGroup()
local real L=0
local real dmg_cof=LoadReal(udg_hash, Id, 3)
local real dmg=25 + 25 * I2R(lvl) + udg_ItemBonusDMG[n] * 0.18 + Int * 0.6
if dmg_cof == 1.00 or dmg_cof == 2.00 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Flamestrike Starfire I.mdx", x, y))
call GroupEnumUnitsInRange(ug, x, y, 225, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
elseif dmg_cof == 1.25 or dmg_cof == 1.75 then
loop
set L=L + 60
exitwhen L > 360
set x2=x + 300 * Cos(L * bj_DEGTORAD)
set y2=y + 300 * Sin(L * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Flamestrike Starfire I.mdx", x2, y2))
call GroupEnumUnitsInRange(ug, x2, y2, 225, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
endloop
elseif dmg_cof == 1.50 then
loop
set L=L + 36
exitwhen L > 360
set x2=x + 600 * Cos(L * bj_DEGTORAD)
set y2=y + 600 * Sin(L * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Flamestrike Starfire I.mdx", x2, y2))
call GroupEnumUnitsInRange(ug, x2, y2, 225, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
endloop
endif
set dmg_cof=dmg_cof + 0.25
call SaveReal(udg_hash, Id, 3, dmg_cof)
call DestroyGroup(ug)
set ug=null
set t=null
set u=null
set u3=null
set pl=null
endfunction
function HeroW51_Dmg2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer lvl=GetUnitAbilityLevel(u, 0x4130504D)
local real Int=I2R(GetHeroInt(u, true))
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local group ug=CreateGroup()
local group ug2=CreateGroup()
local real dmg=( 0.6 + ( 0.3 * I2R(lvl) ) ) * Int
local real dmg2=4 + 4 * I2R(lvl)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real heal=0
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 710, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(3, ug2)
loop
set u3=FirstOfGroup(ug2)
exitwhen u3 == null
if Int >= 200 then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u3, "origin"))
set heal=heal + dmg2
if IsDead(u3) == false then
set x=GetUnitX(u3)
set y=GetUnitY(u3)
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitAddAbility(u2, 0x41305050)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssueTargetOrder(u2, "purge", u3)
endif
call GroupRemoveUnit(ug2, u3)
endloop
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
call DestroyGroup(ug)
call DestroyGroup(ug2)
set ug=null
set ug2=null
set t=null
set u=null
set u2=null
set u3=null
set pl=null
endfunction
function Trig_HeroW51_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=CreateTimer()
local timer t2=CreateTimer()
local integer Id_u=GetHandleId(u)
local integer Id_t=GetHandleId(t)
local integer Id_t2=GetHandleId(t2)
local location p=GetSpellTargetLoc()
local real x=GetLocationX(p)
local real y=GetLocationY(p)
call SaveTimerHandle(udg_hash, Id_u, 20, t)
call SaveUnitHandle(udg_hash, Id_t, 1, u)
call SaveReal(udg_hash, Id_t, 1, x)
call SaveReal(udg_hash, Id_t, 2, y)
call SaveReal(udg_hash, Id_t, 3, 1)
call TimerStart(t, 1, true, function HeroW51_Dmg)
if udg_ItemBonusDMG[n] >= 1000 then
call SaveTimerHandle(udg_hash, Id_u, 21, t2)
call SaveUnitHandle(udg_hash, Id_t2, 1, u)
call SaveReal(udg_hash, Id_t2, 1, x)
call SaveReal(udg_hash, Id_t2, 2, y)
call TimerStart(t2, 0.4, true, function HeroW51_Dmg2)
endif
call RemoveLocation(p)
set p=null
set u=null
set pl=null
set t=null
set t2=null
endfunction
function InitTrig_HeroW51 takes nothing returns nothing
set gg_trg_HeroW51=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroW51, EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_HeroW51, Condition(function HeroW51_conditions))
call TriggerAddAction(gg_trg_HeroW51, function Trig_HeroW51_Actions)
endfunction
function Trig_HeroW51_Stop_Conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130504D
endfunction
function Trig_HeroW51_Stop_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local integer Id=GetHandleId(u)
local timer t=LoadTimerHandle(udg_hash, Id, 20)
local timer t2=LoadTimerHandle(udg_hash, Id, 21)
local integer Id_t=GetHandleId(t)
local integer Id_t2=GetHandleId(t2)
call FlushChildHashtable(udg_hash, Id_t)
call FlushChildHashtable(udg_hash, Id_t2)
call DestroyTimer(t)
call DestroyTimer(t2)
call RemoveSavedHandle(udg_hash, Id, 20)
call RemoveSavedHandle(udg_hash, Id, 21)
set u=null
set t=null
set t2=null
endfunction
function InitTrig_HeroW51_Stop takes nothing returns nothing
set gg_trg_HeroW51_Stop=CreateTrigger()
call TriggerAddCondition(gg_trg_HeroW51_Stop, Condition(function Trig_HeroW51_Stop_Conditions))
call TriggerAddAction(gg_trg_HeroW51_Stop, function Trig_HeroW51_Stop_Actions)
endfunction
function HeroE51_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130504F
endfunction
function Trig_HeroE51_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local integer Skill=0x4130504F
local integer lvl=GetUnitAbilityLevel(u, Skill)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local real Int=I2R(GetHeroInt(u, true))
local real dmg=( 0.6 + ( 0.3 * I2R(lvl) ) ) * Int
local real dmg2=4 + 4 * I2R(lvl)
local real life=GetUnitState(u, UNIT_STATE_LIFE)
local real heal=0
local attacktype a_type
local damagetype d_type
if Int >= 200 then
set a_type=ATTACK_TYPE_CHAOS
set d_type=DAMAGE_TYPE_UNIVERSAL
else
set a_type=ATTACK_TYPE_NORMAL
set d_type=DAMAGE_TYPE_MAGIC
endif
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 325, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, a_type, d_type, WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl", u3, "origin"))
set heal=heal + dmg2
if IsDead(u3) == false then
set x=GetUnitX(u3)
set y=GetUnitY(u3)
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitAddAbility(u2, 0x41305050)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssueTargetOrder(u2, "purge", u3)
endif
endif
call GroupRemoveUnit(ug, u3)
endloop
call SetUnitState(u, UNIT_STATE_LIFE, life + heal)
set u=null
set u2=null
set u3=null
set pl=null
set ug=null
set a_type=null
set d_type=null
endfunction
function InitTrig_HeroE51 takes nothing returns nothing
set gg_trg_HeroE51=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroE51, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroE51, Condition(function HeroE51_conditions))
call TriggerAddAction(gg_trg_HeroE51, function Trig_HeroE51_Actions)
endfunction
function HeroR51_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41305052
endfunction
function HeroR51_Text takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer count=LoadInteger(udg_hash, Id, 1)
local texttag text=LoadTextTagHandle(udg_hash, Id, 2)
call DestroyTextTag(text)
set text=CreateTextTagUnitBJ("|cFF6496FF" + I2S(count), u, 0, 12.00, 255, 255, 255, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
set t=null
set text=null
set u=null
set pl=null
endfunction
function HeroR51_Bonus takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t2=LoadTimerHandle(udg_hash, Id, 2)
local integer Id2=GetHandleId(t2)
local integer Id_u=GetHandleId(u)
local integer count=LoadInteger(udg_hash, Id, 1)
local texttag text
local integer str=GetHeroStr(u, false)
local integer agi=GetHeroAgi(u, false)
local integer int=GetHeroInt(u, false)
local integer int_bonus=0
local integer int_bonus_all=LoadInteger(udg_hash, Id_u, 22)
local real spd_bonus=0
local real spd_bonus_all=LoadReal(udg_hash, Id_u, 23)
set count=count - 1
if count > 5 then
set int_bonus=R2I(udg_ItemBonusDMG[n] * 0.05)
set spd_bonus=I2R(int) * 0.20
set int_bonus_all=int_bonus_all + int_bonus
set spd_bonus_all=spd_bonus_all + spd_bonus
call SetHeroInt(u, int + int_bonus, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] + spd_bonus
call SaveInteger(udg_hash, Id_u, 22, int_bonus_all)
call SaveReal(udg_hash, Id_u, 23, spd_bonus_all)
call SaveInteger(udg_hash, Id, 1, count)
call SaveInteger(udg_hash, Id2, 1, count)
elseif count == 0 then
set text=LoadTextTagHandle(udg_hash, Id2, 2)
call DestroyTextTag(text)
call FlushChildHashtable(udg_hash, Id)
call FlushChildHashtable(udg_hash, Id2)
call DestroyTimer(t)
call DestroyTimer(t2)
call SetHeroInt(u, int - int_bonus_all, true)
set int=GetHeroInt(u, false)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - spd_bonus_all
set int_bonus_all=0
set spd_bonus_all=0
call SaveInteger(udg_hash, Id_u, 22, int_bonus_all)
call SaveReal(udg_hash, Id_u, 23, spd_bonus_all)
if GetUnitTypeId(u) != 0x486A6169 then
call SetHeroStr(u, str - 3, true)
call SetHeroAgi(u, agi - 3, true)
call SetHeroInt(u, int - 3, true)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", u, "origin"))
call SetUnitVertexColor(u, 255, 255, 255, 255)
call DisableTrigger(gg_trg_HeroD51_var3)
else
call SaveInteger(udg_hash, Id, 1, count)
call SaveInteger(udg_hash, Id2, 1, count)
endif
set t=null
set t2=null
set u=null
set pl=null
set text=null
endfunction
function Trig_HeroR51_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local timer t=CreateTimer()
local timer t2=CreateTimer()
local integer Id=GetHandleId(t)
local integer Id2=GetHandleId(t2)
local integer Id_u=GetHandleId(u)
local texttag text=CreateTextTag()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", u, "overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", u, "origin"))
call SetUnitVertexColor(u, 125, 125, 255, 125)
set text=CreateTextTagUnitBJ("|cFF6496FF" + I2S(11), u, 0, 12.00, 255, 255, 255, 0)
call ShowTextTagForceBJ(false, text, bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true, text, GetForceOfPlayer(pl))
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id2, 1, u)
call SaveTextTagHandle(udg_hash, Id2, 2, text)
call SaveTimerHandle(udg_hash, Id, 2, t2)
call SaveInteger(udg_hash, Id, 1, 11)
call SaveInteger(udg_hash, Id2, 1, 11)
call SaveTimerHandle(udg_hash, Id_u, 22, t)
call SaveTimerHandle(udg_hash, Id_u, 23, t2)
call TimerStart(t, 1, true, function HeroR51_Bonus)
call TimerStart(t2, 0.04, true, function HeroR51_Text)
call EnableTrigger(gg_trg_HeroD51_var3)
set text=null
set u=null
set pl=null
set t=null
set t2=null
endfunction
function InitTrig_HeroR51 takes nothing returns nothing
set gg_trg_HeroR51=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroR51, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroR51, Condition(function HeroR51_conditions))
call TriggerAddAction(gg_trg_HeroR51, function Trig_HeroR51_Actions)
endfunction
function HeroD51_var1_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41305048 or GetSpellAbilityId() == 0x41304453
endfunction
function HeroD51_1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u2
local unit u3
local player pl=GetOwningPlayer(u)
local real x=LoadReal(udg_hash, Id, 1)
local real y=LoadReal(udg_hash, Id, 2)
local group ug=CreateGroup()
local group ug2=CreateGroup()
local real dmg=GetUnitState(u, UNIT_STATE_MANA) * 0.12
local integer count=LoadInteger(udg_hash, Id, 1)
set ug=CreateGroup()
set ug2=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 200, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call GroupAddUnit(ug2, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set ug2=GetRandomSubGroup(1, ug2)
set u3=FirstOfGroup(ug2)
set x=GetUnitX(u3)
set y=GetUnitY(u3)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", x, y))
set u2=CreateUnit(pl, 0x6F303130, x, y, 0)
call UnitAddAbility(u2, 0x41304830)
call UnitApplyTimedLife(u2, 0x42544C46, 2)
call IssueTargetOrderById(u2, Order_frostnova, u3)
call GroupRemoveUnit(ug2, u3)
call DestroyGroup(ug)
set ug=CreateGroup()
call GroupEnumUnitsInRange(ug, x, y, 205, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitType(u3, UNIT_TYPE_STRUCTURE) == false then
call UnitDamageTarget(u, u3, dmg, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(ug, u3)
endloop
set count=count - 1
call SaveInteger(udg_hash, Id, 1, count)
if count == 0 then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
call DestroyGroup(ug)
call DestroyGroup(ug2)
set ug=null
set ug2=null
set t=null
set u=null
set u2=null
set u3=null
set pl=null
endfunction
function Trig_HeroD51_var1_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local location p=GetSpellTargetLoc()
local real x=GetLocationX(p)
local real y=GetLocationY(p)
local real ux
local real uy
local real lifetime
local timer t
local integer Id
if udg_ItemBonusDMG[n] >= 500 then
set lifetime=13
else
set lifetime=10
endif
set ux=PolarX(x , 190 , 0)
set uy=PolarY(y , 190 , 0)
set u2=CreateUnit(pl, 0x6F303238, ux, uy, 180)
call SetUnitX(u2, ux)
call SetUnitY(u2, uy)
call UnitApplyTimedLife(u2, 0x42544C46, lifetime)
call SetUnitAnimation(u2, "birth")
set ux=PolarX(x , 190 , 180)
set uy=PolarY(y , 190 , 180)
set u2=CreateUnit(pl, 0x6F303238, ux, uy, 0)
call SetUnitX(u2, ux)
call SetUnitY(u2, uy)
call UnitApplyTimedLife(u2, 0x42544C46, lifetime)
call SetUnitAnimation(u2, "birth")
set ux=PolarX(x , 190 , 270)
set uy=PolarY(y , 190 , 270)
set u2=CreateUnit(pl, 0x6F303238, ux, uy, 90)
call SetUnitX(u2, ux)
call SetUnitY(u2, uy)
call UnitApplyTimedLife(u2, 0x42544C46, lifetime)
call SetUnitAnimation(u2, "birth")
set ux=PolarX(x , 190 , 90)
set uy=PolarY(y , 190 , 90)
set u2=CreateUnit(pl, 0x6F303238, ux, uy, 270)
call SetUnitX(u2, ux)
call SetUnitY(u2, uy)
call UnitApplyTimedLife(u2, 0x42544C46, lifetime)
call SetUnitAnimation(u2, "birth")
if GetUnitTypeId(u) == 0x486A6169 then
set t=CreateTimer()
set Id=GetHandleId(t)
call TimerStart(t, 2.00, true, function HeroD51_1)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveReal(udg_hash, Id, 1, x)
call SaveReal(udg_hash, Id, 2, y)
if lifetime > 10 then
call SaveInteger(udg_hash, Id, 1, 6)
else
call SaveInteger(udg_hash, Id, 1, 5)
endif
endif
call RemoveLocation(p)
set p=null
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroD51_var1 takes nothing returns nothing
set gg_trg_HeroD51_var1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroD51_var1, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroD51_var1, Condition(function HeroD51_var1_conditions))
call TriggerAddAction(gg_trg_HeroD51_var1, function Trig_HeroD51_var1_Actions)
endfunction
function HeroD51_var2_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x4130504A
endfunction
function HeroD51_var2_EndBuff takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local player pl=GetOwningPlayer(u)
local unit u2=LoadUnitHandle(udg_hash, Id, 2)
local integer bonus=LoadInteger(udg_hash, Id, 1)
local integer bonus2=LoadInteger(udg_hash, Id, 2)
local integer int=GetHeroInt(u, false)
local integer int2=GetHeroInt(u2, false)
call SetHeroInt(u, int - bonus, true)
call UnitRemoveAbility(u, 0x4130504B)
if IsUnitEnemy(u2, pl) == false then
call SetHeroInt(u2, int2 - bonus2, true)
call UnitRemoveAbility(u2, 0x4130504B)
else
call SetHeroInt(u2, int2 + bonus, true)
endif
call FlushChildHashtable(udg_hash, Id)
call DestroyTimer(t)
set t=null
set u=null
set pl=null
set u2=null
endfunction
function Trig_HeroD51_var2_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u2=GetSpellTargetUnit()
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer int=GetHeroInt(u, false)
local integer int2=GetHeroInt(u2, false)
local integer bonus=int2 / 2
local integer bonus2=int / 2
local real time
local timer t=CreateTimer()
local integer Id=GetHandleId(t)
if udg_ItemBonusDMG[n] >= 500 then
set time=20
else
set time=15
endif
if IsUnitEnemy(u2, pl) == false then
call SetHeroInt(u, int + bonus, true)
call SetHeroInt(u2, int2 + bonus2, true)
call UnitAddAbility(u, 0x4130504B)
call UnitAddAbility(u2, 0x4130504B)
else
set bonus=int2 / 3
call SetHeroInt(u, int + bonus, true)
call SetHeroInt(u2, int2 - bonus, true)
call UnitAddAbility(u, 0x4130504B)
endif
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveUnitHandle(udg_hash, Id, 2, u2)
call SaveInteger(udg_hash, Id, 1, bonus)
call SaveInteger(udg_hash, Id, 2, bonus2)
call TimerStart(t, time, false, function HeroD51_var2_EndBuff)
set u=null
set u2=null
set pl=null
set t=null
endfunction
function InitTrig_HeroD51_var2 takes nothing returns nothing
set gg_trg_HeroD51_var2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroD51_var2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroD51_var2, Condition(function HeroD51_var2_conditions))
call TriggerAddAction(gg_trg_HeroD51_var2, function Trig_HeroD51_var2_Actions)
endfunction
function HeroD51_var3_conditions takes nothing returns boolean
return GetSpellAbilityId() == 0x41305053
endfunction
function HeroD51_var3_Wave takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer Id=GetHandleId(t)
local real dmg=LoadReal(udg_hash, Id, 1)
local real angle=LoadReal(udg_hash, Id, 2)
local real x=LoadReal(udg_hash, Id, 3)
local real y=LoadReal(udg_hash, Id, 4)
local unit u=LoadUnitHandle(udg_hash, Id, 1)
local unit u3
local group ug_check=LoadGroupHandle(udg_hash, Id, 2)
local group ug=CreateGroup()
local player pl=GetOwningPlayer(u)
local real x2
local real y2
local real range=LoadReal(udg_hash, Id, 5)
local real L=0.00
set range=range + 100
call SaveReal(udg_hash, Id, 5, range)
if range <= 400 then
loop
set L=L + 25
exitwhen L > 75
set x2=x + range * Cos(( L + angle - 50 ) * bj_DEGTORAD)
set y2=y + range * Sin(( L + angle - 50 ) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
call GroupEnumUnitsInRange(ug, x2, y2, 250, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitInGroup(u3, ug_check) != true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(ug_check, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
endloop
elseif range <= 1200 then
loop
set L=L + 15
exitwhen L > 75
set x2=x + range * Cos(( L + angle - 45 ) * bj_DEGTORAD)
set y2=y + range * Sin(( L + angle - 45 ) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
call GroupEnumUnitsInRange(ug, x2, y2, 250, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitInGroup(u3, ug_check) != true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(ug_check, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
endloop
else
loop
set L=L + 11
exitwhen L > 77
set x2=x + range * Cos(( L + angle - 44 ) * bj_DEGTORAD)
set y2=y + range * Sin(( L + angle - 44 ) * bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x2, y2))
call GroupEnumUnitsInRange(ug, x2, y2, 250, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true and IsUnitInGroup(u3, ug_check) != true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(ug_check, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
endloop
endif
if range >= 2000 then
call DestroyGroup(ug_check)
call DestroyTimer(t)
call FlushChildHashtable(udg_hash, Id)
endif
call DestroyGroup(ug)
set t=null
set u=null
set u3=null
set pl=null
set ug=null
set ug_check=null
endfunction
function Trig_HeroD51_var3_Actions takes nothing returns nothing
local unit u=GetSpellAbilityUnit()
local unit u3
local integer Id_u=GetHandleId(u)
local timer t=LoadTimerHandle(udg_hash, Id_u, 22)
local timer t2=LoadTimerHandle(udg_hash, Id_u, 23)
local integer Id=GetHandleId(t)
local integer Id2=GetHandleId(t2)
local player pl=GetOwningPlayer(u)
local integer n=GetPlayerId(pl) + 1
local integer int=GetHeroInt(u, false)
local texttag text
local integer int_bonus_all=LoadInteger(udg_hash, Id_u, 22)
local real spd_bonus_all=LoadReal(udg_hash, Id_u, 23)
local location p=GetSpellTargetLoc()
local real px=GetLocationX(p)
local real py=GetLocationY(p)
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local group ug=CreateGroup()
local group ug_check=CreateGroup()
local real dmg
local real angle
set text=LoadTextTagHandle(udg_hash, Id2, 2)
call DestroyTextTag(text)
call FlushChildHashtable(udg_hash, Id)
call FlushChildHashtable(udg_hash, Id2)
call DestroyTimer(t)
call DestroyTimer(t2)
call SetHeroInt(u, int - int_bonus_all, true)
set udg_ItemBonusDMG[n]=udg_ItemBonusDMG[n] - spd_bonus_all
set int_bonus_all=0
set spd_bonus_all=0
call SaveInteger(udg_hash, Id_u, 22, int_bonus_all)
call SaveReal(udg_hash, Id_u, 23, spd_bonus_all)
call SetUnitVertexColor(u, 255, 255, 255, 255)
set dmg=100 + ( udg_ItemBonusDMG[n] * 0.50 ) + ( int * 2 )
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", x, y))
call GroupEnumUnitsInRange(ug, x, y, 250, null)
loop
set u3=FirstOfGroup(ug)
exitwhen u3 == null
if IsDead(u3) == false and IsUnitEnemy(u3, pl) == true then
call UnitDamageTarget(u, u3, dmg, false, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(ug_check, u3)
endif
call GroupRemoveUnit(ug, u3)
endloop
set angle=bj_RADTODEG * Atan2(py - y, px - x)
set t=CreateTimer()
set Id=GetHandleId(t)
call SaveReal(udg_hash, Id, 1, dmg)
call SaveReal(udg_hash, Id, 2, angle)
call SaveReal(udg_hash, Id, 3, x)
call SaveReal(udg_hash, Id, 4, y)
call SaveUnitHandle(udg_hash, Id, 1, u)
call SaveGroupHandle(udg_hash, Id, 2, ug_check)
call TimerStart(t, 0.07, true, function HeroD51_var3_Wave)
call DisableTrigger(gg_trg_HeroD51_var3)
call RemoveLocation(p)
set p=null
set u=null
set u3=null
call DestroyGroup(ug)
set ug=null
set ug_check=null
set pl=null
set t=null
set t2=null
set text=null
endfunction
function InitTrig_HeroD51_var3 takes nothing returns nothing
set gg_trg_HeroD51_var3=CreateTrigger()
call DisableTrigger(gg_trg_HeroD51_var3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroD51_var3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_HeroD51_var3, Condition(function HeroD51_var3_conditions))
call TriggerAddAction(gg_trg_HeroD51_var3, function Trig_HeroD51_var3_Actions)
endfunction
function InitCustomTriggers takes nothing returns nothing
//Function not found: call InitTrig_globals()
//Function not found: call InitTrig_OrderID()
//Function not found: call InitTrig_Natives()
//Function not found: call InitTrig_LevelSettings()
call InitTrig_Delete()
call InitTrig_Init()
call InitTrig_Init2()
call InitTrig_gold()
call InitTrig_LeavePlayers()
call InitTrig_StartChooseLvl()
call InitTrig_LvlCategories()
call InitTrig_CommonLevelsCategory()
call InitTrig_HardcoreLevelsCategory()
call InitTrig_ChallengeLevelsCategory()
call InitTrig_PreStart()
call InitTrig_Modifiers()
call InitTrig_PreInfo()
call InitTrig_Lvl_1()
call InitTrig_Lvl_2()
call InitTrig_Lvl_3()
call InitTrig_Lvl_4()
call InitTrig_Lvl_5()
call InitTrig_Lvl_6()
call InitTrig_Lvl_7()
call InitTrig_Lvl_8()
call InitTrig_Lvl_9()
call InitTrig_Lvl_11()
call InitTrig_Lvl_12()
call InitTrig_Lvl_13()
call InitTrig_Lvl_15()
call InitTrig_Lvl_16()
call InitTrig_Lvl_21()
call InitTrig_Lvl_22()
call InitTrig_Lvl_23()
call InitTrig_ClearUnusedLevels()
call InitTrig_Tips()
call InitTrig_Multiboard_Inic()
call InitTrig_Refresh()
call InitTrig_Death_Amount_NT()
call InitTrig_Herokills_Amount_NT()
call InitTrig_Kills_Amount_NT()
call InitTrig_Income()
call InitTrig_SIncome()
call InitTrig_IncomeRegister()
call InitTrig_IncomeDestroy()
call InitTrig_ScrollsCreating()
call InitTrig_i()
call InitTrig_mods()
call InitTrig_Change_Gift()
call InitTrig_Complect_Valor()
call InitTrig_Complect_Storm()
call InitTrig_Complect_Abyss()
call InitTrig_Complect_Hell()
call InitTrig_Camera_command()
call InitTrig_clear()
call InitTrig_Pages()
call InitTrig_TakePoints()
call InitTrig_ChangePoints()
call InitTrig_ButtonChangePoints()
call InitTrig_DeadCrystal()
call InitTrig_IMET()
call InitTrig_ISOV()
call InitTrig_ILOD()
call InitTrig_CheckLvl()
call InitTrig_HeroTakeDamage()
call InitTrig_UAttacks()
call InitTrig_USkills()
call InitTrig_UKills()
call InitTrig_IronKnife()
call InitTrig_AllSummon()
call InitTrig_SomeEnemySkills()
call InitTrig_DruidRegen()
call InitTrig_UnitHire()
call InitTrig_Builded()
call InitTrig_Upgrades()
//Function not found: call InitTrig_setAttribute()
call InitTrig_AddStat()
call InitTrig_RemoveStat()
call InitTrig_ChargesConnect()
call InitTrig_SecretGloves()
call InitTrig_SecretChest()
call InitTrig_SecretCrown()
call InitTrig_SecretSword()
call InitTrig_SecretEagle()
call InitTrig_SecretAmulet()
call InitTrig_SecretVelvera()
call InitTrig_SecretGromSekira()
call InitTrig_SecretEthernalNight()
call InitTrig_SecretRoyalEgida()
call InitTrig_SecretSpear()
call InitTrig_SecretSphere()
call InitTrig_SecretSecutor()
call InitTrig_SecretArtAmuletT2()
call InitTrig_SecretPalach()
call InitTrig_SecretAntinomia()
call InitTrig_SecretFlameScepter()
call InitTrig_AlienGrapes()
call InitTrig_TitanGloves()
call InitTrig_T5Necklace()
call InitTrig_T5Shield()
call InitTrig_Scroll1()
call InitTrig_Scroll2()
call InitTrig_Scroll3()
call InitTrig_ItemsUp()
call InitTrig_ItemsUp2()
call InitTrig_ItemsUp3()
call InitTrig_ItemsUp4()
call InitTrig_Mod()
call InitTrig_UseItem()
call InitTrig_ItemAttacksFromHero()
call InitTrig_ItemAttacksToHero()
call InitTrig_TitanRevenge()
call InitTrig_LavaSword()
call InitTrig_FlameScepter()
call InitTrig_ObserverRing()
call InitTrig_RangerBow()
call InitTrig_KnightSword()
call InitTrig_ValorCestus()
call InitTrig_BronzeFist()
call InitTrig_PurgeBlade()
call InitTrig_StormAmulet()
call InitTrig_Excaliburn()
call InitTrig_GromSekira()
call InitTrig_CurseArbalet()
call InitTrig_KillerDagger()
call InitTrig_Gloves()
call InitTrig_BlueSting()
call InitTrig_Velvera()
call InitTrig_ArtSword()
call InitTrig_BloodGloves()
call InitTrig_TitanGlovesDmg()
call InitTrig_BloodyStick()
call InitTrig_RageAxe()
call InitTrig_SeraphimSpear()
call InitTrig_Demolitron()
call InitTrig_ArtSpear()
call InitTrig_FarewellDesire()
call InitTrig_BlueBlade()
call InitTrig_Sulfuras()
call InitTrig_StormAxe()
call InitTrig_StormBlade()
call InitTrig_FrostClaws()
call InitTrig_FrostSword()
call InitTrig_ItemDestructor()
call InitTrig_AbyssComplect1()
call InitTrig_AbyssComplect2()
call InitTrig_FrostArmor()
call InitTrig_StormBoots()
call InitTrig_StormShield()
call InitTrig_DepthShield()
call InitTrig_SaveAmulet()
call InitTrig_SunStone()
call InitTrig_Chests()
call InitTrig_T5ShieldDmg()
call InitTrig_WhiteShield()
call InitTrig_SpearAttacks()
call InitTrig_Every1secSkills()
call InitTrig_Every5secSkills()
call InitTrig_Every60secSkills()
call InitTrig_UseSkills()
call InitTrig_BlueStaff()
call InitTrig_BlueSphere()
call InitTrig_ConstructSphere()
call InitTrig_ForestCrown()
call InitTrig_Pants()
call InitTrig_NewYearGift()
call InitTrig_NewYearGift2()
call InitTrig_NewYearGiftPick()
call InitTrig_Elixir()
call InitTrig_Hammer()
call InitTrig_ShieldOfDeath()
call InitTrig_Spear()
call InitTrig_GrabItem()
//Function not found: call InitTrig_GiveItemsHeroes()
call InitTrig_BossUltimates()
call InitTrig_EnemySkill()
call InitTrig_AllBossesSkillsActivate()
call InitTrig_EnemyHeroDies()
call InitTrig_Move()
call InitTrig_Defeat()
call InitTrig_Win()
call InitTrig_InfinityWaves()
call InitTrig_WeakCreepsUP()
call InitTrig_Exp()
call InitTrig_ExtraEnemyHero()
call InitTrig_EndlessEnemyHeroes()
call InitTrig_PingEnemyHeroes()
call InitTrig_RefreshSpawn1()
call InitTrig_RefreshSpawn2()
call InitTrig_RefreshSpawn3()
call InitTrig_S1()
call InitTrig_SS1()
call InitTrig_SSS1()
call InitTrig_CreateHero1()
call InitTrig_BossDropRune()
call InitTrig_RuneActivate1()
call InitTrig_Hard_S1()
call InitTrig_Hard_SS1()
call InitTrig_Hard_SSS1()
call InitTrig_CreateHero1_Hard()
call InitTrig_S2()
call InitTrig_SS2()
call InitTrig_SSS2()
call InitTrig_CreateHero2_Up()
call InitTrig_CreateHero2_Down()
call InitTrig_Event2()
call InitTrig_MidWay2()
call InitTrig_Hard_S2()
call InitTrig_Hard_SS2()
call InitTrig_Hard_SSS2()
call InitTrig_CreateHero2_Hard_Up()
call InitTrig_CreateHero2_Hard_Down()
call InitTrig_Hard_Event2()
call InitTrig_S3()
call InitTrig_SS3()
call InitTrig_SSS3()
call InitTrig_CreateHero3()
call InitTrig_Event3()
call InitTrig_Hard_S3()
call InitTrig_Hard_SS3()
call InitTrig_Hard_SSS3()
call InitTrig_CreateHero3_Hard()
call InitTrig_SkillBoss3_Hard()
call InitTrig_SkillBoss3_HardSummon()
call InitTrig_Hard_Event3()
call InitTrig_S4()
call InitTrig_SS4()
call InitTrig_SSS4()
call InitTrig_CreateHero4()
call InitTrig_S5()
call InitTrig_SS5()
call InitTrig_SSS5()
call InitTrig_CreateHero5()
call InitTrig_Cube5()
call InitTrig_Hard_S5()
call InitTrig_Hard_SS5()
call InitTrig_Hard_SSS5()
call InitTrig_CreateHero5_Hard()
call InitTrig_S6()
call InitTrig_SS6()
call InitTrig_SSS6()
call InitTrig_CreateHero6()
call InitTrig_Hard_S6()
call InitTrig_Hard_SS6()
call InitTrig_Hard_SSS6()
call InitTrig_CreateHero6_Hard()
call InitTrig_S7()
call InitTrig_SS7()
call InitTrig_SSS7()
call InitTrig_CreateHero7()
call InitTrig_SkillBoss7()
call InitTrig_S8()
call InitTrig_SS8()
call InitTrig_SSS8()
call InitTrig_CreateHero8()
call InitTrig_ExtraEnemyHero_8_lvl()
call InitTrig_Event8()
call InitTrig_WavesEnd()
call InitTrig_EndWaveTimer()
call InitTrig_Wave2()
call InitTrig_Wave3()
call InitTrig_Wave4()
call InitTrig_Wave5()
call InitTrig_Wave6()
call InitTrig_Wave7()
call InitTrig_Wave8()
call InitTrig_Wave9()
call InitTrig_Wave10()
call InitTrig_Wave11()
call InitTrig_Wave12()
call InitTrig_Wave13()
call InitTrig_Wave14()
call InitTrig_Wave15()
call InitTrig_S9()
call InitTrig_SS9()
call InitTrig_SSS9()
call InitTrig_CreateHero9()
call InitTrig_SkillBoss9()
call InitTrig_SkillBoss9_dmg()
call InitTrig_S21()
call InitTrig_SS21()
call InitTrig_SSS21()
call InitTrig_CreateHeroDuo21()
call InitTrig_CreateHero21()
call InitTrig_S22()
call InitTrig_SS22()
call InitTrig_SSS22()
call InitTrig_CreateHero22()
call InitTrig_CreateHero22_extra()
call InitTrig_S23()
call InitTrig_SS23()
call InitTrig_SSS23()
call InitTrig_CreateHero23()
call InitTrig_HeroPick()
call InitTrig_RandomHero()
call InitTrig_RandomHero_Str()
call InitTrig_RandomHero_Agi()
call InitTrig_RandomHero_Int()
call InitTrig_ClearUnusedHeroes()
call InitTrig_DieHero()
call InitTrig_HeroSkills1()
call InitTrig_HeroQ1()
call InitTrig_HeroD1()
call InitTrig_HeroSkills2()
call InitTrig_HeroR2()
call InitTrig_HeroQ2()
call InitTrig_HeroW2()
call InitTrig_HeroE2()
call InitTrig_HeroE2Up()
call InitTrig_HeroDeath2()
call InitTrig_HeroSkills3()
call InitTrig_HeroQ3()
call InitTrig_HeroW3()
call InitTrig_HeroSkills4()
call InitTrig_HeroSkills4_Shotgun()
call InitTrig_HeroGiveSkills4()
call InitTrig_HeroAttack4()
call InitTrig_HeroAttack4_Shotgun()
call InitTrig_HeroKills4()
call InitTrig_HeroSkills5()
call InitTrig_HeroSkills6()
call InitTrig_HeroSkills7()
call InitTrig_HeroSkills8()
call InitTrig_HeroSkills9()
call InitTrig_HeroDeath9()
call InitTrig_HeroSkills10()
call InitTrig_HeroAttack10()
call InitTrig_HeroSkills11()
call InitTrig_HeroKills11()
call InitTrig_HeroAttack11()
call InitTrig_HeroSkills12()
call InitTrig_HeroSkills13()
call InitTrig_HeroSkills14()
call InitTrig_HeroSkills15()
call InitTrig_HeroKills15()
call InitTrig_HeroItems15()
call InitTrig_HeroSkills16()
call InitTrig_HeroD16()
call InitTrig_HeroR16()
call InitTrig_HeroQ16()
call InitTrig_HeroW16()
call InitTrig_HeroW16Up()
call InitTrig_HeroSkills17()
call InitTrig_HeroDeath17()
call InitTrig_HeroSkills18()
call InitTrig_HeroSkills19()
call InitTrig_HeroLvlUp19()
call InitTrig_HeroSkills20()
call InitTrig_HeroDeath20()
call InitTrig_HeroSkills21()
call InitTrig_HeroSkills22()
call InitTrig_HeroAttack22()
call InitTrig_HeroGiveSkills22()
call InitTrig_HeroSkills23()
call InitTrig_HeroW23()
call InitTrig_HeroW23_Stop()
call InitTrig_HeroSkills24()
call InitTrig_HeroSkillCheck24()
call InitTrig_HeroAttack24()
call InitTrig_HeroSkills25()
call InitTrig_HeroKills25()
call InitTrig_HeroSkills26()
call InitTrig_HeroSkills27()
call InitTrig_HeroKills27()
call InitTrig_HeroGiveSkills27()
call InitTrig_HeroSkills28()
call InitTrig_HeroKills28()
call InitTrig_HeroGiveSkills28()
call InitTrig_HeroBuild28()
call InitTrig_HeroSkills29()
call InitTrig_HeroCheckSkills29()
call InitTrig_HeroSkills30()
call InitTrig_HeroSkillE30()
call InitTrig_HeroSkills31()
call InitTrig_HeroSkillR31()
call InitTrig_HeroSkills32()
call InitTrig_HeroSkills33()
call InitTrig_HeroKills33()
call InitTrig_HeroSkills34()
call InitTrig_HeroAttack34()
call InitTrig_HeroSkills35()
call InitTrig_HeroKills35()
call InitTrig_Hero35W()
call InitTrig_Hero35D()
call InitTrig_Hero35DAttack()
call InitTrig_HeroAttack35()
call InitTrig_Hero35Q()
call InitTrig_HeroSkills36()
call InitTrig_HeroAttack36()
call InitTrig_HeroTimerR36()
call InitTrig_HeroSkills37()
call InitTrig_HeroSkills38()
call InitTrig_HeroAttack38()
call InitTrig_HeroD38()
call InitTrig_HeroTimer38_Q()
call InitTrig_HeroTimer38_W()
call InitTrig_HeroTimer38_E()
call InitTrig_HeroKills38()
call InitTrig_HeroSkills39()
call InitTrig_HeroQ39()
call InitTrig_HeroW39()
call InitTrig_HeroTimer39_R_dmg()
call InitTrig_HeroKills39()
call InitTrig_HeroSkills40()
call InitTrig_HeroKills40()
call InitTrig_HeroAttack40()
call InitTrig_HeroAttack40_Alt()
call InitTrig_HeroSkills41()
call InitTrig_HeroSkills42()
call InitTrig_HeroSkills43()
call InitTrig_HeroAttack43()
call InitTrig_HeroKills43()
call InitTrig_HeroSkills44()
call InitTrig_HeroSkillQ44()
call InitTrig_HeroSkillW44()
call InitTrig_HeroGiveSkills44()
call InitTrig_HeroRCheck44()
call InitTrig_HeroSkills45()
call InitTrig_HeroAttack45()
call InitTrig_HeroSkills46()
call InitTrig_HeroCheckSkills46()
call InitTrig_HeroEndSkill46()
call InitTrig_HeroTimerR46()
call InitTrig_HeroSkills49()
call InitTrig_HeroTimerR49()
call InitTrig_HeroTimerW49()
call InitTrig_HeroKills49()
call InitTrig_HeroAttack49()
call InitTrig_HeroQ51()
call InitTrig_HeroW51()
call InitTrig_HeroW51_Stop()
call InitTrig_HeroE51()
call InitTrig_HeroR51()
call InitTrig_HeroD51_var1()
call InitTrig_HeroD51_var2()
call InitTrig_HeroD51_var3()
endfunction
function RunInitializationTriggers takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_Init)
call ConditionalTriggerExecute(gg_trg_Init2)
call ConditionalTriggerExecute(gg_trg_IMET)
call ConditionalTriggerExecute(gg_trg_UKills)
call ConditionalTriggerExecute(gg_trg_HeroD51_var3)
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0), 0)
call ForcePlayerStartLocation(Player(0), 0)
call SetPlayerColor(Player(0), ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0), false)
call SetPlayerController(Player(0), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1), 1)
call ForcePlayerStartLocation(Player(1), 1)
call SetPlayerColor(Player(1), ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1), false)
call SetPlayerController(Player(1), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2), 2)
call ForcePlayerStartLocation(Player(2), 2)
call SetPlayerColor(Player(2), ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2), false)
call SetPlayerController(Player(2), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3), 3)
call ForcePlayerStartLocation(Player(3), 3)
call SetPlayerColor(Player(3), ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3), false)
call SetPlayerController(Player(3), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4), 4)
call ForcePlayerStartLocation(Player(4), 4)
call SetPlayerColor(Player(4), ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4), false)
call SetPlayerController(Player(4), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5), 5)
call ForcePlayerStartLocation(Player(5), 5)
call SetPlayerColor(Player(5), ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5), false)
call SetPlayerController(Player(5), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6), 6)
call ForcePlayerStartLocation(Player(6), 6)
call SetPlayerColor(Player(6), ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6), false)
call SetPlayerController(Player(6), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7), 7)
call ForcePlayerStartLocation(Player(7), 7)
call SetPlayerColor(Player(7), ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7), false)
call SetPlayerController(Player(7), MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8), 8)
call ForcePlayerStartLocation(Player(8), 8)
call SetPlayerColor(Player(8), ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8), RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(8), false)
call SetPlayerController(Player(8), MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(9), 9)
call ForcePlayerStartLocation(Player(9), 9)
call SetPlayerColor(Player(9), ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9), RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(9), false)
call SetPlayerController(Player(9), MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(10), 10)
call ForcePlayerStartLocation(Player(10), 10)
call SetPlayerColor(Player(10), ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10), RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10), false)
call SetPlayerController(Player(10), MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(11), 11)
call ForcePlayerStartLocation(Player(11), 11)
call SetPlayerColor(Player(11), ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11), RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11), false)
call SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0), 0)
call SetPlayerState(Player(0), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(1), 0)
call SetPlayerState(Player(1), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(2), 0)
call SetPlayerState(Player(2), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(3), 0)
call SetPlayerState(Player(3), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(4), 0)
call SetPlayerState(Player(4), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(5), 0)
call SetPlayerState(Player(5), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(6), 0)
call SetPlayerState(Player(6), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(7), 0)
call SetPlayerState(Player(7), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(9), 0)
call SetPlayerState(Player(9), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(0), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(1), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(2), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(3), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(4), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(5), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(7), true)
call SetPlayerAllianceStateAllyBJ(Player(6), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(7), Player(9), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(0), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(1), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(2), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(3), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(4), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(5), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(6), true)
call SetPlayerAllianceStateAllyBJ(Player(9), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(0), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(1), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(2), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(3), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(4), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(5), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(7), true)
call SetPlayerAllianceStateVisionBJ(Player(6), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(7), Player(9), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(0), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(1), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(2), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(3), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(4), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(5), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(6), true)
call SetPlayerAllianceStateVisionBJ(Player(9), Player(7), true)
call SetPlayerTeam(Player(8), 1)
call SetPlayerState(Player(8), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(10), 1)
call SetPlayerState(Player(10), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerTeam(Player(11), 1)
call SetPlayerState(Player(11), PLAYER_STATE_ALLIED_VICTORY, 1)
call SetPlayerAllianceStateAllyBJ(Player(8), Player(10), true)
call SetPlayerAllianceStateAllyBJ(Player(8), Player(11), true)
call SetPlayerAllianceStateAllyBJ(Player(10), Player(8), true)
call SetPlayerAllianceStateAllyBJ(Player(10), Player(11), true)
call SetPlayerAllianceStateAllyBJ(Player(11), Player(8), true)
call SetPlayerAllianceStateAllyBJ(Player(11), Player(10), true)
call SetPlayerAllianceStateVisionBJ(Player(8), Player(10), true)
call SetPlayerAllianceStateVisionBJ(Player(8), Player(11), true)
call SetPlayerAllianceStateVisionBJ(Player(10), Player(8), true)
call SetPlayerAllianceStateVisionBJ(Player(10), Player(11), true)
call SetPlayerAllianceStateVisionBJ(Player(11), Player(8), true)
call SetPlayerAllianceStateVisionBJ(Player(11), Player(10), true)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(0, 7)
call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1, 7)
call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2, 7)
call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3, 7)
call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4, 7)
call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5, 7)
call SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 5, 6, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6, 7)
call SetStartLocPrio(6, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 2, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 3, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 4, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 5, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6, 6, 7, MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7, 7)
call SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 2, 2, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 3, 3, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 4, 4, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 5, 5, MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7, 6, 6, MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
call SetCameraBounds(- 13568.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 13824.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 25856.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 13312.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 13568.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 13312.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 25856.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 13824.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl", "Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl")
call SetWaterBaseColor(0, 128, 128, 255)
call NewSoundEnvironment("Dungeon")
call SetAmbientDaySound("DungeonDay")
call SetAmbientNightSound("DungeonNight")
call SetMapMusic("Music", true, 0)
call InitSounds()
call CreateRegions()
call CreateAllDestructables()
call CreateAllUnits()
call InitBlizzard()

call ExecuteFunc("cjLibw560nbs9b8nse46703948__init")
call ExecuteFunc("setAttribute___Initialization")

call InitGlobals()
call InitCustomTriggers()
call RunInitializationTriggers()
endfunction
function config takes nothing returns nothing
call SetMapName("TRIGSTR_004")
call SetMapDescription("TRIGSTR_006")
call SetPlayers(12)
call SetTeams(12)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0, 12224.0, 12032.0)
call DefineStartLocation(1, 12224.0, 12032.0)
call DefineStartLocation(2, 12224.0, 12032.0)
call DefineStartLocation(3, 12224.0, 12032.0)
call DefineStartLocation(4, 12224.0, 12032.0)
call DefineStartLocation(5, 12224.0, 12032.0)
call DefineStartLocation(6, 12224.0, 12032.0)
call DefineStartLocation(7, 12224.0, 12032.0)
call DefineStartLocation(8, - 4800.0, 4480.0)
call DefineStartLocation(9, - 4800.0, 4480.0)
call DefineStartLocation(10, - 4800.0, 4480.0)
call DefineStartLocation(11, - 4800.0, 4480.0)
call InitCustomPlayerSlots()
call InitCustomTeams()
call InitAllyPriorities()
endfunction



//Struct method generated initializers/callers:

